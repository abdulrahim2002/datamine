Issue_Num,Author_Login,File_Name,Patch_Text,Commit_Message,Commit_Title
1,Olaf Lenz,"['src/java/net/sf/jabref/FileSortTab.java', 'src/java/net/sf/jabref/FileTab.java', 'src/java/net/sf/jabref/JabRefPreferences.java', 'src/java/net/sf/jabref/PrefsDialog3.java', 'src/java/net/sf/jabref/TablePrefsTab.java', 'src/java/net/sf/jabref/export/FileActions.java', 'src/java/net/sf/jabref/gui/ImportInspectionDialog.java', 'src/java/net/sf/jabref/gui/MainTable.java']","@@ -0,0 +1,387 @@
+/*  Copyright (C) 2013 JabRef contributors.
+ This program is free software; you can redistribute it and/or modify
+ it under the terms of the GNU General Public License as published by
+ the Free Software Foundation; either version 2 of the License, or
+ (at your option) any later version.
+
+ This program is distributed in the hope that it will be useful,
+ but WITHOUT ANY WARRANTY; without even the implied warranty of
+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ GNU General Public License for more details.
+
+ You should have received a copy of the GNU General Public License along
+ with this program; if not, write to the Free Software Foundation, Inc.,
+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+ */
+package net.sf.jabref;
+
+import java.awt.*;
+import javax.swing.*;
+
+import com.jgoodies.forms.builder.DefaultFormBuilder;
+import com.jgoodies.forms.layout.FormLayout;
+import java.awt.event.ActionEvent;
+import java.awt.event.ActionListener;
+import java.util.Arrays;
+import java.util.Collections;
+import java.util.ArrayList;
+
+/**
+ * Preference tab for file sorting options.
+ */
+public class FileSortTab extends JPanel implements PrefsTab {
+
+    JabRefPreferences _prefs;
+    JabRefFrame _frame;
+    private JRadioButton saveInOriginalOrder, saveInTableOrder, saveInSpecifiedOrder;
+    private JCheckBox savePriDesc, saveSecDesc, saveTerDesc;
+    private JTextField savePriField, saveSecField, saveTerField;
+    private JComboBox savePriSort, saveSecSort, saveTerSort;
+    private JPanel saveSpecPanel;
+
+    private JRadioButton exportInOriginalOrder, exportInTableOrder, exportInSpecifiedOrder;
+    private JCheckBox exportPriDesc, exportSecDesc, exportTerDesc;
+    private JTextField exportPriField, exportSecField, exportTerField;
+    private JComboBox exportPriSort, exportSecSort, exportTerSort;
+    private JPanel exportSpecPanel;
+
+    public FileSortTab(JabRefFrame frame, JabRefPreferences prefs) {
+        this._prefs = prefs;
+        this._frame = frame;
+        FormLayout layout = new FormLayout(""4dlu, left:pref, 4dlu, fill:pref"", """");
+        DefaultFormBuilder builder = new DefaultFormBuilder(layout);
+        builder.setLeadingColumnOffset(1);
+
+        { // SAVE SORT ORDER
+            // create Components
+            saveInOriginalOrder = new JRadioButton(Globals.lang(""Save entries in their original order""));
+            saveInTableOrder = new JRadioButton(Globals.lang(""Save in current table sort order""));
+            saveInSpecifiedOrder = new JRadioButton(Globals.lang(""Save entries ordered as specified""));
+
+            ButtonGroup bg = new ButtonGroup();
+            bg.add(saveInOriginalOrder);
+            bg.add(saveInTableOrder);
+            bg.add(saveInSpecifiedOrder);
+
+            ActionListener listener = new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    boolean selected = e.getSource() == saveInSpecifiedOrder;
+                    savePriSort.setEnabled(selected);
+                    savePriField.setEnabled(selected);
+                    savePriDesc.setEnabled(selected);
+                    saveSecSort.setEnabled(selected);
+                    saveSecField.setEnabled(selected);
+                    saveSecDesc.setEnabled(selected);
+                    saveTerSort.setEnabled(selected);
+                    saveTerField.setEnabled(selected);
+                    saveTerDesc.setEnabled(selected);
+                }
+            };
+            saveInOriginalOrder.addActionListener(listener);
+            saveInTableOrder.addActionListener(listener);
+            saveInSpecifiedOrder.addActionListener(listener);
+
+            ArrayList<String> v = new ArrayList<String>(Arrays.asList(BibtexFields.getAllFieldNames()));
+            v.add(BibtexFields.KEY_FIELD);
+            Collections.sort(v);
+            Object[] allPlusKey = v.toArray();
+            savePriSort = new JComboBox(allPlusKey);
+            saveSecSort = new JComboBox(allPlusKey);
+            saveTerSort = new JComboBox(allPlusKey);
+
+            savePriField = new JTextField(10);
+            saveSecField = new JTextField(10);
+            saveTerField = new JTextField(10);
+
+            savePriSort.insertItemAt(Globals.lang(""<select>""), 0);
+            saveSecSort.insertItemAt(Globals.lang(""<select>""), 0);
+            saveTerSort.insertItemAt(Globals.lang(""<select>""), 0);
+
+            savePriSort.addActionListener(new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    if (savePriSort.getSelectedIndex() > 0) {
+                        savePriField.setText(savePriSort.getSelectedItem().toString());
+                        savePriSort.setSelectedIndex(0);
+                    }
+                }
+            });
+            saveSecSort.addActionListener(new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    if (saveSecSort.getSelectedIndex() > 0) {
+                        saveSecField.setText(saveSecSort.getSelectedItem().toString());
+                        saveSecSort.setSelectedIndex(0);
+                    }
+                }
+            });
+            saveTerSort.addActionListener(new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    if (saveTerSort.getSelectedIndex() > 0) {
+                        saveTerField.setText(saveTerSort.getSelectedItem().toString());
+                        saveTerSort.setSelectedIndex(0);
+                    }
+                }
+            });
+
+            savePriDesc = new JCheckBox(Globals.lang(""Descending""));
+            saveSecDesc = new JCheckBox(Globals.lang(""Descending""));
+            saveTerDesc = new JCheckBox(Globals.lang(""Descending""));
+
+            // create GUI
+            JLabel lab;
+
+            builder.appendSeparator(Globals.lang(""Save sort order""));
+            builder.append(saveInOriginalOrder, 1);
+            builder.nextLine();
+            builder.append(saveInTableOrder, 1);
+            builder.nextLine();
+            builder.append(saveInSpecifiedOrder, 1);
+            builder.nextLine();
+
+            // Create a new panel with its own FormLayout for these items:
+            FormLayout layout2 = new FormLayout(
+                    ""right:pref, 8dlu, fill:pref, 4dlu, fill:60dlu, 4dlu, left:pref"", """");
+            DefaultFormBuilder builder2 = new DefaultFormBuilder(layout2);
+            lab = new JLabel(Globals.lang(""Primary sort criterion""));
+            builder2.append(lab);
+            builder2.append(savePriSort);
+            builder2.append(savePriField);
+            builder2.append(savePriDesc);
+            builder2.nextLine();
+            lab = new JLabel(Globals.lang(""Secondary sort criterion""));
+            builder2.append(lab);
+            builder2.append(saveSecSort);
+            builder2.append(saveSecField);
+            builder2.append(saveSecDesc);
+            builder2.nextLine();
+            lab = new JLabel(Globals.lang(""Tertiary sort criterion""));
+            builder2.append(lab);
+            builder2.append(saveTerSort);
+            builder2.append(saveTerField);
+            builder2.append(saveTerDesc);
+
+            saveSpecPanel = builder2.getPanel();
+            builder.append(saveSpecPanel);
+            builder.nextLine();
+        }
+
+        { // EXPORT SORT ORDER
+            // create Components
+            exportInOriginalOrder = new JRadioButton(Globals.lang(""Export entries in their original order""));
+            exportInTableOrder = new JRadioButton(Globals.lang(""Export in current table sort order""));
+            exportInSpecifiedOrder = new JRadioButton(Globals.lang(""Export entries ordered as specified""));
+
+            ButtonGroup bg = new ButtonGroup();
+            bg.add(exportInOriginalOrder);
+            bg.add(exportInTableOrder);
+            bg.add(exportInSpecifiedOrder);
+            
+            ActionListener listener = new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    boolean selected = e.getSource() == exportInSpecifiedOrder;
+                    exportPriSort.setEnabled(selected);
+                    exportPriField.setEnabled(selected);
+                    exportPriDesc.setEnabled(selected);
+                    exportSecSort.setEnabled(selected);
+                    exportSecField.setEnabled(selected);
+                    exportSecDesc.setEnabled(selected);
+                    exportTerSort.setEnabled(selected);
+                    exportTerField.setEnabled(selected);
+                    exportTerDesc.setEnabled(selected);
+                }
+            };
+            exportInOriginalOrder.addActionListener(listener);
+            exportInTableOrder.addActionListener(listener);
+            exportInSpecifiedOrder.addActionListener(listener);
+
+            ArrayList<String> v = new ArrayList<String>(Arrays.asList(BibtexFields.getAllFieldNames()));
+            v.add(BibtexFields.KEY_FIELD);
+            Collections.sort(v);
+            Object[] allPlusKey = v.toArray();
+            exportPriSort = new JComboBox(allPlusKey);
+            exportSecSort = new JComboBox(allPlusKey);
+            exportTerSort = new JComboBox(allPlusKey);
+
+            exportPriField = new JTextField(10);
+            exportSecField = new JTextField(10);
+            exportTerField = new JTextField(10);
+
+            exportPriSort.insertItemAt(Globals.lang(""<select>""), 0);
+            exportSecSort.insertItemAt(Globals.lang(""<select>""), 0);
+            exportTerSort.insertItemAt(Globals.lang(""<select>""), 0);
+
+            exportPriSort.addActionListener(new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    if (exportPriSort.getSelectedIndex() > 0) {
+                        exportPriField.setText(exportPriSort.getSelectedItem().toString());
+                        exportPriSort.setSelectedIndex(0);
+                    }
+                }
+            });
+            exportSecSort.addActionListener(new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    if (exportSecSort.getSelectedIndex() > 0) {
+                        exportSecField.setText(exportSecSort.getSelectedItem().toString());
+                        exportSecSort.setSelectedIndex(0);
+                    }
+                }
+            });
+            exportTerSort.addActionListener(new ActionListener() {
+                public void actionPerformed(ActionEvent e) {
+                    if (exportTerSort.getSelectedIndex() > 0) {
+                        exportTerField.setText(exportTerSort.getSelectedItem().toString());
+                        exportTerSort.setSelectedIndex(0);
+                    }
+                }
+            });
+
+            exportPriDesc = new JCheckBox(Globals.lang(""Descending""));
+            exportSecDesc = new JCheckBox(Globals.lang(""Descending""));
+            exportTerDesc = new JCheckBox(Globals.lang(""Descending""));
+
+
+            // create GUI
+            JLabel lab;
+
+            builder.appendSeparator(Globals.lang(""Export sort order""));
+            builder.append(exportInOriginalOrder, 1);
+            builder.nextLine();
+            builder.append(exportInTableOrder, 1);
+            builder.nextLine();
+            builder.append(exportInSpecifiedOrder, 1);
+            builder.nextLine();
+            
+
+            // Create a new panel with its own FormLayout for these items:
+            FormLayout layout2 = new FormLayout(
+                    ""right:pref, 8dlu, fill:pref, 4dlu, fill:60dlu, 4dlu, left:pref"", """");
+            DefaultFormBuilder builder2 = new DefaultFormBuilder(layout2);
+            lab = new JLabel(Globals.lang(""Primary sort criterion""));
+            builder2.append(lab);
+            builder2.append(exportPriSort);
+            builder2.append(exportPriField);
+            builder2.append(exportPriDesc);
+            builder2.nextLine();
+            lab = new JLabel(Globals.lang(""Secondary sort criterion""));
+            builder2.append(lab);
+            builder2.append(exportSecSort);
+            builder2.append(exportSecField);
+            builder2.append(exportSecDesc);
+            builder2.nextLine();
+            lab = new JLabel(Globals.lang(""Tertiary sort criterion""));
+            builder2.append(lab);
+            builder2.append(exportTerSort);
+            builder2.append(exportTerField);
+            builder2.append(exportTerDesc);
+
+            builder.append(builder2.getPanel());
+            builder.nextLine();
+        }
+
+        // COMBINE EVERYTHING
+        JPanel pan = builder.getPanel();
+        pan.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));
+        setLayout(new BorderLayout());
+        add(pan, BorderLayout.CENTER);
+    }
+
+    public void setValues() {
+        if (_prefs.getBoolean(JabRefPreferences.SAVE_IN_ORIGINAL_ORDER)) {
+            saveInOriginalOrder.setSelected(true);
+        } else if (_prefs.getBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER)) {
+            saveInSpecifiedOrder.setSelected(true);
+        } else {
+            saveInTableOrder.setSelected(true);
+        }
+
+        {
+            boolean selected = _prefs.getBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER);
+            savePriSort.setEnabled(selected);
+            savePriField.setEnabled(selected);
+            savePriDesc.setEnabled(selected);
+            saveSecSort.setEnabled(selected);
+            saveSecField.setEnabled(selected);
+            saveSecDesc.setEnabled(selected);
+            saveTerSort.setEnabled(selected);
+            saveTerField.setEnabled(selected);
+            saveTerDesc.setEnabled(selected);
+        }
+
+        savePriField.setText(_prefs.get(JabRefPreferences.SAVE_PRIMARY_SORT_FIELD));
+        saveSecField.setText(_prefs.get(JabRefPreferences.SAVE_SECONDARY_SORT_FIELD));
+        saveTerField.setText(_prefs.get(JabRefPreferences.SAVE_TERTIARY_SORT_FIELD));
+
+        savePriSort.setSelectedIndex(0);
+        saveSecSort.setSelectedIndex(0);
+        saveTerSort.setSelectedIndex(0);
+
+        savePriDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SAVE_PRIMARY_SORT_DESCENDING));
+        saveSecDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SAVE_SECONDARY_SORT_DESCENDING));
+        saveTerDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SAVE_TERTIARY_SORT_DESCENDING));
+
+        if (_prefs.getBoolean(JabRefPreferences.EXPORT_IN_ORIGINAL_ORDER)) {
+            exportInOriginalOrder.setSelected(true);
+        } else if (_prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER)) {
+            exportInSpecifiedOrder.setSelected(true);
+        } else {
+            exportInTableOrder.setSelected(true);
+        }
+
+        {
+            boolean selected = _prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER);
+            exportPriSort.setEnabled(selected);
+            exportPriField.setEnabled(selected);
+            exportPriDesc.setEnabled(selected);
+            exportSecSort.setEnabled(selected);
+            exportSecField.setEnabled(selected);
+            exportSecDesc.setEnabled(selected);
+            exportTerSort.setEnabled(selected);
+            exportTerField.setEnabled(selected);
+            exportTerDesc.setEnabled(selected);
+        }
+
+        exportPriField.setText(_prefs.get(JabRefPreferences.EXPORT_PRIMARY_SORT_FIELD));
+        exportSecField.setText(_prefs.get(JabRefPreferences.EXPORT_SECONDARY_SORT_FIELD));
+        exportTerField.setText(_prefs.get(JabRefPreferences.EXPORT_TERTIARY_SORT_FIELD));
+
+        exportPriSort.setSelectedIndex(0);
+        exportSecSort.setSelectedIndex(0);
+        exportTerSort.setSelectedIndex(0);
+
+        exportPriDesc.setSelected(_prefs.getBoolean(JabRefPreferences.EXPORT_PRIMARY_SORT_DESCENDING));
+        exportSecDesc.setSelected(_prefs.getBoolean(JabRefPreferences.EXPORT_SECONDARY_SORT_DESCENDING));
+        exportTerDesc.setSelected(_prefs.getBoolean(JabRefPreferences.EXPORT_TERTIARY_SORT_DESCENDING));
+    }
+
+    public void storeSettings() {
+        _prefs.putBoolean(JabRefPreferences.SAVE_IN_ORIGINAL_ORDER, saveInOriginalOrder.isSelected());
+        _prefs.putBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER, saveInSpecifiedOrder.isSelected());
+
+        _prefs.putBoolean(JabRefPreferences.SAVE_PRIMARY_SORT_DESCENDING, savePriDesc.isSelected());
+        _prefs.putBoolean(JabRefPreferences.SAVE_SECONDARY_SORT_DESCENDING, saveSecDesc.isSelected());
+        _prefs.putBoolean(JabRefPreferences.SAVE_TERTIARY_SORT_DESCENDING, saveTerDesc.isSelected());
+
+        _prefs.put(JabRefPreferences.SAVE_PRIMARY_SORT_FIELD, savePriField.getText().toLowerCase().trim());
+        _prefs.put(JabRefPreferences.SAVE_SECONDARY_SORT_FIELD, saveSecField.getText().toLowerCase().trim());
+        _prefs.put(JabRefPreferences.SAVE_TERTIARY_SORT_FIELD, saveTerField.getText().toLowerCase().trim());
+
+        _prefs.putBoolean(JabRefPreferences.EXPORT_IN_ORIGINAL_ORDER, exportInOriginalOrder.isSelected());
+        _prefs.putBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER, exportInSpecifiedOrder.isSelected());
+
+        _prefs.putBoolean(JabRefPreferences.EXPORT_PRIMARY_SORT_DESCENDING, exportPriDesc.isSelected());
+        _prefs.putBoolean(JabRefPreferences.EXPORT_SECONDARY_SORT_DESCENDING, exportSecDesc.isSelected());
+        _prefs.putBoolean(JabRefPreferences.EXPORT_TERTIARY_SORT_DESCENDING, exportTerDesc.isSelected());
+
+        _prefs.put(JabRefPreferences.EXPORT_PRIMARY_SORT_FIELD, exportPriField.getText().toLowerCase().trim());
+        _prefs.put(JabRefPreferences.EXPORT_SECONDARY_SORT_FIELD, exportSecField.getText().toLowerCase().trim());
+        _prefs.put(JabRefPreferences.EXPORT_TERTIARY_SORT_FIELD, exportTerField.getText().toLowerCase().trim());
+
+    }
+
+    public boolean readyToClose() {
+        return true;
+    }
+
+    public String getTabName() {
+        return Globals.lang(""File Sorting"");
+    }
+}, @@ -39,8 +39,6 @@
             promptBeforeUsingAutoSave, includeEmptyFields, camelCase, sameColumn;
     private JComboBox valueDelimiter;
     private JRadioButton
-        saveOriginalOrder, saveAuthorOrder, saveTableOrder, saveTitleOrder,
-        exportOriginalOrder, exportAuthorOrder, exportTableOrder, exportTitleOrder,
         resolveStringsStandard, resolveStringsAll;
     private JTextField bracesAroundCapitalsFields, nonWrappableFields,
             doNotResolveStringsFor;
@@ -56,14 +54,6 @@ public FileTab(JabRefFrame frame, JabRefPreferences prefs) {
                 GUIGlobals.getIconUrl(""helpSmall""));
         openLast = new JCheckBox(Globals.lang(""Open last edited databases at startup""));
         backup = new JCheckBox(Globals.lang(""Backup old file when saving""));
-        saveAuthorOrder = new JRadioButton(Globals.lang(""Save ordered by author/editor/year""));
-        exportAuthorOrder = new JRadioButton(Globals.lang(""Export ordered by author/editor/year""));
-        saveOriginalOrder = new JRadioButton(Globals.lang(""Save entries in their original order""));
-        exportOriginalOrder = new JRadioButton(Globals.lang(""Export entries in their original order""));
-        saveTableOrder = new JRadioButton(Globals.lang(""Save in current table sort order""));
-        exportTableOrder = new JRadioButton(Globals.lang(""Export in current table sort order""));
-        saveTitleOrder = new JRadioButton(Globals.lang(""Save entries ordered by title""));
-        exportTitleOrder = new JRadioButton(Globals.lang(""Export entries ordered by title""));
         autoSave = new JCheckBox(Globals.lang(""Autosave""));
         promptBeforeUsingAutoSave = new JCheckBox(Globals.lang(""Prompt before recovering a database from an autosave file""));
         autoSaveInterval = new JSpinner(new SpinnerNumberModel(1, 1, 60, 1));
@@ -73,19 +63,9 @@ public FileTab(JabRefFrame frame, JabRefPreferences prefs) {
         includeEmptyFields = new JCheckBox(Globals.lang(""Include empty fields""));
         sameColumn = new JCheckBox(Globals.lang(""Start field contents in same column""));
         camelCase = new JCheckBox(Globals.lang(""Use camel case for field names (e.g., \""HowPublished\"" instead of \""howpublished\"")""));
-        ButtonGroup bg = new ButtonGroup();
-        bg.add(saveAuthorOrder);
-        bg.add(saveOriginalOrder);
-        bg.add(saveTableOrder);
-        bg.add(saveTitleOrder);
-        bg = new ButtonGroup();
-        bg.add(exportAuthorOrder);
-        bg.add(exportOriginalOrder);
-        bg.add(exportTableOrder);
-        bg.add(exportTitleOrder);
         resolveStringsAll = new JRadioButton(Globals.lang(""Resolve strings for all fields except"")+"":"");
         resolveStringsStandard = new JRadioButton(Globals.lang(""Resolve strings for standard BibTeX fields only""));
-        bg = new ButtonGroup();
+        ButtonGroup bg = new ButtonGroup();
         bg.add(resolveStringsAll);
         bg.add(resolveStringsStandard);
 
@@ -144,19 +124,6 @@ public void stateChanged(ChangeEvent changeEvent) {
         builder.nextLine();
         builder.append(promptBeforeUsingAutoSave);
         builder.nextLine();
-        builder.appendSeparator(Globals.lang(""Sort order""));
-        builder.append(saveAuthorOrder, 1);
-        builder.append(exportAuthorOrder, 1);
-        builder.nextLine();
-        builder.append(saveTableOrder, 1);
-        builder.append(exportTableOrder, 1);
-        builder.nextLine();
-        builder.append(saveOriginalOrder, 1);
-        builder.append(exportOriginalOrder, 1);
-        builder.nextLine();
-        builder.append(saveTitleOrder, 1);
-        builder.append(exportTitleOrder, 1);
-        builder.nextLine();
         builder.appendSeparator(Globals.lang(""Field saving options""));
         builder.nextLine();
         builder.append(camelCase);
@@ -184,23 +151,7 @@ public void stateChanged(ChangeEvent changeEvent) {
     public void setValues() {
         openLast.setSelected(_prefs.getBoolean(""openLastEdited""));
         backup.setSelected(_prefs.getBoolean(""backup""));
-        if (_prefs.getBoolean(""saveInStandardOrder""))
-            saveAuthorOrder.setSelected(true);
-        else if (_prefs.getBoolean(""saveInOriginalOrder""))
-            saveOriginalOrder.setSelected(true);
-        else if (_prefs.getBoolean(""saveInTitleOrder""))
-            saveTitleOrder.setSelected(true);
-        else
-            saveTableOrder.setSelected(true);
-        if (_prefs.getBoolean(""exportInStandardOrder""))
-            exportAuthorOrder.setSelected(true);
-        else if (_prefs.getBoolean(""exportInOriginalOrder""))
-            exportOriginalOrder.setSelected(true);
-        else if (_prefs.getBoolean(""exportInTitleOrder""))
-            exportTitleOrder.setSelected(true);
-        else
-            exportTableOrder.setSelected(true);
-
+        
         //preserveFormatting.setSelected(_prefs.getBoolean(""preserveFieldFormatting""));
         autoDoubleBraces.setSelected(_prefs.getBoolean(""autoDoubleBraces""));
         resolveStringsAll.setSelected(_prefs.getBoolean(""resolveStringsAllFields""));
@@ -222,12 +173,6 @@ else if (_prefs.getBoolean(""exportInTitleOrder""))
     public void storeSettings() {
         _prefs.putBoolean(""backup"", backup.isSelected());
         _prefs.putBoolean(""openLastEdited"", openLast.isSelected());
-        _prefs.putBoolean(""saveInStandardOrder"", saveAuthorOrder.isSelected());
-        _prefs.putBoolean(""saveInOriginalOrder"", saveOriginalOrder.isSelected());
-        _prefs.putBoolean(""saveInTitleOrder"", saveTitleOrder.isSelected());
-        _prefs.putBoolean(""exportInStandardOrder"", exportAuthorOrder.isSelected());
-        _prefs.putBoolean(""exportInOriginalOrder"", exportOriginalOrder.isSelected());
-        _prefs.putBoolean(""exportInTitleOrder"", exportTitleOrder.isSelected());
         _prefs.putBoolean(""autoDoubleBraces"", autoDoubleBraces.isSelected());
         _prefs.putBoolean(""resolveStringsAllFields"", resolveStringsAll.isSelected());
         _prefs.put(""doNotResolveStringsFor"", doNotResolveStringsFor.getText().trim());, @@ -1,18 +1,18 @@
 /*  Copyright (C) 2003-2012 JabRef contributors.
-    This program is free software; you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation; either version 2 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License along
-    with this program; if not, write to the Free Software Foundation, Inc.,
-    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
-*/
+ This program is free software; you can redistribute it and/or modify
+ it under the terms of the GNU General Public License as published by
+ the Free Software Foundation; either version 2 of the License, or
+ (at your option) any later version.
+
+ This program is distributed in the hope that it will be useful,
+ but WITHOUT ANY WARRANTY; without even the implied warranty of
+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ GNU General Public License for more details.
+
+ You should have received a copy of the GNU General Public License along
+ with this program; if not, write to the Free Software Foundation, Inc.,
+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+ */
 package net.sf.jabref;
 
 import java.awt.Color;
@@ -54,69 +54,84 @@
 
 public class JabRefPreferences {
 
-    public final static String
-        CUSTOM_TYPE_NAME = ""customTypeName_"",
-        CUSTOM_TYPE_REQ = ""customTypeReq_"",
-        CUSTOM_TYPE_OPT = ""customTypeOpt_"",
-        CUSTOM_TYPE_PRIOPT = ""customTypePriOpt_"",
-        CUSTOM_TAB_NAME = ""customTabName_"",
-        CUSTOM_TAB_FIELDS = ""customTabFields_"",
-        EMACS_PATH = ""emacsPath"",
-        EMACS_ADDITIONAL_PARAMETERS = ""emacsParameters"",
-        EMACS_23 = ""emacsUseV23InsertString"",
-        EDIT_GROUP_MEMBERSHIP_MODE = ""groupEditGroupMembershipMode"",
-        
-        PDF_PREVIEW = ""pdfPreview"",
-
-        SHOWONELETTERHEADINGFORICONCOLUMNS = ""showOneLetterHeadingForIconColumns"",
-
-        EDITOR_EMACS_KEYBINDINGS = ""editorEMACSkeyBindings"",
-        EDITOR_EMACS_KEYBINDINGS_REBIND_CA = ""editorEMACSkeyBindingsRebindCA"",
-
-        SHORTEST_TO_COMPLETE = ""shortestToComplete"",
-        AUTOCOMPLETE_FIRSTNAME_MODE = ""autoCompFirstNameMode"",
-        // here are the possible values for _MODE:
-        AUTOCOMPLETE_FIRSTNAME_MODE_BOTH = ""both"",
-        AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_FULL = ""fullOnly"",
-        AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_ABBR = ""abbrOnly"",
-
-        WRITEFIELD_ADDSPACES = ""writeFieldAddSpaces"",
-        WRITEFIELD_CAMELCASENAME = ""writeFieldCamelCase"",
-
-        UPDATE_TIMESTAMP = ""updateTimestamp"";
+    public final static String CUSTOM_TYPE_NAME = ""customTypeName_"",
+            CUSTOM_TYPE_REQ = ""customTypeReq_"",
+            CUSTOM_TYPE_OPT = ""customTypeOpt_"",
+            CUSTOM_TYPE_PRIOPT = ""customTypePriOpt_"",
+            CUSTOM_TAB_NAME = ""customTabName_"",
+            CUSTOM_TAB_FIELDS = ""customTabFields_"",
+            EMACS_PATH = ""emacsPath"",
+            EMACS_ADDITIONAL_PARAMETERS = ""emacsParameters"",
+            EMACS_23 = ""emacsUseV23InsertString"",
+            EDIT_GROUP_MEMBERSHIP_MODE = ""groupEditGroupMembershipMode"",
+            PDF_PREVIEW = ""pdfPreview"",
+            SHOWONELETTERHEADINGFORICONCOLUMNS = ""showOneLetterHeadingForIconColumns"",
+            EDITOR_EMACS_KEYBINDINGS = ""editorEMACSkeyBindings"",
+            EDITOR_EMACS_KEYBINDINGS_REBIND_CA = ""editorEMACSkeyBindingsRebindCA"",
+            SHORTEST_TO_COMPLETE = ""shortestToComplete"",
+            AUTOCOMPLETE_FIRSTNAME_MODE = ""autoCompFirstNameMode"",
+            // here are the possible values for _MODE:
+            AUTOCOMPLETE_FIRSTNAME_MODE_BOTH = ""both"",
+            AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_FULL = ""fullOnly"",
+            AUTOCOMPLETE_FIRSTNAME_MODE_ONLY_ABBR = ""abbrOnly"",
+            WRITEFIELD_ADDSPACES = ""writeFieldAddSpaces"",
+            WRITEFIELD_CAMELCASENAME = ""writeFieldCamelCase"",
+            UPDATE_TIMESTAMP = ""updateTimestamp"",
+            PRIMARY_SORT_FIELD = ""priSort"",
+            PRIMARY_SORT_DESCENDING = ""priDescending"",
+            SECONDARY_SORT_FIELD = ""secSort"",
+            SECONDARY_SORT_DESCENDING = ""secDescending"",
+            TERTIARY_SORT_FIELD = ""terSort"",
+            TERTIARY_SORT_DESCENDING = ""terDescending"",
+            SAVE_IN_ORIGINAL_ORDER = ""saveInOriginalOrder"",
+            SAVE_IN_SPECIFIED_ORDER = ""saveInSpecifiedOrder"",
+            SAVE_PRIMARY_SORT_FIELD = ""savePriSort"",
+            SAVE_PRIMARY_SORT_DESCENDING = ""savePriDescending"",
+            SAVE_SECONDARY_SORT_FIELD = ""saveSecSort"",
+            SAVE_SECONDARY_SORT_DESCENDING = ""saveSecDescending"",
+            SAVE_TERTIARY_SORT_FIELD = ""saveTerSort"",
+            SAVE_TERTIARY_SORT_DESCENDING = ""saveTerDescending"",
+            EXPORT_IN_ORIGINAL_ORDER = ""exportInOriginalOrder"",
+            EXPORT_IN_SPECIFIED_ORDER = ""exportInSpecifiedOrder"",
+            EXPORT_PRIMARY_SORT_FIELD = ""exportPriSort"",
+            EXPORT_PRIMARY_SORT_DESCENDING = ""exportPriDescending"",
+            EXPORT_SECONDARY_SORT_FIELD = ""exportSecSort"",
+            EXPORT_SECONDARY_SORT_DESCENDING = ""exportSecDescending"",
+            EXPORT_TERTIARY_SORT_FIELD = ""exportTerSort"",
+            EXPORT_TERTIARY_SORT_DESCENDING = ""exportTerDescending"";
 
     // This String is used in the encoded list in prefs of external file type
     // modifications, in order to indicate a removed default file type:
     public static final String FILE_TYPE_REMOVED_FLAG = ""REMOVED"";
 
-    private static final char[][] VALUE_DELIMITERS =
-            new char[][]{ {'""', '""'}, {'{', '}'} };
+    private static final char[][] VALUE_DELIMITERS
+            = new char[][]{{'""', '""'}, {'{', '}'}};
 
     public String WRAPPED_USERNAME, MARKING_WITH_NUMBER_PATTERN;
 
     Preferences prefs;
     public HashMap<String, Object> defaults = new HashMap<String, Object>();
-    public HashMap<String, String>
-        keyBinds = new HashMap<String, String>(),
-        defKeyBinds = new HashMap<String, String>();
+    public HashMap<String, String> keyBinds = new HashMap<String, String>(),
+            defKeyBinds = new HashMap<String, String>();
     private HashSet<String> putBracesAroundCapitalsFields = new HashSet<String>(4);
     private HashSet<String> nonWrappableFields = new HashSet<String>(5);
     private static LabelPattern keyPattern;
 
     // Object containing custom export formats:
     public CustomExportList customExports;
 
-    /** Set with all custom {@link net.sf.jabref.imports.ImportFormat}s */
+    /**
+     * Set with all custom {@link net.sf.jabref.imports.ImportFormat}s
+     */
     public CustomImportList customImports;
 
     // Object containing info about customized entry editor tabs.
     private EntryEditorTabList tabList = null;
-
     // Map containing all registered external file types:
     private TreeSet<ExternalFileType> externalFileTypes = new TreeSet<ExternalFileType>();
 
-    public final ExternalFileType HTML_FALLBACK_TYPE =
-            new ExternalFileType(""URL"", ""html"", ""text/html"", """", ""www"");
+    public final ExternalFileType HTML_FALLBACK_TYPE
+            = new ExternalFileType(""URL"", ""html"", ""text/html"", """", ""www"");
 
     // The following field is used as a global variable during the export of a database.
     // By setting this field to the path of the database's default file directory, formatters
@@ -133,69 +148,120 @@
     // The following field is used as a global variable during the export of a database.
     // It is used to hold custom name formatters defined by a custom export filter.
     // It is set before the export starts:
-    public HashMap<String,String> customExportNameFormatters = null;
+    public HashMap<String, String> customExportNameFormatters = null;
 
     // The only instance of this class:
     private static JabRefPreferences singleton = null;
 
     public static JabRefPreferences getInstance() {
-		if (singleton == null)
-			singleton = new JabRefPreferences();
-		return singleton;
-	}
+        if (singleton == null) {
+            singleton = new JabRefPreferences();
+        }
+        return singleton;
+    }
+
+    // Upgrade the preferences for the current version
+    // The old preference is kept in case an old version of JabRef is used with 
+    // these preferences, but it is only used when the new preference does not 
+    // exist
+    private void upgradeOldPreferences() {
+        if (prefs.get(SAVE_IN_SPECIFIED_ORDER, null) == null) {
+            if (prefs.getBoolean(""saveInStandardOrder"", false)) {
+                putBoolean(SAVE_IN_SPECIFIED_ORDER, true);
+                put(SAVE_PRIMARY_SORT_FIELD, ""author"");
+                put(SAVE_SECONDARY_SORT_FIELD, ""editor"");
+                put(SAVE_TERTIARY_SORT_FIELD, ""year"");
+                putBoolean(SAVE_PRIMARY_SORT_DESCENDING, false);
+                putBoolean(SAVE_SECONDARY_SORT_DESCENDING, false);
+                putBoolean(SAVE_TERTIARY_SORT_DESCENDING, false);
+            } else if (prefs.getBoolean(""saveInTitleOrder"", false)) {
+                // saveInTitleOrder => title, author, editor
+                putBoolean(SAVE_IN_SPECIFIED_ORDER, true);
+                put(SAVE_PRIMARY_SORT_FIELD, ""title"");
+                put(SAVE_SECONDARY_SORT_FIELD, ""author"");
+                put(SAVE_TERTIARY_SORT_FIELD, ""editor"");
+                putBoolean(SAVE_PRIMARY_SORT_DESCENDING, false);
+                putBoolean(SAVE_SECONDARY_SORT_DESCENDING, false);
+                putBoolean(SAVE_TERTIARY_SORT_DESCENDING, false);
+            }
+        }
+        
+        if (prefs.get(EXPORT_IN_SPECIFIED_ORDER, null) == null) {
+            if (prefs.getBoolean(""exportInStandardOrder"", false)) {
+                putBoolean(EXPORT_IN_SPECIFIED_ORDER, true);
+                put(EXPORT_PRIMARY_SORT_FIELD, ""author"");
+                put(EXPORT_SECONDARY_SORT_FIELD, ""editor"");
+                put(EXPORT_TERTIARY_SORT_FIELD, ""year"");
+                putBoolean(EXPORT_PRIMARY_SORT_DESCENDING, false);
+                putBoolean(EXPORT_SECONDARY_SORT_DESCENDING, false);
+                putBoolean(EXPORT_TERTIARY_SORT_DESCENDING, false);
+            } else if (prefs.getBoolean(""exportInTitleOrder"", false)) {
+                // exportInTitleOrder => title, author, editor
+                putBoolean(EXPORT_IN_SPECIFIED_ORDER, true);
+                put(EXPORT_PRIMARY_SORT_FIELD, ""title"");
+                put(EXPORT_SECONDARY_SORT_FIELD, ""author"");
+                put(EXPORT_TERTIARY_SORT_FIELD, ""editor"");
+                putBoolean(EXPORT_PRIMARY_SORT_DESCENDING, false);
+                putBoolean(EXPORT_SECONDARY_SORT_DESCENDING, false);
+                putBoolean(EXPORT_TERTIARY_SORT_DESCENDING, false);
+            }
+        }
+    }
 
     // The constructor is made private to enforce this as a singleton class:
     private JabRefPreferences() {
 
         try {
-            if (new File(""jabref.xml"").exists()){
+            if (new File(""jabref.xml"").exists()) {
                 importPreferences(""jabref.xml"");
             }
         } catch (IOException e) {
             Globals.logger(""Could not import preferences from jabref.xml:"" + e.getLocalizedMessage());
         }
-        
+
+        // load user preferences 
         prefs = Preferences.userNodeForPackage(JabRef.class);
-        
+        upgradeOldPreferences();
+
         if (Globals.osName.equals(Globals.MAC)) {
-			//defaults.put(""pdfviewer"", ""/Applications/Preview.app"");
-			//defaults.put(""psviewer"", ""/Applications/Preview.app"");
-			//defaults.put(""htmlviewer"", ""/Applications/Safari.app"");
-        	defaults.put(EMACS_PATH, ""emacsclient"");
-        	defaults.put(EMACS_23, true);
-        	defaults.put(EMACS_ADDITIONAL_PARAMETERS, ""-n -e"");
+            //defaults.put(""pdfviewer"", ""/Applications/Preview.app"");
+            //defaults.put(""psviewer"", ""/Applications/Preview.app"");
+            //defaults.put(""htmlviewer"", ""/Applications/Safari.app"");
+            defaults.put(EMACS_PATH, ""emacsclient"");
+            defaults.put(EMACS_23, true);
+            defaults.put(EMACS_ADDITIONAL_PARAMETERS, ""-n -e"");
             defaults.put(""fontFamily"", ""SansSerif"");
 
-		} else if (Globals.osName.toLowerCase().startsWith(""windows"")) {
-			//defaults.put(""pdfviewer"", ""cmd.exe /c start /b"");
-			//defaults.put(""psviewer"", ""cmd.exe /c start /b"");
-			//defaults.put(""htmlviewer"", ""cmd.exe /c start /b"");
-			defaults.put(""lookAndFeel"", ""com.jgoodies.looks.windows.WindowsLookAndFeel"");
+        } else if (Globals.osName.toLowerCase().startsWith(""windows"")) {
+            //defaults.put(""pdfviewer"", ""cmd.exe /c start /b"");
+            //defaults.put(""psviewer"", ""cmd.exe /c start /b"");
+            //defaults.put(""htmlviewer"", ""cmd.exe /c start /b"");
+            defaults.put(""lookAndFeel"", ""com.jgoodies.looks.windows.WindowsLookAndFeel"");
             defaults.put(""winEdtPath"", ""C:\\Program Files\\WinEdt Team\\WinEdt\\WinEdt.exe"");
             defaults.put(""latexEditorPath"", ""C:\\Program Files\\LEd\\LEd.exe"");
-        	defaults.put(EMACS_PATH, ""emacsclient.exe"");
-        	defaults.put(EMACS_23, true);
-        	defaults.put(EMACS_ADDITIONAL_PARAMETERS, ""-n -e"");
+            defaults.put(EMACS_PATH, ""emacsclient.exe"");
+            defaults.put(EMACS_23, true);
+            defaults.put(EMACS_ADDITIONAL_PARAMETERS, ""-n -e"");
             defaults.put(""fontFamily"", ""Arial"");
 
         } else {
-			//defaults.put(""pdfviewer"", ""evince"");
-			//defaults.put(""psviewer"", ""gv"");
-			//defaults.put(""htmlviewer"", ""firefox"");
-			defaults.put(""lookAndFeel"", ""com.jgoodies.plaf.plastic.Plastic3DLookAndFeel"");
+            //defaults.put(""pdfviewer"", ""evince"");
+            //defaults.put(""psviewer"", ""gv"");
+            //defaults.put(""htmlviewer"", ""firefox"");
+            defaults.put(""lookAndFeel"", ""com.jgoodies.plaf.plastic.Plastic3DLookAndFeel"");
             defaults.put(""fontFamily"", ""SansSerif"");
-            
-        	// linux
-        	defaults.put(EMACS_PATH, ""gnuclient"");
-        	defaults.put(EMACS_23, false);
-        	defaults.put(EMACS_ADDITIONAL_PARAMETERS, ""-batch -eval"");
-		}
-		defaults.put(""useProxy"", Boolean.FALSE);
+
+            // linux
+            defaults.put(EMACS_PATH, ""gnuclient"");
+            defaults.put(EMACS_23, false);
+            defaults.put(EMACS_ADDITIONAL_PARAMETERS, ""-batch -eval"");
+        }
+        defaults.put(""useProxy"", Boolean.FALSE);
         defaults.put(""proxyHostname"", ""my proxy host"");
         defaults.put(""proxyPort"", ""my proxy port"");
         defaults.put(PDF_PREVIEW, Boolean.FALSE);
         defaults.put(""useDefaultLookAndFeel"", Boolean.TRUE);
-        defaults.put(""lyxpipe"", System.getProperty(""user.home"")+File.separator+"".lyx/lyxpipe"");
+        defaults.put(""lyxpipe"", System.getProperty(""user.home"") + File.separator + "".lyx/lyxpipe"");
         defaults.put(""vim"", ""vim"");
         defaults.put(""vimServer"", ""vim"");
         defaults.put(""posX"", new Integer(0));
@@ -215,20 +281,38 @@ private JabRefPreferences() {
         defaults.put(""namesLastOnly"", Boolean.TRUE); // ""Show last names only""
         defaults.put(""language"", ""en"");
         defaults.put(""showShort"", Boolean.TRUE);
-        defaults.put(""priSort"", ""author"");
-        defaults.put(""priDescending"", Boolean.FALSE);
-        defaults.put(""priBinary"", Boolean.FALSE);
-        defaults.put(""secSort"", ""year"");
-        defaults.put(""secDescending"", Boolean.TRUE);
-        defaults.put(""terSort"", ""author"");
-        defaults.put(""terDescending"", Boolean.FALSE);
+
+        // Sorting preferences
+        defaults.put(PRIMARY_SORT_FIELD, ""author"");
+        defaults.put(PRIMARY_SORT_DESCENDING, Boolean.FALSE);
+        defaults.put(SECONDARY_SORT_FIELD, ""year"");
+        defaults.put(SECONDARY_SORT_DESCENDING, Boolean.TRUE);
+        defaults.put(TERTIARY_SORT_FIELD, ""author"");
+        defaults.put(TERTIARY_SORT_DESCENDING, Boolean.FALSE);
+        defaults.put(SAVE_IN_ORIGINAL_ORDER, Boolean.FALSE);
+        defaults.put(SAVE_IN_SPECIFIED_ORDER, Boolean.FALSE);
+        defaults.put(SAVE_PRIMARY_SORT_FIELD, ""bibtexkey"");
+        defaults.put(SAVE_PRIMARY_SORT_DESCENDING, Boolean.FALSE);
+        defaults.put(SAVE_SECONDARY_SORT_FIELD, ""author"");
+        defaults.put(SAVE_SECONDARY_SORT_DESCENDING, Boolean.TRUE);
+        defaults.put(SAVE_TERTIARY_SORT_FIELD, """");
+        defaults.put(SAVE_TERTIARY_SORT_DESCENDING, Boolean.TRUE);
+        defaults.put(EXPORT_IN_ORIGINAL_ORDER, Boolean.FALSE);
+        defaults.put(EXPORT_IN_SPECIFIED_ORDER, Boolean.FALSE);
+        defaults.put(EXPORT_PRIMARY_SORT_FIELD, ""bibtexkey"");
+        defaults.put(EXPORT_PRIMARY_SORT_DESCENDING, Boolean.FALSE);
+        defaults.put(EXPORT_SECONDARY_SORT_FIELD, ""author"");
+        defaults.put(EXPORT_SECONDARY_SORT_DESCENDING, Boolean.TRUE);
+        defaults.put(EXPORT_TERTIARY_SORT_FIELD, """");
+        defaults.put(EXPORT_TERTIARY_SORT_DESCENDING, Boolean.TRUE);
+
         defaults.put(""columnNames"", ""entrytype;author;title;year;journal;owner;timestamp;bibtexkey"");
-        defaults.put(""columnWidths"",""75;280;400;60;100;100;100;100"");
-        defaults.put(PersistenceTableColumnListener.ACTIVATE_PREF_KEY, 
-        		new Boolean(PersistenceTableColumnListener.DEFAULT_ENABLED));
+        defaults.put(""columnWidths"", ""75;280;400;60;100;100;100;100"");
+        defaults.put(PersistenceTableColumnListener.ACTIVATE_PREF_KEY,
+                new Boolean(PersistenceTableColumnListener.DEFAULT_ENABLED));
         defaults.put(""xmpPrivacyFilters"", ""pdf;timestamp;keywords;owner;note;review"");
         defaults.put(""useXmpPrivacyFilter"", Boolean.FALSE);
-        defaults.put(""numberColWidth"",new Integer(GUIGlobals.NUMBER_COL_LENGTH));
+        defaults.put(""numberColWidth"", new Integer(GUIGlobals.NUMBER_COL_LENGTH));
         defaults.put(""workingDirectory"", System.getProperty(""user.home""));
         defaults.put(""exportWorkingDirectory"", System.getProperty(""user.home""));
         defaults.put(""importWorkingDirectory"", System.getProperty(""user.home""));
@@ -253,12 +337,7 @@ private JabRefPreferences() {
         defaults.put(""searchAll"", Boolean.FALSE);
         defaults.put(""incrementS"", Boolean.FALSE);
         defaults.put(""searchAutoComplete"", Boolean.TRUE);
-        defaults.put(""saveInStandardOrder"", Boolean.TRUE);
-        defaults.put(""saveInOriginalOrder"", Boolean.FALSE);
-        defaults.put(""saveInTitleOrder"", Boolean.FALSE);
-        defaults.put(""exportInStandardOrder"", Boolean.TRUE);
-        defaults.put(""exportInOriginalOrder"", Boolean.FALSE);
-        defaults.put(""exportInTitleOrder"", Boolean.FALSE);
+
         defaults.put(""selectS"", Boolean.FALSE);
         defaults.put(""regExpSearch"", Boolean.TRUE);
         defaults.put(""highLightWords"", Boolean.TRUE);
@@ -284,7 +363,7 @@ private JabRefPreferences() {
         defaults.put(""groupExpandTree"", Boolean.TRUE);
         defaults.put(""groupAutoShow"", Boolean.TRUE);
         defaults.put(""groupAutoHide"", Boolean.TRUE);
-        defaults.put(JabRefPreferences.GROUP_SHOW_NUMBER_OF_ELEMENTS, Boolean.FALSE);
+        defaults.put(GROUP_SHOW_NUMBER_OF_ELEMENTS, Boolean.FALSE);
         defaults.put(""autoAssignGroup"", Boolean.TRUE);
         defaults.put(""groupKeywordSeparator"", "", "");
         defaults.put(EDIT_GROUP_MEMBERSHIP_MODE, Boolean.FALSE);
@@ -298,9 +377,9 @@ private JabRefPreferences() {
         defaults.put(""memoryStickMode"", Boolean.FALSE);
         defaults.put(""renameOnMoveFileToFileDir"", Boolean.TRUE);
 
-    // The general fields stuff is made obsolete by the CUSTOM_TAB_... entries.
-        defaults.put(""generalFields"", ""crossref;keywords;file;doi;url;urldate;""+
-                     ""pdf;comment;owner"");
+        // The general fields stuff is made obsolete by the CUSTOM_TAB_... entries.
+        defaults.put(""generalFields"", ""crossref;keywords;file;doi;url;urldate;""
+                + ""pdf;comment;owner"");
 
         defaults.put(""useCustomIconTheme"", Boolean.FALSE);
         defaults.put(""customIconThemeFile"", ""/home/alver/div/crystaltheme_16/Icons.properties"");
@@ -344,18 +423,18 @@ private JabRefPreferences() {
         defaults.put(""preferUrlDoi"", Boolean.FALSE);
         defaults.put(""fileColumn"", Boolean.TRUE);
         defaults.put(""arxivColumn"", Boolean.FALSE);
-        
+
         defaults.put(SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED, SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY, SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY, SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING, SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_RANKING_COMPACT, SpecialFieldsUtils.PREF_RANKING_COMPACT_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE, SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS, SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS_DEFAULT);
-    	defaults.put(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS, SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS_DEFAULT);
-    	
-    	defaults.put(SHOWONELETTERHEADINGFORICONCOLUMNS, Boolean.FALSE);
-        
+        defaults.put(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS, SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS_DEFAULT);
+
+        defaults.put(SHOWONELETTERHEADINGFORICONCOLUMNS, Boolean.FALSE);
+
         defaults.put(""useOwner"", Boolean.TRUE);
         defaults.put(""overwriteOwner"", Boolean.FALSE);
         defaults.put(""allowTableEditing"", Boolean.FALSE);
@@ -373,49 +452,48 @@ private JabRefPreferences() {
         defaults.put(""previewEnabled"", Boolean.TRUE);
         defaults.put(""activePreview"", 0);
         defaults.put(""preview0"", ""<font face=\""arial\"">""
-                     +""<b><i>\\bibtextype</i><a name=\""\\bibtexkey\"">\\begin{bibtexkey} (\\bibtexkey)</a>""
-                     +""\\end{bibtexkey}</b><br>__NEWLINE__""
-                     +""\\begin{author} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\author}<BR>\\end{author}__NEWLINE__""
-                     +""\\begin{editor} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\editor} ""
-                     +""<i>(\\format[IfPlural(Eds.,Ed.)]{\\editor})</i><BR>\\end{editor}__NEWLINE__""
-                     +""\\begin{title} \\format[HTMLChars]{\\title} \\end{title}<BR>__NEWLINE__""
-                     +""\\begin{chapter} \\format[HTMLChars]{\\chapter}<BR>\\end{chapter}__NEWLINE__""
-                     +""\\begin{journal} <em>\\format[HTMLChars]{\\journal}, </em>\\end{journal}__NEWLINE__""
-                     // Include the booktitle field for @inproceedings, @proceedings, etc.
-                     +""\\begin{booktitle} <em>\\format[HTMLChars]{\\booktitle}, </em>\\end{booktitle}__NEWLINE__""
-                     +""\\begin{school} <em>\\format[HTMLChars]{\\school}, </em>\\end{school}__NEWLINE__""
-                     +""\\begin{institution} <em>\\format[HTMLChars]{\\institution}, </em>\\end{institution}__NEWLINE__""
-                     +""\\begin{publisher} <em>\\format[HTMLChars]{\\publisher}, </em>\\end{publisher}__NEWLINE__""
-                     +""\\begin{year}<b>\\year</b>\\end{year}\\begin{volume}<i>, \\volume</i>\\end{volume}""
-                     +""\\begin{pages}, \\format[FormatPagesForHTML]{\\pages} \\end{pages}__NEWLINE__""
-                     +""\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLChars]{\\abstract} \\end{abstract}__NEWLINE__""
-                     +""\\begin{review}<BR><BR><b>Review: </b> \\format[HTMLChars]{\\review} \\end{review}""
-                     +""</dd>__NEWLINE__<p></p></font>"");
+                + ""<b><i>\\bibtextype</i><a name=\""\\bibtexkey\"">\\begin{bibtexkey} (\\bibtexkey)</a>""
+                + ""\\end{bibtexkey}</b><br>__NEWLINE__""
+                + ""\\begin{author} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\author}<BR>\\end{author}__NEWLINE__""
+                + ""\\begin{editor} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\editor} ""
+                + ""<i>(\\format[IfPlural(Eds.,Ed.)]{\\editor})</i><BR>\\end{editor}__NEWLINE__""
+                + ""\\begin{title} \\format[HTMLChars]{\\title} \\end{title}<BR>__NEWLINE__""
+                + ""\\begin{chapter} \\format[HTMLChars]{\\chapter}<BR>\\end{chapter}__NEWLINE__""
+                + ""\\begin{journal} <em>\\format[HTMLChars]{\\journal}, </em>\\end{journal}__NEWLINE__""
+                // Include the booktitle field for @inproceedings, @proceedings, etc.
+                + ""\\begin{booktitle} <em>\\format[HTMLChars]{\\booktitle}, </em>\\end{booktitle}__NEWLINE__""
+                + ""\\begin{school} <em>\\format[HTMLChars]{\\school}, </em>\\end{school}__NEWLINE__""
+                + ""\\begin{institution} <em>\\format[HTMLChars]{\\institution}, </em>\\end{institution}__NEWLINE__""
+                + ""\\begin{publisher} <em>\\format[HTMLChars]{\\publisher}, </em>\\end{publisher}__NEWLINE__""
+                + ""\\begin{year}<b>\\year</b>\\end{year}\\begin{volume}<i>, \\volume</i>\\end{volume}""
+                + ""\\begin{pages}, \\format[FormatPagesForHTML]{\\pages} \\end{pages}__NEWLINE__""
+                + ""\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLChars]{\\abstract} \\end{abstract}__NEWLINE__""
+                + ""\\begin{review}<BR><BR><b>Review: </b> \\format[HTMLChars]{\\review} \\end{review}""
+                + ""</dd>__NEWLINE__<p></p></font>"");
         defaults.put(""preview1"", ""<font face=\""arial\"">""
-                     +""<b><i>\\bibtextype</i><a name=\""\\bibtexkey\"">\\begin{bibtexkey} (\\bibtexkey)</a>""
-                     +""\\end{bibtexkey}</b><br>__NEWLINE__""
-                     +""\\begin{author} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\author}<BR>\\end{author}__NEWLINE__""
-                     +""\\begin{editor} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\editor} ""
-                     +""<i>(\\format[IfPlural(Eds.,Ed.)]{\\editor})</i><BR>\\end{editor}__NEWLINE__""
-                     +""\\begin{title} \\format[HTMLChars]{\\title} \\end{title}<BR>__NEWLINE__""
-                     +""\\begin{chapter} \\format[HTMLChars]{\\chapter}<BR>\\end{chapter}__NEWLINE__""
-                     +""\\begin{journal} <em>\\format[HTMLChars]{\\journal}, </em>\\end{journal}__NEWLINE__""
-                     // Include the booktitle field for @inproceedings, @proceedings, etc.
-                     +""\\begin{booktitle} <em>\\format[HTMLChars]{\\booktitle}, </em>\\end{booktitle}__NEWLINE__""
-                     +""\\begin{school} <em>\\format[HTMLChars]{\\school}, </em>\\end{school}__NEWLINE__""
-                     +""\\begin{institution} <em>\\format[HTMLChars]{\\institution}, </em>\\end{institution}__NEWLINE__""
-                     +""\\begin{publisher} <em>\\format[HTMLChars]{\\publisher}, </em>\\end{publisher}__NEWLINE__""
-                     +""\\begin{year}<b>\\year</b>\\end{year}\\begin{volume}<i>, \\volume</i>\\end{volume}""
-                     +""\\begin{pages}, \\format[FormatPagesForHTML]{\\pages} \\end{pages}""
-                     +""</dd>__NEWLINE__<p></p></font>"");
-
+                + ""<b><i>\\bibtextype</i><a name=\""\\bibtexkey\"">\\begin{bibtexkey} (\\bibtexkey)</a>""
+                + ""\\end{bibtexkey}</b><br>__NEWLINE__""
+                + ""\\begin{author} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\author}<BR>\\end{author}__NEWLINE__""
+                + ""\\begin{editor} \\format[Authors(LastFirst,Initials,Semicolon,Amp),HTMLChars]{\\editor} ""
+                + ""<i>(\\format[IfPlural(Eds.,Ed.)]{\\editor})</i><BR>\\end{editor}__NEWLINE__""
+                + ""\\begin{title} \\format[HTMLChars]{\\title} \\end{title}<BR>__NEWLINE__""
+                + ""\\begin{chapter} \\format[HTMLChars]{\\chapter}<BR>\\end{chapter}__NEWLINE__""
+                + ""\\begin{journal} <em>\\format[HTMLChars]{\\journal}, </em>\\end{journal}__NEWLINE__""
+                // Include the booktitle field for @inproceedings, @proceedings, etc.
+                + ""\\begin{booktitle} <em>\\format[HTMLChars]{\\booktitle}, </em>\\end{booktitle}__NEWLINE__""
+                + ""\\begin{school} <em>\\format[HTMLChars]{\\school}, </em>\\end{school}__NEWLINE__""
+                + ""\\begin{institution} <em>\\format[HTMLChars]{\\institution}, </em>\\end{institution}__NEWLINE__""
+                + ""\\begin{publisher} <em>\\format[HTMLChars]{\\publisher}, </em>\\end{publisher}__NEWLINE__""
+                + ""\\begin{year}<b>\\year</b>\\end{year}\\begin{volume}<i>, \\volume</i>\\end{volume}""
+                + ""\\begin{pages}, \\format[FormatPagesForHTML]{\\pages} \\end{pages}""
+                + ""</dd>__NEWLINE__<p></p></font>"");
 
         // TODO: Currently not possible to edit this setting:
         defaults.put(""previewPrintButton"", Boolean.FALSE);
         defaults.put(""autoDoubleBraces"", Boolean.FALSE);
         defaults.put(""doNotResolveStringsFor"", ""url"");
         defaults.put(""resolveStringsAllFields"", Boolean.FALSE);
-        defaults.put(""putBracesAroundCapitals"","""");//""title;journal;booktitle;review;abstract"");
+        defaults.put(""putBracesAroundCapitals"", """");//""title;journal;booktitle;review;abstract"");
         defaults.put(""nonWrappableFields"", ""pdf;ps;url;doi;file"");
         defaults.put(""useImportInspectionDialog"", Boolean.TRUE);
         defaults.put(""useImportInspectionDialogForSingle"", Boolean.TRUE);
@@ -486,36 +564,32 @@ private JabRefPreferences() {
         defaults.put(""dbConnectDatabase"", ""jabref"");
         defaults.put(""dbConnectUsername"", ""root"");
         CleanUpAction.putDefaults(defaults);
-        
+
         // defaults for DroppedFileHandler UI
-    	defaults.put(DroppedFileHandler.DFH_LEAVE, Boolean.FALSE);
-    	defaults.put(DroppedFileHandler.DFH_COPY, Boolean.TRUE);
-    	defaults.put(DroppedFileHandler.DFH_MOVE, Boolean.FALSE);
-    	defaults.put(DroppedFileHandler.DFH_RENAME, Boolean.FALSE);
-        
+        defaults.put(DroppedFileHandler.DFH_LEAVE, Boolean.FALSE);
+        defaults.put(DroppedFileHandler.DFH_COPY, Boolean.TRUE);
+        defaults.put(DroppedFileHandler.DFH_MOVE, Boolean.FALSE);
+        defaults.put(DroppedFileHandler.DFH_RENAME, Boolean.FALSE);
+
         //defaults.put(""lastAutodetectedImport"", """");
-        
         //defaults.put(""autoRemoveExactDuplicates"", Boolean.FALSE);
         //defaults.put(""confirmAutoRemoveExactDuplicates"", Boolean.TRUE);
-        
         //defaults.put(""tempDir"", System.getProperty(""java.io.tmpdir""));
         //Util.pr(System.getProperty(""java.io.tempdir""));
-
         //defaults.put(""keyPattern"", new LabelPattern(KEY_PATTERN));
-        
         defaults.put(ImportSettingsTab.PREF_IMPORT_ALWAYSUSE, Boolean.FALSE);
         defaults.put(ImportSettingsTab.PREF_IMPORT_DEFAULT_PDF_IMPORT_STYLE, ImportSettingsTab.DEFAULT_STYLE);
         defaults.put(ImportSettingsTab.PREF_IMPORT_FILENAMEPATTERN, ImportSettingsTab.DEFAULT_FILENAMEPATTERNS[0]);
-        
+
         restoreKeyBindings();
 
         customExports = new CustomExportList(new ExportComparator());
         customImports = new CustomImportList(this);
 
         //defaults.put(""oooWarning"", Boolean.TRUE);
         updateSpecialFieldHandling();
-        WRAPPED_USERNAME = ""[""+get(""defaultOwner"")+""]"";
-        MARKING_WITH_NUMBER_PATTERN = ""\\[""+get(""defaultOwner"").replaceAll(""\\\\"",""\\\\\\\\"")+"":(\\d+)\\]"";
+        WRAPPED_USERNAME = ""["" + get(""defaultOwner"") + ""]"";
+        MARKING_WITH_NUMBER_PATTERN = ""\\["" + get(""defaultOwner"").replaceAll(""\\\\"", ""\\\\\\\\"") + "":(\\d+)\\]"";
 
         String defaultExpression = ""**/.*[bibtexkey].*\\\\.[extension]"";
         defaults.put(DEFAULT_REG_EXP_SEARCH_EXPRESSION_KEY, defaultExpression);
@@ -526,47 +600,45 @@ private JabRefPreferences() {
         defaults.put(""useCaseKeeperOnSearch"", Boolean.TRUE);
         defaults.put(""useUnitFormatterOnSearch"", Boolean.TRUE);
 
-	defaults.put(""userFileDir"", GUIGlobals.FILE_FIELD + ""Directory"");
-	try {
-	    defaults.put(""userFileDirInd_Legacy"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner"") + ""@"" + InetAddress.getLocalHost().getHostName()); // Legacy setting name - was a bug: @ not allowed inside BibTeX comment text. Retained for backward comp.
-	    defaults.put(""userFileDirIndividual"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner"") + ""-"" + InetAddress.getLocalHost().getHostName()); // Valid setting name
-	}
-	catch(UnknownHostException ex) {
-	    Globals.logger(""Hostname not found."");
-	    defaults.put(""userFileDirInd_Legacy"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner""));
-	    defaults.put(""userFileDirIndividual"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner""));
-	}
+        defaults.put(""userFileDir"", GUIGlobals.FILE_FIELD + ""Directory"");
+        try {
+            defaults.put(""userFileDirInd_Legacy"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner"") + ""@"" + InetAddress.getLocalHost().getHostName()); // Legacy setting name - was a bug: @ not allowed inside BibTeX comment text. Retained for backward comp.
+            defaults.put(""userFileDirIndividual"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner"") + ""-"" + InetAddress.getLocalHost().getHostName()); // Valid setting name
+        } catch (UnknownHostException ex) {
+            Globals.logger(""Hostname not found."");
+            defaults.put(""userFileDirInd_Legacy"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner""));
+            defaults.put(""userFileDirIndividual"", GUIGlobals.FILE_FIELD + ""Directory"" + ""-"" + get(""defaultOwner""));
+        }
     }
 
     public void setLanguageDependentDefaultValues() {
 
         // Entry editor tab 0:
-        defaults.put(CUSTOM_TAB_NAME+""_def0"", Globals.lang(""General""));
-            defaults.put(CUSTOM_TAB_FIELDS+""_def0"", ""crossref;keywords;file;doi;url;""+
-                         ""comment;owner;timestamp"");
+        defaults.put(CUSTOM_TAB_NAME + ""_def0"", Globals.lang(""General""));
+        defaults.put(CUSTOM_TAB_FIELDS + ""_def0"", ""crossref;keywords;file;doi;url;""
+                + ""comment;owner;timestamp"");
 
         // Entry editor tab 1:
-            defaults.put(CUSTOM_TAB_FIELDS+""_def1"", ""abstract"");
-        defaults.put(CUSTOM_TAB_NAME+""_def1"", Globals.lang(""Abstract""));
+        defaults.put(CUSTOM_TAB_FIELDS + ""_def1"", ""abstract"");
+        defaults.put(CUSTOM_TAB_NAME + ""_def1"", Globals.lang(""Abstract""));
 
-      // Entry editor tab 2: Review Field - used for research comments, etc.
-            defaults.put(CUSTOM_TAB_FIELDS+""_def2"", ""review"");
-        defaults.put(CUSTOM_TAB_NAME+""_def2"", Globals.lang(""Review""));
+        // Entry editor tab 2: Review Field - used for research comments, etc.
+        defaults.put(CUSTOM_TAB_FIELDS + ""_def2"", ""review"");
+        defaults.put(CUSTOM_TAB_NAME + ""_def2"", Globals.lang(""Review""));
 
     }
-    
+
     public static final String DEFAULT_REG_EXP_SEARCH_EXPRESSION_KEY = ""defaultRegExpSearchExpression"";
     public static final String REG_EXP_SEARCH_EXPRESSION_KEY = ""regExpSearchExpression"";
     public static final String USE_REG_EXP_SEARCH_KEY = ""useRegExpSearch"";
     public static final String AUTOLINK_EXACT_KEY_ONLY = ""autolinkExactKeyOnly"";
 
-	public static final String EMAIL_SUBJECT = ""emailSubject"";
-	public static final String OPEN_FOLDERS_OF_ATTACHED_FILES = ""openFoldersOfAttachedFiles"";
+    public static final String EMAIL_SUBJECT = ""emailSubject"";
+    public static final String OPEN_FOLDERS_OF_ATTACHED_FILES = ""openFoldersOfAttachedFiles"";
 
     public static final String GROUP_SHOW_NUMBER_OF_ELEMENTS = ""groupShowNumberOfElements"";
 
-
-	public boolean putBracesAroundCapitals(String fieldName) {
+    public boolean putBracesAroundCapitals(String fieldName) {
         return putBracesAroundCapitalsFields.contains(fieldName);
     }
 
@@ -575,15 +647,17 @@ public void updateSpecialFieldHandling() {
         String fieldString = get(""putBracesAroundCapitals"");
         if (fieldString.length() > 0) {
             String[] fields = fieldString.split("";"");
-            for (int i=0; i<fields.length; i++)
+            for (int i = 0; i < fields.length; i++) {
                 putBracesAroundCapitalsFields.add(fields[i].trim());
+            }
         }
         nonWrappableFields.clear();
         fieldString = get(""nonWrappableFields"");
         if (fieldString.length() > 0) {
             String[] fields = fieldString.split("";"");
-            for (int i=0; i<fields.length; i++)
+            for (int i = 0; i < fields.length; i++) {
                 nonWrappableFields.add(fields[i].trim());
+            }
         }
 
     }
@@ -599,6 +673,7 @@ public char getValueDelimiters(int index) {
 
     /**
      * Check whether a key is set (differently from null).
+     *
      * @param key The key to check.
      * @return true if the key is set, false otherwise.
      */
@@ -607,7 +682,7 @@ public boolean hasKey(String key) {
     }
 
     public String get(String key) {
-        return prefs.get(key, (String)defaults.get(key));
+        return prefs.get(key, (String) defaults.get(key));
     }
 
     public String get(String key, String def) {
@@ -617,35 +692,35 @@ public String get(String key, String def) {
     public boolean getBoolean(String key) {
         return prefs.getBoolean(key, getBooleanDefault(key));
     }
-    
-    public boolean getBooleanDefault(String key){
-        return ((Boolean)defaults.get(key)).booleanValue();
+
+    public boolean getBooleanDefault(String key) {
+        return ((Boolean) defaults.get(key)).booleanValue();
     }
 
     public double getDouble(String key) {
         return prefs.getDouble(key, getDoubleDefault(key));
     }
-    
-    public double getDoubleDefault(String key){
-        return ((Double)defaults.get(key)).doubleValue();
+
+    public double getDoubleDefault(String key) {
+        return ((Double) defaults.get(key)).doubleValue();
     }
 
     public int getInt(String key) {
         return prefs.getInt(key, getIntDefault(key));
     }
 
     public int getIntDefault(String key) {
-        return ((Integer)defaults.get(key)).intValue();
+        return ((Integer) defaults.get(key)).intValue();
     }
-    
+
     public byte[] getByteArray(String key) {
         return prefs.getByteArray(key, getByteArrayDefault(key));
     }
 
-    public byte[] getByteArrayDefault(String key){
-        return (byte[])defaults.get(key);   
+    public byte[] getByteArrayDefault(String key) {
+        return (byte[]) defaults.get(key);
     }
-    
+
     public void put(String key, String value) {
         prefs.put(key, value);
     }
@@ -671,9 +746,9 @@ public void remove(String key) {
     }
 
     /**
-     * Puts a string array into the Preferences, by linking its elements
-     * with ';' into a single string. Escape characters make the process
-     * transparent even if strings contain ';'.
+     * Puts a string array into the Preferences, by linking its elements with
+     * ';' into a single string. Escape characters make the process transparent
+     * even if strings contain ';'.
      */
     public void putStringArray(String key, String[] value) {
         if (value == null) {
@@ -683,11 +758,11 @@ public void putStringArray(String key, String[] value) {
 
         if (value.length > 0) {
             StringBuffer linked = new StringBuffer();
-            for (int i=0; i<value.length-1; i++) {
+            for (int i = 0; i < value.length - 1; i++) {
                 linked.append(makeEscape(value[i]));
                 linked.append("";"");
             }
-            linked.append(makeEscape(value[value.length-1]));
+            linked.append(makeEscape(value[value.length - 1]));
             put(key, linked.toString());
         } else {
             put(key, """");
@@ -699,8 +774,9 @@ public void putStringArray(String key, String[] value) {
      */
     public String[] getStringArray(String key) {
         String names = get(key);
-        if (names == null)
+        if (names == null) {
             return null;
+        }
 
         StringReader rd = new StringReader(names);
         Vector<String> arr = new Vector<String>();
@@ -709,16 +785,19 @@ public void putStringArray(String key, String[] value) {
             while ((rs = getNextUnit(rd)) != null) {
                 arr.add(rs);
             }
-        } catch (IOException ex) {}
+        } catch (IOException ex) {
+        }
         String[] res = new String[arr.size()];
-        for (int i=0; i<res.length; i++)
+        for (int i = 0; i < res.length; i++) {
             res[i] = arr.elementAt(i);
+        }
 
         return res;
     }
 
     /**
      * Looks up a color definition in preferences, and returns the Color object.
+     *
      * @param key The key for this setting.
      * @return The color corresponding to the setting.
      */
@@ -729,14 +808,15 @@ public Color getColor(String key) {
     }
 
     public Color getDefaultColor(String key) {
-        String value = (String)defaults.get(key);
+        String value = (String) defaults.get(key);
         int[] rgb = getRgb(value);
         return new Color(rgb[0], rgb[1], rgb[2]);
     }
 
     /**
      * Set the default value for a key. This is useful for plugins that need to
      * add default values for the prefs keys they use.
+     *
      * @param key The preferences key.
      * @param value The default value.
      */
@@ -746,6 +826,7 @@ public void putDefaultValue(String key, Object value) {
 
     /**
      * Stores a color in preferences.
+     *
      * @param key The key for this setting.
      * @param color The Color to store.
      */
@@ -760,7 +841,9 @@ public void putColor(String key, Color color) {
     }
 
     /**
-     * Looks up a color definition in preferences, and returns an array containing the RGB values.
+     * Looks up a color definition in preferences, and returns an array
+     * containing the RGB values.
+     *
      * @param value The key for this setting.
      * @return The RGB values corresponding to this color setting.
      */
@@ -774,8 +857,8 @@ public void putColor(String key, Color color) {
     }
 
     /**
-     * Returns the KeyStroke for this binding, as defined by the
-     * defaults, or in the Preferences.
+     * Returns the KeyStroke for this binding, as defined by the defaults, or in
+     * the Preferences.
      */
     public KeyStroke getKey(String bindName) {
 
@@ -792,37 +875,39 @@ public KeyStroke getKey(String bindName) {
             keyBinds.put(bindName, s);
         }
         if (s == null) {
-          Globals.logger(""Could not get key binding for \"""" + bindName + ""\"""");
+            Globals.logger(""Could not get key binding for \"""" + bindName + ""\"""");
         }
 
-        if (Globals.ON_MAC)
-          return getKeyForMac(KeyStroke.getKeyStroke(s));
-        else
-          return KeyStroke.getKeyStroke(s);
+        if (Globals.ON_MAC) {
+            return getKeyForMac(KeyStroke.getKeyStroke(s));
+        } else {
+            return KeyStroke.getKeyStroke(s);
+        }
     }
 
     /**
-     * Returns the KeyStroke for this binding, as defined by the
-     * defaults, or in the Preferences, but adapted for Mac users,
-     * with the Command key preferred instead of Control.
+     * Returns the KeyStroke for this binding, as defined by the defaults, or in
+     * the Preferences, but adapted for Mac users, with the Command key
+     * preferred instead of Control.
      */
     private KeyStroke getKeyForMac(KeyStroke ks) {
-      if (ks == null) return null;
-      int keyCode = ks.getKeyCode();
-      if ((ks.getModifiers() & KeyEvent.CTRL_MASK) == 0) {
-        return ks;
-      }
-      else {
-    	int modifiers = 0;
-        if ((ks.getModifiers() & KeyEvent.SHIFT_MASK) != 0) {
-          modifiers = modifiers | KeyEvent.SHIFT_MASK;
+        if (ks == null) {
+            return null;
         }
-        if ((ks.getModifiers() & KeyEvent.ALT_MASK) != 0) {
-            modifiers = modifiers | KeyEvent.ALT_MASK;
+        int keyCode = ks.getKeyCode();
+        if ((ks.getModifiers() & KeyEvent.CTRL_MASK) == 0) {
+            return ks;
+        } else {
+            int modifiers = 0;
+            if ((ks.getModifiers() & KeyEvent.SHIFT_MASK) != 0) {
+                modifiers = modifiers | KeyEvent.SHIFT_MASK;
+            }
+            if ((ks.getModifiers() & KeyEvent.ALT_MASK) != 0) {
+                modifiers = modifiers | KeyEvent.ALT_MASK;
+            }
+
+            return KeyStroke.getKeyStroke(keyCode, Globals.getShortcutMask() + modifiers);
         }
-        
-        return KeyStroke.getKeyStroke(keyCode, Globals.getShortcutMask()+modifiers);
-      }
     }
 
     /**
@@ -839,9 +924,9 @@ private KeyStroke getKeyForMac(KeyStroke ks) {
         return defKeyBinds;
     }
 
-
     /**
      * Clear all preferences.
+     *
      * @throws BackingStoreException
      */
     public void clear() throws BackingStoreException {
@@ -851,11 +936,12 @@ public void clear() throws BackingStoreException {
     public void clear(String key) throws BackingStoreException {
         prefs.remove(key);
     }
+
     /**
      * Calling this method will write all preferences into the preference store.
      */
     public void flush() {
-        if (getBoolean(""memoryStickMode"")){
+        if (getBoolean(""memoryStickMode"")) {
             try {
                 exportPreferences(""jabref.xml"");
             } catch (IOException e) {
@@ -870,17 +956,17 @@ public void flush() {
     }
 
     /**
-     * Stores new key bindings into Preferences, provided they
-     * actually differ from the old ones.
+     * Stores new key bindings into Preferences, provided they actually differ
+     * from the old ones.
      */
     public void setNewKeyBindings(HashMap<String, String> newBindings) {
         if (!newBindings.equals(keyBinds)) {
             // This confirms that the bindings have actually changed.
             String[] bindNames = new String[newBindings.size()],
-                bindings = new String[newBindings.size()];
+                    bindings = new String[newBindings.size()];
             int index = 0;
-            for (Iterator<String> i=newBindings.keySet().iterator();
-                 i.hasNext();) {
+            for (Iterator<String> i = newBindings.keySet().iterator();
+                    i.hasNext();) {
                 String nm = i.next();
                 String bnd = newBindings.get(nm);
                 bindNames[index] = nm;
@@ -893,84 +979,85 @@ public void setNewKeyBindings(HashMap<String, String> newBindings) {
         }
     }
 
-
-        /**
-         * Fetches key patterns from preferences
-         * Not cached
-         * 
-         * @return LabelPattern containing all keys. Returned LabelPattern has no parent
-         */
-        public LabelPattern getKeyPattern(){
-            keyPattern = new LabelPattern();
-            Preferences pre = Preferences.userNodeForPackage
-                (net.sf.jabref.labelPattern.LabelPattern.class);
-            try {
-                String[] keys = pre.keys();
-            if (keys.length > 0) for (int i=0; i<keys.length; i++)
-                keyPattern.addLabelPattern(keys[i], pre.get(keys[i], null));
-            } catch (BackingStoreException ex) {
-                Globals.logger(""BackingStoreException in JabRefPreferences.getKeyPattern"");
+    /**
+     * Fetches key patterns from preferences Not cached
+     *
+     * @return LabelPattern containing all keys. Returned LabelPattern has no
+     * parent
+     */
+    public LabelPattern getKeyPattern() {
+        keyPattern = new LabelPattern();
+        Preferences pre = Preferences.userNodeForPackage(net.sf.jabref.labelPattern.LabelPattern.class);
+        try {
+            String[] keys = pre.keys();
+            if (keys.length > 0) {
+                for (int i = 0; i < keys.length; i++) {
+                    keyPattern.addLabelPattern(keys[i], pre.get(keys[i], null));
+                }
             }
-            return keyPattern;
+        } catch (BackingStoreException ex) {
+            Globals.logger(""BackingStoreException in JabRefPreferences.getKeyPattern"");
         }
+        return keyPattern;
+    }
 
-        /**
-         * Adds the given key pattern to the preferences
-         * 
-         * @param pattern the pattern to store
-         */
-        public void putKeyPattern(LabelPattern pattern){
-            keyPattern = pattern;
-            LabelPattern parent = pattern.getParent();
-
-            // Store overridden definitions to Preferences.
-            Preferences pre = Preferences.userNodeForPackage
-                (net.sf.jabref.labelPattern.LabelPattern.class);
-            try {
-                pre.clear(); // We remove all old entries.
-            } catch (BackingStoreException ex) {
-                Globals.logger(""BackingStoreException in JabRefPreferences.putKeyPattern"");
-            }
+    /**
+     * Adds the given key pattern to the preferences
+     *
+     * @param pattern the pattern to store
+     */
+    public void putKeyPattern(LabelPattern pattern) {
+        keyPattern = pattern;
+        LabelPattern parent = pattern.getParent();
 
-            for (String s: pattern.keySet()) {
-                ArrayList<String> value = pattern.get(s);
-                if (value != null) {
-                    // no default value
-                    // the first entry in the array is the full pattern
-                    // see net.sf.jabref.labelPattern.LabelPatternUtil.split(String)
-                    pre.put(s, value.get(0));
-                }
+        // Store overridden definitions to Preferences.
+        Preferences pre = Preferences.userNodeForPackage(net.sf.jabref.labelPattern.LabelPattern.class);
+        try {
+            pre.clear(); // We remove all old entries.
+        } catch (BackingStoreException ex) {
+            Globals.logger(""BackingStoreException in JabRefPreferences.putKeyPattern"");
+        }
+
+        for (String s : pattern.keySet()) {
+            ArrayList<String> value = pattern.get(s);
+            if (value != null) {
+                // no default value
+                // the first entry in the array is the full pattern
+                // see net.sf.jabref.labelPattern.LabelPatternUtil.split(String)
+                pre.put(s, value.get(0));
             }
         }
+    }
 
     private void restoreKeyBindings() {
         // Define default keybindings.
         defineDefaultKeyBindings();
 
         // First read the bindings, and their names.
         String[] bindNames = getStringArray(""bindNames""),
-                 bindings  = getStringArray(""bindings"");
+                bindings = getStringArray(""bindings"");
 
         // Then set up the key bindings HashMap.
         if ((bindNames == null) || (bindings == null)
-            || (bindNames.length != bindings.length)) {
+                || (bindNames.length != bindings.length)) {
             // Nothing defined in Preferences, or something is wrong.
             setDefaultKeyBindings();
             return;
         }
 
-        for (int i=0; i<bindNames.length; i++)
+        for (int i = 0; i < bindNames.length; i++) {
             keyBinds.put(bindNames[i], bindings[i]);
+        }
     }
 
     private void setDefaultKeyBindings() {
         keyBinds = defKeyBinds;
     }
- 
+
     private void defineDefaultKeyBindings() {
-        defKeyBinds.put(""Push to application"",""ctrl L"");
-      defKeyBinds.put(""Push to LyX"",""ctrl L"");
-      defKeyBinds.put(""Push to WinEdt"",""ctrl shift W"");
+        defKeyBinds.put(""Push to application"", ""ctrl L"");
+        defKeyBinds.put(""Push to LyX"", ""ctrl L"");
+        defKeyBinds.put(""Push to WinEdt"", ""ctrl shift W"");
         defKeyBinds.put(""Quit JabRef"", ""ctrl Q"");
         defKeyBinds.put(""Open database"", ""ctrl O"");
         defKeyBinds.put(""Save database"", ""ctrl S"");
@@ -1084,27 +1171,28 @@ private String getNextUnit(Reader data) throws IOException {
         StringBuffer res = new StringBuffer();
         while (!done && ((c = data.read()) != -1)) {
             if (c == '\\') {
-                if (!escape)
+                if (!escape) {
                     escape = true;
-                else {
+                } else {
                     escape = false;
                     res.append('\\');
                 }
             } else {
                 if (c == ';') {
-                    if (!escape)
+                    if (!escape) {
                         done = true;
-                    else
+                    } else {
                         res.append(';');
+                    }
                 } else {
-                    res.append((char)c);
+                    res.append((char) c);
                 }
                 escape = false;
             }
         }
         if (res.length() > 0) {
             return res.toString();
-        } else if (c ==-1) {
+        } else if (c == -1) {
             // end of stream
             return null;
         } else {
@@ -1115,42 +1203,42 @@ private String getNextUnit(Reader data) throws IOException {
     private String makeEscape(String s) {
         StringBuffer sb = new StringBuffer();
         int c;
-        for (int i=0; i<s.length(); i++) {
+        for (int i = 0; i < s.length(); i++) {
             c = s.charAt(i);
-            if ((c == '\\') || (c == ';'))
+            if ((c == '\\') || (c == ';')) {
                 sb.append('\\');
-            sb.append((char)c);
+            }
+            sb.append((char) c);
         }
         return sb.toString();
     }
 
     /**
-     * Stores all information about the entry type in preferences, with
-     * the tag given by number.
+     * Stores all information about the entry type in preferences, with the tag
+     * given by number.
      */
     public void storeCustomEntryType(CustomEntryType tp, int number) {
-        String nr = """"+number;
-        put(CUSTOM_TYPE_NAME+nr, tp.getName());
-        put(CUSTOM_TYPE_REQ+nr, tp.getRequiredFieldsString());//tp.getRequiredFields());
-        putStringArray(CUSTOM_TYPE_OPT+nr, tp.getOptionalFields());
-        putStringArray(CUSTOM_TYPE_PRIOPT+nr, tp.getPrimaryOptionalFields());
+        String nr = """" + number;
+        put(CUSTOM_TYPE_NAME + nr, tp.getName());
+        put(CUSTOM_TYPE_REQ + nr, tp.getRequiredFieldsString());//tp.getRequiredFields());
+        putStringArray(CUSTOM_TYPE_OPT + nr, tp.getOptionalFields());
+        putStringArray(CUSTOM_TYPE_PRIOPT + nr, tp.getPrimaryOptionalFields());
 
     }
 
     /**
-     * Retrieves all information about the entry type in preferences,
-     * with the tag given by number.
+     * Retrieves all information about the entry type in preferences, with the
+     * tag given by number.
      */
     public CustomEntryType getCustomEntryType(int number) {
-        String nr = """"+number;
-        String
-            name = get(CUSTOM_TYPE_NAME+nr);
-        String[]
-            req = getStringArray(CUSTOM_TYPE_REQ+nr),
-            opt = getStringArray(CUSTOM_TYPE_OPT+nr),
-            priOpt = getStringArray(CUSTOM_TYPE_PRIOPT+nr);
-        if (name == null)
+        String nr = """" + number;
+        String name = get(CUSTOM_TYPE_NAME + nr);
+        String[] req = getStringArray(CUSTOM_TYPE_REQ + nr),
+                opt = getStringArray(CUSTOM_TYPE_OPT + nr),
+                priOpt = getStringArray(CUSTOM_TYPE_PRIOPT + nr);
+        if (name == null) {
             return null;
+        }
         if (priOpt == null) {
             return new CustomEntryType(Util.nCase(name), req, opt);
         }
@@ -1164,11 +1252,8 @@ public CustomEntryType getCustomEntryType(int number) {
         return new CustomEntryType(Util.nCase(name), req, priOpt,
                 secOpt.toArray(new String[secOpt.size()]));
 
-
     }
 
-
-
     public List<ExternalFileType> getDefaultExternalFileTypes() {
         List<ExternalFileType> list = new ArrayList<ExternalFileType>();
         list.add(new ExternalFileType(""PDF"", ""pdf"", ""application/pdf"", ""evince"", ""pdfSmall""));
@@ -1201,47 +1286,50 @@ public CustomEntryType getCustomEntryType(int number) {
             ExternalFileType type = iterator.next();
             type.setOpenWith("""");
         }
-        
 
         return list;
     }
 
     public ExternalFileType[] getExternalFileTypeSelection() {
-        return externalFileTypes.toArray
-                (new ExternalFileType[externalFileTypes.size()]);
+        return externalFileTypes.toArray(new ExternalFileType[externalFileTypes.size()]);
     }
 
     /**
      * Look up the external file type registered with this name, if any.
+     *
      * @param name The file type name.
      * @return The ExternalFileType registered, or null if none.
      */
     public ExternalFileType getExternalFileTypeByName(String name) {
         for (Iterator<ExternalFileType> iterator = externalFileTypes.iterator(); iterator.hasNext();) {
             ExternalFileType type = iterator.next();
-            if (type.getName().equals(name))
+            if (type.getName().equals(name)) {
                 return type;
+            }
         }
         // Return an instance that signifies an unknown file type:
         return new UnknownExternalFileType(name);
     }
 
     /**
      * Look up the external file type registered for this extension, if any.
+     *
      * @param extension The file extension.
      * @return The ExternalFileType registered, or null if none.
      */
     public ExternalFileType getExternalFileTypeByExt(String extension) {
         for (Iterator<ExternalFileType> iterator = externalFileTypes.iterator(); iterator.hasNext();) {
             ExternalFileType type = iterator.next();
-            if ((type.getExtension() != null) && type.getExtension().equalsIgnoreCase(extension))
+            if ((type.getExtension() != null) && type.getExtension().equalsIgnoreCase(extension)) {
                 return type;
+            }
         }
         return null;
     }
 
     /**
      * Look up the external file type registered for this filename, if any.
+     *
      * @param filename The name of the file whose type to look up.
      * @return The ExternalFileType registered, or null if none.
      */
@@ -1263,26 +1351,30 @@ public ExternalFileType getExternalFileTypeForName(String filename) {
 
     /**
      * Look up the external file type registered for this MIME type, if any.
+     *
      * @param mimeType The MIME type.
-     * @return The ExternalFileType registered, or null if none. For the mime type ""text/html"",
-     *   a valid file type is guaranteed to be returned.
+     * @return The ExternalFileType registered, or null if none. For the mime
+     * type ""text/html"", a valid file type is guaranteed to be returned.
      */
     public ExternalFileType getExternalFileTypeByMimeType(String mimeType) {
         for (Iterator<ExternalFileType> iterator = externalFileTypes.iterator(); iterator.hasNext();) {
             ExternalFileType type = iterator.next();
-            if ((type.getMimeType() != null) && type.getMimeType().equals(mimeType))
+            if ((type.getMimeType() != null) && type.getMimeType().equals(mimeType)) {
                 return type;
+            }
         }
-        if (mimeType.equals(""text/html""))
+        if (mimeType.equals(""text/html"")) {
             return HTML_FALLBACK_TYPE;
-        else
+        } else {
             return null;
+        }
     }
 
     /**
      * Reset the List of external file types after user customization.
-     * @param types The new List of external file types. This is the complete list, not
-     *  just new entries.
+     *
+     * @param types The new List of external file types. This is the complete
+     * list, not just new entries.
      */
     public void setExternalFileTypes(List<ExternalFileType> types) {
 
@@ -1306,9 +1398,9 @@ public void setExternalFileTypes(List<ExternalFileType> types) {
             }
             if (found != null) {
                 // Found it! Check if it is an exact match, or if it has been customized:
-                if (found.equals(type))
+                if (found.equals(type)) {
                     unchanged.add(type);
-                else {
+                } else {
                     // It was modified. Remove its entry from the defaults list, since
                     // the type hasn't been removed:
                     defTypes.remove(found);
@@ -1325,24 +1417,23 @@ public void setExternalFileTypes(List<ExternalFileType> types) {
 
         // Now set up the array to write to prefs, containing all new types, all modified
         // types, and a flag denoting each default type that has been removed:
-        String[][] array = new String[types.size()+defTypes.size()][];
-        int i=0;
+        String[][] array = new String[types.size() + defTypes.size()][];
+        int i = 0;
         for (ExternalFileType type : types) {
             array[i] = type.getStringArrayRepresentation();
             i++;
         }
         for (ExternalFileType type : defTypes) {
-            array[i] = new String[] {type.getName(), FILE_TYPE_REMOVED_FLAG};
+            array[i] = new String[]{type.getName(), FILE_TYPE_REMOVED_FLAG};
             i++;
         }
         //System.out.println(""Encoded: '""+Util.encodeStringArray(array)+""'"");
         put(""externalFileTypes"", Util.encodeStringArray(array));
     }
 
-    
     /**
-     * Set up the list of external file types, either from default values, or from values
-     * recorded in Preferences.
+     * Set up the list of external file types, either from default values, or
+     * from values recorded in Preferences.
      */
     public void updateExternalFileTypes() {
         // First get a list of the default file types as a starting point:
@@ -1366,10 +1457,10 @@ public void updateExternalFileTypes() {
                     }
                 }
                 // If we found it, remove it from the type list:
-                if (toRemove != null)
+                if (toRemove != null) {
                     types.remove(toRemove);
-            }
-            else {
+                }
+            } else {
                 // A new or modified entry type. Construct it from the string array:
                 ExternalFileType type = new ExternalFileType(vals[i]);
                 // Check if there is a default type with the same name. If so, this is a
@@ -1385,7 +1476,7 @@ public void updateExternalFileTypes() {
                 if (toRemove != null) {
                     types.remove(toRemove);
                 }
-                
+
                 // Then add the new one:
                 types.add(type);
             }
@@ -1397,9 +1488,9 @@ public void updateExternalFileTypes() {
         }
     }
 
-
     /**
      * Removes all information about custom entry types with tags of
+     *
      * @param number or higher.
      */
     public void purgeCustomEntryTypes(int number) {
@@ -1410,25 +1501,27 @@ public void purgeCustomEntryTypes(int number) {
     }
 
     /**
-     * Removes all entries keyed by prefix+number, where number
-     * is equal to or higher than the given number.
+     * Removes all entries keyed by prefix+number, where number is equal to or
+     * higher than the given number.
+     *
      * @param number or higher.
      */
     public void purgeSeries(String prefix, int number) {
-        while (get(prefix+number) != null) {
-            remove(prefix+number);
+        while (get(prefix + number) != null) {
+            remove(prefix + number);
             number++;
         }
     }
 
     public EntryEditorTabList getEntryEditorTabList() {
-    if (tabList == null)
-        updateEntryEditorTabList();
-    return tabList;
+        if (tabList == null) {
+            updateEntryEditorTabList();
+        }
+        return tabList;
     }
 
     public void updateEntryEditorTabList() {
-    tabList = new EntryEditorTabList();
+        tabList = new EntryEditorTabList();
     }
 
     /**
@@ -1437,32 +1530,34 @@ public void updateEntryEditorTabList() {
      * @param filename String File to export to
      */
     public void exportPreferences(String filename) throws IOException {
-      File f = new File(filename);
-      OutputStream os = new FileOutputStream(f);
-      try {
-        prefs.exportSubtree(os);
-      } catch (BackingStoreException ex) {
-        throw new IOException(ex.getMessage());
-      }
-    }
-
-      /**
-       * Imports Preferences from an XML file.
-       *
-       * @param filename String File to import from
-       */
-      public void importPreferences(String filename) throws IOException {
+        File f = new File(filename);
+        OutputStream os = new FileOutputStream(f);
+        try {
+            prefs.exportSubtree(os);
+        } catch (BackingStoreException ex) {
+            throw new IOException(ex.getMessage());
+        }
+    }
+
+    /**
+     * Imports Preferences from an XML file.
+     *
+     * @param filename String File to import from
+     */
+    public void importPreferences(String filename) throws IOException {
         File f = new File(filename);
         InputStream is = new FileInputStream(f);
         try {
-          Preferences.importPreferences(is);
+            Preferences.importPreferences(is);
         } catch (InvalidPreferencesFormatException ex) {
-          throw new IOException(ex.getMessage());
+            throw new IOException(ex.getMessage());
         }
-      }
+    }
 
     /**
-     * Determines whether the given field should be written without any sort of wrapping.
+     * Determines whether the given field should be written without any sort of
+     * wrapping.
+     *
      * @param fieldName The field name.
      * @return true if the field should not be wrapped.
      */, @@ -79,6 +79,7 @@ public PrefsDialog3(JabRefFrame parent) {
 		tabs.add(new GeneralTab(frame, prefs));
 		tabs.add(new NetworkTab(frame, prefs));
         tabs.add(new FileTab(frame, prefs));
+        tabs.add(new FileSortTab(frame, prefs));
         tabs.add(new EntryEditorPrefsTab(frame, prefs));
         tabs.add(new GroupsPrefsTab(prefs));
 		tabs.add(new AppearancePrefsTab(prefs));, @@ -214,9 +214,9 @@ public void setValues() {
 		autoResizeMode
 			.setSelected((_prefs.getInt(""autoResizeMode"") == JTable.AUTO_RESIZE_ALL_COLUMNS));
 
-		priField.setText(_prefs.get(""priSort""));
-		secField.setText(_prefs.get(""secSort""));
-		terField.setText(_prefs.get(""terSort""));
+		priField.setText(_prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD));
+		secField.setText(_prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD));
+		terField.setText(_prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD));
 		priSort.setSelectedIndex(0);
 		secSort.setSelectedIndex(0);
 		terSort.setSelectedIndex(0);
@@ -235,9 +235,9 @@ else if (_prefs.getBoolean(""namesLastOnly""))
 			lastNamesOnly.setSelected(true);
 		else
 			noAbbrNames.setSelected(true);
-		priDesc.setSelected(_prefs.getBoolean(""priDescending""));
-		secDesc.setSelected(_prefs.getBoolean(""secDescending""));
-		terDesc.setSelected(_prefs.getBoolean(""terDescending""));
+		priDesc.setSelected(_prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING));
+		secDesc.setSelected(_prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING));
+		terDesc.setSelected(_prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING));
 
 		floatMarked.setSelected(_prefs.getBoolean(""floatMarkedEntries""));
 
@@ -268,16 +268,16 @@ public void storeSettings() {
 
 		_prefs.putInt(""autoResizeMode"",
 			autoResizeMode.isSelected() ? JTable.AUTO_RESIZE_ALL_COLUMNS : JTable.AUTO_RESIZE_OFF);
-		_prefs.putBoolean(""priDescending"", priDesc.isSelected());
-		_prefs.putBoolean(""secDescending"", secDesc.isSelected());
-		_prefs.putBoolean(""terDescending"", terDesc.isSelected());
-		// _prefs.put(""secSort"",
+		_prefs.putBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING, priDesc.isSelected());
+		_prefs.putBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING, secDesc.isSelected());
+		_prefs.putBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING, terDesc.isSelected());
+		// _prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD,
 		// GUIGlobals.ALL_FIELDS[secSort.getSelectedIndex()]);
-		// _prefs.put(""terSort"",
+		// _prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD,
 		// GUIGlobals.ALL_FIELDS[terSort.getSelectedIndex()]);
-		_prefs.put(""priSort"", priField.getText().toLowerCase().trim());
-		_prefs.put(""secSort"", secField.getText().toLowerCase().trim());
-		_prefs.put(""terSort"", terField.getText().toLowerCase().trim());
+		_prefs.put(JabRefPreferences.PRIMARY_SORT_FIELD, priField.getText().toLowerCase().trim());
+		_prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD, secField.getText().toLowerCase().trim());
+		_prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD, terField.getText().toLowerCase().trim());
 
 		_prefs.putBoolean(""floatMarkedEntries"", floatMarked.isSelected());
 		// updatefont, @@ -1,18 +1,18 @@
 /*  Copyright (C) 2003-2011 JabRef contributors.
-    This program is free software; you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation; either version 2 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License along
-    with this program; if not, write to the Free Software Foundation, Inc.,
-    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
-*/
+ This program is free software; you can redistribute it and/or modify
+ it under the terms of the GNU General Public License as published by
+ the Free Software Foundation; either version 2 of the License, or
+ (at your option) any later version.
+
+ This program is distributed in the hope that it will be useful,
+ but WITHOUT ANY WARRANTY; without even the implied warranty of
+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ GNU General Public License for more details.
+
+ You should have received a copy of the GNU General Public License along
+ with this program; if not, write to the Free Software Foundation, Inc.,
+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+ */
 package net.sf.jabref.export;
 
 import java.io.File;
@@ -52,23 +52,23 @@
 import ca.odell.glazedlists.BasicEventList;
 import ca.odell.glazedlists.SortedList;
 
-public class FileActions
-{
+public class FileActions {
 
     private static Pattern refPat = Pattern.compile(""(#[A-Za-z]+#)""); // Used to detect string references in strings
     private static BibtexString.Type previousStringType;
 
     private static void writePreamble(Writer fw, String preamble) throws IOException {
-    if (preamble != null) {
-        fw.write(""@PREAMBLE{"");
-        fw.write(preamble);
-        fw.write(""}""+Globals.NEWLINE +Globals.NEWLINE);
-    }
+        if (preamble != null) {
+            fw.write(""@PREAMBLE{"");
+            fw.write(preamble);
+            fw.write(""}"" + Globals.NEWLINE + Globals.NEWLINE);
+        }
     }
 
     /**
-     * Write all strings in alphabetical order, modified to produce a safe (for BibTeX) order of the strings
-     * if they reference each other.
+     * Write all strings in alphabetical order, modified to produce a safe (for
+     * BibTeX) order of the strings if they reference each other.
+     *
      * @param fw The Writer to send the output to.
      * @param database The database whose strings we should write.
      * @throws IOException If anthing goes wrong in writing.
@@ -83,17 +83,18 @@ private static void writeStrings(Writer fw, BibtexDatabase database) throws IOEx
         // First, make a Map of all entries:
         HashMap<String, BibtexString> remaining = new HashMap<String, BibtexString>();
         int maxKeyLength = 0;
-        for (Iterator<BibtexString> i=strings.iterator(); i.hasNext();) {
+        for (Iterator<BibtexString> i = strings.iterator(); i.hasNext();) {
             BibtexString string = i.next();
             remaining.put(string.getName(), string);
             maxKeyLength = Math.max(maxKeyLength, string.getName().length());
         }
 
-        for(BibtexString.Type t : BibtexString.Type.values()) {
+        for (BibtexString.Type t : BibtexString.Type.values()) {
             for (Iterator<BibtexString> i = strings.iterator(); i.hasNext();) {
                 BibtexString bs = i.next();
-                if (remaining.containsKey(bs.getName()) && bs.getType() == t)
+                if (remaining.containsKey(bs.getName()) && bs.getType() == t) {
                     writeString(fw, bs, remaining, maxKeyLength);
+                }
             }
         }
         fw.write(Globals.NEWLINE);
@@ -110,12 +111,13 @@ private static void writeString(Writer fw, BibtexString bs, HashMap<String, Bibt
         Matcher m;
         while ((m = refPat.matcher(content)).find()) {
             String foundLabel = m.group(1);
-            int restIndex = content.indexOf(foundLabel)+foundLabel.length();
+            int restIndex = content.indexOf(foundLabel) + foundLabel.length();
             content = content.substring(restIndex);
-            Object referred = remaining.get(foundLabel.substring(1, foundLabel.length()-1));
+            Object referred = remaining.get(foundLabel.substring(1, foundLabel.length() - 1));
             // If the label we found exists as a key in the ""remaining"" Map, we go on and write it now:
-            if (referred != null)
-                writeString(fw, (BibtexString)referred, remaining, maxKeyLength);
+            if (referred != null) {
+                writeString(fw, (BibtexString) referred, remaining, maxKeyLength);
+            }
         }
 
         if (previousStringType != bs.getType()) {
@@ -124,8 +126,9 @@ private static void writeString(Writer fw, BibtexString bs, HashMap<String, Bibt
         }
 
         String suffix = """";
-        for(int i = maxKeyLength - bs.getName().length(); i > 0; i--) 
+        for (int i = maxKeyLength - bs.getName().length(); i > 0; i--) {
             suffix += "" "";
+        }
 
         fw.write(""@String { "" + bs.getName() + suffix + "" = "");
         if (!bs.getContent().equals("""")) {
@@ -134,249 +137,229 @@ private static void writeString(Writer fw, BibtexString bs, HashMap<String, Bibt
                 fw.write(formatted);
             } catch (IllegalArgumentException ex) {
                 throw new IllegalArgumentException(
-                        Globals.lang(""The # character is not allowed in BibTeX strings unless escaped as in '\\#'."") + ""\n"" +
-                        Globals.lang(""Before saving, please edit any strings containing the # character.""));
+                        Globals.lang(""The # character is not allowed in BibTeX strings unless escaped as in '\\#'."") + ""\n""
+                        + Globals.lang(""Before saving, please edit any strings containing the # character.""));
             }
 
-        }
-        else
+        } else {
             fw.write(""{}"");
+        }
 
         fw.write("" }"" + Globals.NEWLINE);// + Globals.NEWLINE);
     }
 
     /**
      * Writes the JabRef signature and the encoding.
      *
-     * @param encoding String the name of the encoding, which is part of the header.
+     * @param encoding String the name of the encoding, which is part of the
+     * header.
      */
     private static void writeBibFileHeader(Writer out, String encoding) throws IOException {
         out.write(""% "");
-      out.write(GUIGlobals.SIGNATURE);
-      out.write("" ""+GUIGlobals.version+"".""+Globals.NEWLINE + ""% "" + 
-              GUIGlobals.encPrefix+encoding+Globals.NEWLINE +Globals.NEWLINE);
+        out.write(GUIGlobals.SIGNATURE);
+        out.write("" "" + GUIGlobals.version + ""."" + Globals.NEWLINE + ""% ""
+                + GUIGlobals.encPrefix + encoding + Globals.NEWLINE + Globals.NEWLINE);
     }
 
     /**
-     * Saves the database to file. Two boolean values indicate whether
-     * only entries with a nonzero Globals.SEARCH value and only
-     * entries with a nonzero Globals.GROUPSEARCH value should be
-     * saved. This can be used to let the user save only the results of
-     * a search. False and false means all entries are saved.
+     * Saves the database to file. Two boolean values indicate whether only
+     * entries with a nonzero Globals.SEARCH value and only entries with a
+     * nonzero Globals.GROUPSEARCH value should be saved. This can be used to
+     * let the user save only the results of a search. False and false means all
+     * entries are saved.
      */
     public static SaveSession saveDatabase(BibtexDatabase database,
-		MetaData metaData, File file, JabRefPreferences prefs,
-		boolean checkSearch, boolean checkGroup, String encoding, boolean suppressBackup)
-		throws SaveException {
-    	
-		TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>();
-		
-		boolean backup = prefs.getBoolean(""backup"");
-        if (suppressBackup)
+            MetaData metaData, File file, JabRefPreferences prefs,
+            boolean checkSearch, boolean checkGroup, String encoding, boolean suppressBackup)
+            throws SaveException {
+
+        TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>();
+
+        boolean backup = prefs.getBoolean(""backup"");
+        if (suppressBackup) {
             backup = false;
+        }
 
-		SaveSession session;
-		BibtexEntry exceptionCause = null;
-		try {
-			session = new SaveSession(file, encoding, backup);
-		} catch (Throwable e) {
-			if (encoding != null) {
-				System.err.println(""Error from encoding: '"" + encoding + ""' Len: "" + encoding.length());
-			}
+        SaveSession session;
+        BibtexEntry exceptionCause = null;
+        try {
+            session = new SaveSession(file, encoding, backup);
+        } catch (Throwable e) {
+            if (encoding != null) {
+                System.err.println(""Error from encoding: '"" + encoding + ""' Len: "" + encoding.length());
+            }
 			// we must catch all exceptions to be able notify users that
-			// saving failed, no matter what the reason was
-			// (and they won't just quit JabRef thinking
-			// everyting worked and loosing data)
-			e.printStackTrace();
-			throw new SaveException(e.getMessage());
-		}
+            // saving failed, no matter what the reason was
+            // (and they won't just quit JabRef thinking
+            // everyting worked and loosing data)
+            e.printStackTrace();
+            throw new SaveException(e.getMessage());
+        }
 
-		try {
+        try {
 
 			// Get our data stream. This stream writes only to a temporary file,
-			// until committed.
-			VerifyingWriter fw = session.getWriter();
+            // until committed.
+            VerifyingWriter fw = session.getWriter();
 
-			// Write signature.
-			writeBibFileHeader(fw, encoding);
+            // Write signature.
+            writeBibFileHeader(fw, encoding);
 
-			// Write preamble if there is one.
-			writePreamble(fw, database.getPreamble());
+            // Write preamble if there is one.
+            writePreamble(fw, database.getPreamble());
 
-			// Write strings if there are any.
-			writeStrings(fw, database);
+            // Write strings if there are any.
+            writeStrings(fw, database);
 
 			// Write database entries. Take care, using CrossRefEntry-
-			// Comparator, that referred entries occur after referring
-			// ones. Apart from crossref requirements, entries will be
-			// sorted as they appear on the screen.
-			List<BibtexEntry> sorter = getSortedEntries(database, null, true);
+            // Comparator, that referred entries occur after referring
+            // ones. Apart from crossref requirements, entries will be
+            // sorted as they appear on the screen.
+            List<BibtexEntry> sorter = getSortedEntries(database, null, true);
 
-			FieldFormatter ff = new LatexFieldFormatter();
+            FieldFormatter ff = new LatexFieldFormatter();
 
-			for (BibtexEntry be : sorter) {
-				exceptionCause = be;
+            for (BibtexEntry be : sorter) {
+                exceptionCause = be;
 
 				// Check if we must write the type definition for this
-				// entry, as well. Our criterion is that all non-standard
-				// types (*not* customized standard types) must be written.
-				BibtexEntryType tp = be.getType();
-
-				if (BibtexEntryType.getStandardType(tp.getName()) == null) {
-					types.put(tp.getName(), tp);
-				}
-
-				// Check if the entry should be written.
-				boolean write = true;
-
-				if (checkSearch && !nonZeroField(be, BibtexFields.SEARCH)) {
-					write = false;
-				}
-
-				if (checkGroup && !nonZeroField(be, BibtexFields.GROUPSEARCH)) {
-					write = false;
-				}
-
-				if (write) {
-					be.write(fw, ff, true);
-					fw.write(Globals.NEWLINE);
-				}
-			}
-
-			// Write meta data.
-			if (metaData != null) {
-				metaData.writeMetaData(fw);
-			}
-
-			// Write type definitions, if any:
-			if (types.size() > 0) {
-				for (Iterator<String> i = types.keySet().iterator(); i
-					.hasNext();) {
+                // entry, as well. Our criterion is that all non-standard
+                // types (*not* customized standard types) must be written.
+                BibtexEntryType tp = be.getType();
+
+                if (BibtexEntryType.getStandardType(tp.getName()) == null) {
+                    types.put(tp.getName(), tp);
+                }
+
+                // Check if the entry should be written.
+                boolean write = true;
+
+                if (checkSearch && !nonZeroField(be, BibtexFields.SEARCH)) {
+                    write = false;
+                }
+
+                if (checkGroup && !nonZeroField(be, BibtexFields.GROUPSEARCH)) {
+                    write = false;
+                }
+
+                if (write) {
+                    be.write(fw, ff, true);
+                    fw.write(Globals.NEWLINE);
+                }
+            }
+
+            // Write meta data.
+            if (metaData != null) {
+                metaData.writeMetaData(fw);
+            }
+
+            // Write type definitions, if any:
+            if (types.size() > 0) {
+                for (Iterator<String> i = types.keySet().iterator(); i
+                        .hasNext();) {
                     BibtexEntryType type = types.get(i.next());
                     if (type instanceof CustomEntryType) {
-                        CustomEntryType tp = (CustomEntryType)type;
+                        CustomEntryType tp = (CustomEntryType) type;
                         tp.save(fw);
                         fw.write(Globals.NEWLINE);
                     }
-				}
-
-			}
-
-			fw.close();
-		} catch (Throwable ex) {
-			ex.printStackTrace();
-			try {
-				session.cancel();
-				// repairAfterError(file, backup, INIT_OK);
-			} catch (IOException e) {
-				// Argh, another error? Can we do anything?
-				e.printStackTrace();
-                throw new SaveException(ex.getMessage()+""\n""+
-                        Globals.lang(""Warning: could not complete file repair; your file may ""
-                        +""have been corrupted. Error message"")+"": ""+e.getMessage());
+                }
 
-			}
-			throw new SaveException(ex.getMessage(), exceptionCause);
-		}
+            }
 
-		return session;
+            fw.close();
+        } catch (Throwable ex) {
+            ex.printStackTrace();
+            try {
+                session.cancel();
+                // repairAfterError(file, backup, INIT_OK);
+            } catch (IOException e) {
+                // Argh, another error? Can we do anything?
+                e.printStackTrace();
+                throw new SaveException(ex.getMessage() + ""\n""
+                        + Globals.lang(""Warning: could not complete file repair; your file may ""
+                                + ""have been corrupted. Error message"") + "": "" + e.getMessage());
 
+            }
+            throw new SaveException(ex.getMessage(), exceptionCause);
+        }
 
-	}
+        return session;
 
-    private enum SaveOrder {
-    	Standard, Original, Title, TableSort
     }
-    
+
     private static class SaveSettings {
         public final String pri, sec, ter;
         public final boolean priD, secD, terD;
-        
+
         public SaveSettings(boolean isSaveOperation) {
-        	/* four options:
-        	 * 1. ordered by author/editor/year (saveInStandardOrder)
-        	 * 2. original order (saveInOriginalOrder) -- not hit here as SaveSettings is not called in that case
-        	 * 3. current table sort order (*everything else*)
-        	 * 4. ordered by title (saveInTitleOrder)
-        	 */
-        	SaveOrder saveOrder;
-        	String prefix = isSaveOperation ? ""save"" :  ""export"";
-        	if (Globals.prefs.getBoolean(prefix + ""InStandardOrder"")) {
-        		saveOrder = SaveOrder.Standard;
-        	} else if (Globals.prefs.getBoolean(prefix + ""InTitleOrder"")) {
-        		saveOrder = SaveOrder.Title;
-//        	} else if (Globals.prefs.getBoolean(prefix + ""InOriginalOrder"")) {
-        		// this case is never hit as SaveSettings() is never called if InOriginalOrder is true
-//        		saveOrder = SaveOrder.Original;
-        	} else {
-        		saveOrder = SaveOrder.TableSort;
-        	}
-
-        	switch (saveOrder) {
-        	case TableSort:
+            /* three options:
+             * 1. original order (saveInOriginalOrder) -- not hit here as SaveSettings is not called in that case
+             * 2. current table sort order
+             * 3. ordered by specified order
+             */
+            // This case should never behit as SaveSettings() is never called if InOriginalOrder is true
+            assert isSaveOperation && !Globals.prefs.getBoolean(JabRefPreferences.SAVE_IN_ORIGINAL_ORDER);
+            assert !isSaveOperation && !Globals.prefs.getBoolean(JabRefPreferences.EXPORT_IN_ORIGINAL_ORDER);
+
+            if (isSaveOperation && Globals.prefs.getBoolean(JabRefPreferences.SAVE_IN_SPECIFIED_ORDER)) {
+                pri = Globals.prefs.get(JabRefPreferences.SAVE_PRIMARY_SORT_FIELD);
+                sec = Globals.prefs.get(JabRefPreferences.SAVE_SECONDARY_SORT_FIELD);
+                ter = Globals.prefs.get(JabRefPreferences.SAVE_TERTIARY_SORT_FIELD);
+                priD = Globals.prefs.getBoolean(JabRefPreferences.SAVE_PRIMARY_SORT_DESCENDING);
+                secD = Globals.prefs.getBoolean(JabRefPreferences.SAVE_SECONDARY_SORT_DESCENDING);
+                terD = Globals.prefs.getBoolean(JabRefPreferences.SAVE_TERTIARY_SORT_DESCENDING);
+            } else if (!isSaveOperation && Globals.prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER)) {
+                pri = Globals.prefs.get(JabRefPreferences.EXPORT_PRIMARY_SORT_FIELD);
+                sec = Globals.prefs.get(JabRefPreferences.EXPORT_SECONDARY_SORT_FIELD);
+                ter = Globals.prefs.get(JabRefPreferences.EXPORT_TERTIARY_SORT_FIELD);
+                priD = Globals.prefs.getBoolean(JabRefPreferences.EXPORT_PRIMARY_SORT_DESCENDING);
+                secD = Globals.prefs.getBoolean(JabRefPreferences.EXPORT_SECONDARY_SORT_DESCENDING);
+                terD = Globals.prefs.getBoolean(JabRefPreferences.EXPORT_TERTIARY_SORT_DESCENDING);
+            } else {
                 // The setting is to save according to the current table order.
-                pri = Globals.prefs.get(""priSort"");
-                sec = Globals.prefs.get(""secSort"");
-                // sorted as they appear on the screen.
-                ter = Globals.prefs.get(""terSort"");
-                priD = Globals.prefs.getBoolean(""priDescending"");
-                secD = Globals.prefs.getBoolean(""secDescending"");
-                terD = Globals.prefs.getBoolean(""terDescending"");
-                break;
-        	case Title:
-        		// The setting is to not save in standard order, but in title order: title, author, editor
-        		pri = ""title"";
-                sec = ""author"";
-                ter = ""editor"";
-                priD = false;
-                secD = false;
-                terD = false;
-                break;
-        	case Standard:
-        	default: // required to get rid of Java compile errors
-                pri = ""author"";
-                sec = ""editor"";
-                ter = ""year"";
-                priD = false;
-                secD = false;
-                terD = true;
-        		break;
-        	}
+                pri = Globals.prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD);
+                sec = Globals.prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD);
+                ter = Globals.prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD);
+                priD = Globals.prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING);
+                secD = Globals.prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING);
+                terD = Globals.prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING);
+            }
         }
     }
-    
+
     private static List<Comparator<BibtexEntry>> getSaveComparators(boolean isSaveOperation) {
         SaveSettings saveSettings = new SaveSettings(isSaveOperation);
 
         List<Comparator<BibtexEntry>> comparators = new ArrayList<Comparator<BibtexEntry>>();
-        if (isSaveOperation)
+        if (isSaveOperation) {
             comparators.add(new CrossRefEntryComparator());
+        }
         comparators.add(new FieldComparator(saveSettings.pri, saveSettings.priD));
         comparators.add(new FieldComparator(saveSettings.sec, saveSettings.secD));
         comparators.add(new FieldComparator(saveSettings.ter, saveSettings.terD));
         comparators.add(new FieldComparator(BibtexFields.KEY_FIELD));
-        
+
         return comparators;
     }
-    
+
     /**
-	 * Saves the database to file, including only the entries included in the
-	 * supplied input array bes.
-	 * 
-	 * @return A List containing warnings, if any.
-	 */
+     * Saves the database to file, including only the entries included in the
+     * supplied input array bes.
+     *
+     * @return A List containing warnings, if any.
+     */
     @SuppressWarnings(""unchecked"")
-	public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData metaData,
-                                                 File file, JabRefPreferences prefs, BibtexEntry[] bes, String encoding) throws SaveException
-    {
-
-    TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>(); // Map
-																						// to
-																						// collect
-																						// entry
-																						// type
-																						// definitions
-    // that we must save along with entries using them.
+    public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData metaData,
+            File file, JabRefPreferences prefs, BibtexEntry[] bes, String encoding) throws SaveException {
+
+        TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>(); // Map
+        // to
+        // collect
+        // entry
+        // type
+        // definitions
+        // that we must save along with entries using them.
 
         BibtexEntry be = null;
         boolean backup = prefs.getBoolean(""backup"");
@@ -388,8 +371,7 @@ public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData m
             throw new SaveException(e.getMessage());
         }
 
-        try
-        {
+        try {
 
             // Define our data stream.
             VerifyingWriter fw = session.getWriter();
@@ -401,119 +383,114 @@ public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData m
             writePreamble(fw, database.getPreamble());
 
             // Write strings if there are any.
-        writeStrings(fw, database);
+            writeStrings(fw, database);
 
             // Write database entries. Take care, using CrossRefEntry-
             // Comparator, that referred entries occur after referring
             // ones. Apart from crossref requirements, entries will be
             // sorted as they appear on the screen.
+            List<Comparator<BibtexEntry>> comparators = getSaveComparators(true);
 
-        List<Comparator<BibtexEntry>> comparators = getSaveComparators(true);
-
-        // Use glazed lists to get a sorted view of the entries:
-        BasicEventList entryList = new BasicEventList();
-        SortedList sorter = new SortedList(entryList, new FieldComparatorStack<BibtexEntry>(comparators));
+            // Use glazed lists to get a sorted view of the entries:
+            BasicEventList entryList = new BasicEventList();
+            SortedList sorter = new SortedList(entryList, new FieldComparatorStack<BibtexEntry>(comparators));
 
-        if ((bes != null) && (bes.length > 0))
-        for (int i=0; i<bes.length; i++) {
-            sorter.add(bes[i]);
-        }
+            if ((bes != null) && (bes.length > 0)) {
+                for (int i = 0; i < bes.length; i++) {
+                    sorter.add(bes[i]);
+                }
+            }
 
             FieldFormatter ff = new LatexFieldFormatter();
 
-            for (Iterator<BibtexEntry> i = sorter.iterator(); i.hasNext();)
-            {
+            for (Iterator<BibtexEntry> i = sorter.iterator(); i.hasNext();) {
                 be = (i.next());
 
         // Check if we must write the type definition for this
-        // entry, as well. Our criterion is that all non-standard
-        // types (*not* customized standard types) must be written.
-        BibtexEntryType tp = be.getType();
-        if (BibtexEntryType.getStandardType(tp.getName()) == null) {
-            types.put(tp.getName(), tp);
-        }
-
-        be.write(fw, ff, true);
-        fw.write(Globals.NEWLINE);
-        }
+                // entry, as well. Our criterion is that all non-standard
+                // types (*not* customized standard types) must be written.
+                BibtexEntryType tp = be.getType();
+                if (BibtexEntryType.getStandardType(tp.getName()) == null) {
+                    types.put(tp.getName(), tp);
+                }
+
+                be.write(fw, ff, true);
+                fw.write(Globals.NEWLINE);
+            }
 
             // Write meta data.
-            if (metaData != null)
-            {
+            if (metaData != null) {
                 metaData.writeMetaData(fw);
             }
 
-        // Write type definitions, if any:
-        if (types.size() > 0) {
-        for (Iterator<String> i=types.keySet().iterator(); i.hasNext();) {
-            CustomEntryType tp = (CustomEntryType)types.get(i.next());
-            tp.save(fw);
-            fw.write(Globals.NEWLINE);
-        }
+            // Write type definitions, if any:
+            if (types.size() > 0) {
+                for (Iterator<String> i = types.keySet().iterator(); i.hasNext();) {
+                    CustomEntryType tp = (CustomEntryType) types.get(i.next());
+                    tp.save(fw);
+                    fw.write(Globals.NEWLINE);
+                }
 
-        }
+            }
 
             fw.close();
-        }
-         catch (Throwable ex)
-        {
+        } catch (Throwable ex) {
             try {
                 session.cancel();
                 //repairAfterError(file, backup, status);
             } catch (IOException e) {
                 // Argh, another error? Can we do anything?
                 e.printStackTrace();
-                throw new SaveException(ex.getMessage()+""\n""+
-                        Globals.lang(""Warning: could not complete file repair; your file may ""
-                        +""have been corrupted. Error message"")+"": ""+e.getMessage());
+                throw new SaveException(ex.getMessage() + ""\n""
+                        + Globals.lang(""Warning: could not complete file repair; your file may ""
+                                + ""have been corrupted. Error message"") + "": "" + e.getMessage());
             }
             throw new SaveException(ex.getMessage(), be);
-    }
+        }
 
         return session;
 
     }
 
-
     /**
      * This method attempts to get a Reader for the file path given, either by
-     * loading it as a resource (from within jar), or as a normal file.
-     * If unsuccessful (e.g. file not found), an IOException is thrown.
+     * loading it as a resource (from within jar), or as a normal file. If
+     * unsuccessful (e.g. file not found), an IOException is thrown.
      */
     public static Reader getReader(String name) throws IOException {
-      Reader reader = null;
-      // Try loading as a resource first. This works for files inside the jar:
-      URL reso = Globals.class.getResource(name);
+        Reader reader = null;
+        // Try loading as a resource first. This works for files inside the jar:
+        URL reso = Globals.class.getResource(name);
 
-      // If that didn't work, try loading as a normal file URL:
-      if (reso != null) {
-        try {
-          reader = new InputStreamReader(reso.openStream());
-        } catch (FileNotFoundException ex) {
-          throw new IOException(Globals.lang(""Could not find layout file"")+"": '""+name+""'."");
-        }
-      } else {
-        File f = new File(name);
-        try {
-          reader = new FileReader(f);
-        } catch (FileNotFoundException ex) {
-          throw new IOException(Globals.lang(""Could not find layout file"")+"": '""+name+""'."");
+        // If that didn't work, try loading as a normal file URL:
+        if (reso != null) {
+            try {
+                reader = new InputStreamReader(reso.openStream());
+            } catch (FileNotFoundException ex) {
+                throw new IOException(Globals.lang(""Could not find layout file"") + "": '"" + name + ""'."");
+            }
+        } else {
+            File f = new File(name);
+            try {
+                reader = new FileReader(f);
+            } catch (FileNotFoundException ex) {
+                throw new IOException(Globals.lang(""Could not find layout file"") + "": '"" + name + ""'."");
+            }
         }
-      }
 
-      return reader;
+        return reader;
     }
 
     /*
-    * We have begun to use getSortedEntries() for both database save operations
-    * and non-database save operations.  In a non-database save operation
-    * (such as the exportDatabase call), we do not wish to use the
-    * global preference of saving in standard order.
-    */
+     * We have begun to use getSortedEntries() for both database save operations
+     * and non-database save operations.  In a non-database save operation
+     * (such as the exportDatabase call), we do not wish to use the
+     * global preference of saving in standard order.
+     */
     @SuppressWarnings(""unchecked"")
-	public static List<BibtexEntry> getSortedEntries(BibtexDatabase database, Set<String> keySet, boolean isSaveOperation) {
-        boolean inOriginalOrder = isSaveOperation ? Globals.prefs.getBoolean(""saveInOriginalOrder"") :
-            Globals.prefs.getBoolean(""exportInOriginalOrder"");
+    public static List<BibtexEntry> getSortedEntries(BibtexDatabase database, Set<String> keySet, boolean isSaveOperation) {
+        boolean inOriginalOrder = isSaveOperation ? Globals.prefs.getBoolean(""saveInOriginalOrder"")
+                : Globals.prefs.getBoolean(""exportInOriginalOrder"");
         List<Comparator<BibtexEntry>> comparators;
         if (inOriginalOrder) {
             // Sort entries based on their creation order, utilizing the fact
@@ -524,14 +501,15 @@ public static Reader getReader(String name) throws IOException {
         } else {
             comparators = getSaveComparators(isSaveOperation);
         }
-        
+
         // Use glazed lists to get a sorted view of the entries:
         FieldComparatorStack<BibtexEntry> comparatorStack = new FieldComparatorStack<BibtexEntry>(comparators);
         BasicEventList entryList = new BasicEventList();
         SortedList sorter = new SortedList(entryList, comparatorStack);
 
-        if (keySet == null)
+        if (keySet == null) {
             keySet = database.getKeySet();
+        }
 
         if (keySet != null) {
             Iterator<String> i = keySet.iterator();
@@ -543,19 +521,16 @@ public static Reader getReader(String name) throws IOException {
         return sorter;
     }
 
-    /** 
+    /**
      * @return true iff the entry has a nonzero value in its field.
      */
-    private static boolean nonZeroField(BibtexEntry be, String field)
-    {
+    private static boolean nonZeroField(BibtexEntry be, String field) {
         String o = (be.getField(field));
 
         return ((o != null) && !o.equals(""0""));
     }
 }
 
-
-
 ///////////////////////////////////////////////////////////////////////////////
 //  END OF FILE.
 ///////////////////////////////////////////////////////////////////////////////, @@ -1352,11 +1352,11 @@ else if (i == URL_COL)
 
         /*
          * // Default sort order: String[] sortFields = new String[]
-         * {Globals.prefs.get(""priSort""), Globals.prefs.get(""secSort""),
-         * Globals.prefs.get(""terSort"")}; boolean[] sortDirections = new
-         * boolean[] {Globals.prefs.getBoolean(""priDescending""),
-         * Globals.prefs.getBoolean(""secDescending""),
-         * Globals.prefs.getBoolean(""terDescending"")}; // descending
+         * {Globals.prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD), Globals.prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD),
+         * Globals.prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD)}; boolean[] sortDirections = new
+         * boolean[] {Globals.prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING),
+         * Globals.prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING),
+         * Globals.prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING)}; // descending
          */
         sortedList.getReadWriteLock().writeLock().lock();
         comparatorChooser.appendComparator(PAD, 0, false);, @@ -377,14 +377,19 @@ private void setupComparatorChooser() {
             comparators.add(new FieldComparator(tableFormat.getColumnName(i).toLowerCase()));
         }
 
-
         // Set initial sort columns:
 
         // Default sort order:
-        String[] sortFields = new String[] {Globals.prefs.get(""priSort""), Globals.prefs.get(""secSort""),
-            Globals.prefs.get(""terSort"")};
-        boolean[] sortDirections = new boolean[] {Globals.prefs.getBoolean(""priDescending""),
-            Globals.prefs.getBoolean(""secDescending""), Globals.prefs.getBoolean(""terDescending"")}; // descending
+        String[] sortFields = new String[] {
+            Globals.prefs.get(JabRefPreferences.PRIMARY_SORT_FIELD), 
+            Globals.prefs.get(JabRefPreferences.SECONDARY_SORT_FIELD),
+            Globals.prefs.get(JabRefPreferences.TERTIARY_SORT_FIELD)
+        };
+        boolean[] sortDirections = new boolean[]{
+            Globals.prefs.getBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING),
+            Globals.prefs.getBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING),
+            Globals.prefs.getBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING)
+        }; // descending
 
         sortedForTable.getReadWriteLock().writeLock().lock();
         for (int i=0; i<sortFields.length; i++) {
@@ -414,24 +419,24 @@ public void actionPerformed(ActionEvent actionEvent) {
                 // Update preferences:
                 int count = Math.min(fields.size(), order.size());
                 if (count >= 1) {
-                    Globals.prefs.put(""priSort"", fields.get(0));
-                    Globals.prefs.putBoolean(""priDescending"", order.get(0));
+                    Globals.prefs.put(JabRefPreferences.PRIMARY_SORT_FIELD, fields.get(0));
+                    Globals.prefs.putBoolean(JabRefPreferences.PRIMARY_SORT_DESCENDING, order.get(0));
                 }
                 if (count >= 2) {
-                    Globals.prefs.put(""secSort"", fields.get(1));
-                    Globals.prefs.putBoolean(""secDescending"", order.get(1));
+                    Globals.prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD, fields.get(1));
+                    Globals.prefs.putBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING, order.get(1));
                 }
                 else {
-                    Globals.prefs.put(""secSort"", """");
-                    Globals.prefs.putBoolean(""secDescending"", false);
+                    Globals.prefs.put(JabRefPreferences.SECONDARY_SORT_FIELD, """");
+                    Globals.prefs.putBoolean(JabRefPreferences.SECONDARY_SORT_DESCENDING, false);
                 }
                 if (count >= 3) {
-                    Globals.prefs.put(""terSort"", fields.get(2));
-                    Globals.prefs.putBoolean(""terDescending"", order.get(2));
+                    Globals.prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD, fields.get(2));
+                    Globals.prefs.putBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING, order.get(2));
                 }
                 else {
-                    Globals.prefs.put(""terSort"", """");
-                    Globals.prefs.putBoolean(""terDescending"", false);
+                    Globals.prefs.put(JabRefPreferences.TERTIARY_SORT_FIELD, """");
+                    Globals.prefs.putBoolean(JabRefPreferences.TERTIARY_SORT_DESCENDING, false);
                 }
             }
 , ","This will add a new ""File Sorting"" Tab to the preferences that allows to exactly specify the sort and export order of entries, rather than the rather limited set of choices that were available to date.",New Sorting/Export preferences
2,Simon Harrer,"['build-wrapper.xml', 'build.gradle', 'src/extensions/SimpleCsvImporter.java']","@@ -0,0 +1,3 @@
+<project default=""test"">
+    <include file=""build.xml"" as=""antTargets""/>
+</project>
\ No newline at end of file, @@ -0,0 +1,61 @@
+apply plugin: ""java""
+apply plugin: ""eclipse""
+apply plugin: ""idea""
+apply plugin: ""application""
+
+repositories {
+    mavenCentral()
+}
+
+sourceSets {
+    main {
+        java {
+            srcDir ""src/java""
+        }
+        resources {
+            srcDirs = [""src""]
+        }
+    }
+}
+
+dependencies {
+
+    // jgoodies
+    compile 'com.jgoodies:jgoodies-common:1.4.0'
+    compile 'com.jgoodies:jgoodies-forms:1.6.0'
+    compile 'com.jgoodies:jgoodies-looks:2.5.2'
+
+    compile 'org.apache.pdfbox:pdfbox:1.7.1'
+    compile 'org.apache.pdfbox:fontbox:1.7.1'
+    compile 'org.apache.pdfbox:jempbox:1.7.1'
+
+
+    compile 'org.openoffice:juh:3.2.1'
+    compile 'org.openoffice:jurt:3.2.1'
+    compile 'org.openoffice:ridl:3.2.1'
+    compile 'org.openoffice:unoil:3.2.1'
+
+    compile 'org.antlr:antlr:3.4'
+
+    compile 'mysql:mysql-connector-java:5.0.7'
+    compile 'org.postgresql:postgresql:9.2-1002-jdbc4'
+
+    compile fileTree(dir: 'lib', includes: ['glazedlists-1.8.0_java15.jar', 'jayatana-1.2.4.jar', 'microba.jar', 'spin.jar'])
+
+    // not available in maven repository
+    compile fileTree(dir: 'lib/plugin', includes: ['jpf.jar', 'jpf-boot.jar', 'commons-logging.jar', 'JPFCodeGenerator-rt.jar'])
+
+    compile fileTree(dir: 'lib/spl/jersey', includes: ['*.jar'])
+    compile fileTree(dir: 'lib/spl/sciplore', includes: ['*.jar'])
+
+    compile 'junit:junit:3.8.2'
+}
+
+// use ant targets with prefix antTargets.XXXXX
+ant.importBuild ""build-wrapper.xml""
+
+compileJava.dependsOn ""antTargets.generate""
+
+task wrapper(type: Wrapper) {
+    gradleVersion = '1.11'
+}
\ No newline at end of file, @@ -13,8 +13,14 @@ public String getFormatName() {
   public boolean isRecognizedFormat(InputStream stream) throws IOException {
     return true; // this is discouraged except for demonstration purposes
   }
-  
-  public List importEntries(InputStream stream) throws IOException {    
+
+    @Override
+    public List<BibtexEntry> importEntries(InputStream in, OutputPrinter status) throws IOException {
+        // MUST BE IMPLEMENTED
+        return null;
+    }
+
+    public List importEntries(InputStream stream) throws IOException {
     ArrayList bibitems = new ArrayList();
     BufferedReader in = new BufferedReader(ImportFormatReader.getReaderDefaultEncoding(stream));
       , ",This adds basic gradle integration. The project files for Intellij and Eclipse can be generated and JabRef can be started from within the IDEs as well as the tests can be run with errors. ,Basic gradle integration
3,Egon Willighagen,['src/resource/JabRef_nl.properties'],"@@ -34,7 +34,7 @@ Abbreviate_journal_names_of_the_selected_entries_(ISO_abbreviation)=Kort_tijdsch
 Abbreviate_journal_names_of_the_selected_entries_(MEDLINE_abbreviation)=Kort_tijdschriftennamen_met_de_geselecteerde_entries_af_(MEDLINE_afkorting)
 
 Abbreviate_names=Namen_afkorten
-Abbreviated_%0_journal_names.=
+Abbreviated_%0_journal_names.=Afgekorte_tijdschrift_namen
 
 Abbreviation=Afkorting
 
@@ -112,7 +112,7 @@ Append_contents_from_a_BibTeX_database_into_the_currently_viewed_database=Voeg_d
 Append_database=Database_invoegen
 
 append_the_selected_text_to_bibtex_key=voeg_de_geselecteerde_tekst_toe_aan_BibTeX-sleutel
-Application=
+Application=Programma
 
 Apply=Toepassen
 
@@ -159,7 +159,7 @@ Automatically_created_groups=Automatisch_aangemaakte_groepen
 
 Automatically_hide_groups_interface_when_switching_to_a_database_that_contains_no_groups=Verberg_automatisch_het_groepenvenster_bij_overgang_naar_een_database_die_geen_groepen_bevat
 
-Automatically_remove_exact_duplicates=
+Automatically_remove_exact_duplicates=Automatisch_exacte_kopie\u00ebn_verwijderen
 
 Automatically_show_groups_interface_when_switching_to_a_database_that_contains_groups=Toon_automatisch_het_groepenvenster_bij_overgang_naar_een_database_die_groepen_bevat
 
@@ -186,7 +186,7 @@ Background_color_for_optional_fields=Achtergrondkleur_voor_optionele_velden
 Background_color_for_required_fields=Achtergrondkleur_voor_vereiste_velden
 
 Backup_old_file_when_saving=Maak_reservekopie_van_oud_bestand_bij_het_opslaan
-Beta_version=
+Beta_version=Beta_versie
 
 BibTeX_key=BibTeX-sleutel
 
@@ -233,7 +233,7 @@ Change_case=Verander_geval
 
 Change_entry_type=Wijzig_entry_type
 
-Change_file_type=
+Change_file_type=Wijzig_bestandstype
 
 change_key=wijzig_sleutel
 
@@ -305,8 +305,8 @@ Command_line_id=Commandoregel_id
 
 Complete_record=Vervolledig_record
 
-Connect=
-Connect_to_SQL_database=
+Connect=Verbinden
+Connect_to_SQL_database=Verbind_met_een_SQL_database
 Connection_to_IEEEXplore_failed=
 
 Contained_in=bevat_in
@@ -2320,7 +2320,7 @@ Run_HTML_converter_on_title=
 Searching...=
 You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=
 Confirm_selection=
-Unknown_DOI\:_'%0'.=
+Unknown_DOI\:_'%0'.=Unbekende_DOI\:_'%0'.
 Get_BibTeX_entry_from_DOI=
 Prefer_converting_subscripts_and_superscripts_to_equations_rather_than_text=
 Add_{}_to_specified_title_words_on_search_to_keep_the_correct_case=
@@ -2337,7 +2337,7 @@ Unknown_DiVA_entry\:_'%0'.=
 Get_BibTeX_entry_from_DiVA=
 Log=
 
-ISO_690=
+ISO_690=ISO_690
 
 Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units=
 Add_new_entry_and_keep_both_old_entries=
@@ -2381,9 +2381,9 @@ Run_Unicode_converter_on_title,_author(s),_and_abstract=
 Database_has_changed._Do_you_want_to_save_before_closing?=
 Host=
 Invalid_setting=
-Network=
+Network=Netwerk
 Please_specify_both_hostname_and_port=
-Port=
+Port=Poort
 Start_field_contents_in_same_column=
 Use_camel_case_for_field_names_(e.g.,_""HowPublished""_instead_of_""howpublished"")=
 Use_custom_proxy_configuration=
@@ -2393,7 +2393,7 @@ Rebind_C-a,_too=
 
 Show_number_of_elements_contained_in_each_group=
 
-Open_folder=
-Opened_%0_folder(s).=
+Open_folder=Open_map
+Opened_%0_folder(s).=%0_map(pen)_geopend.
 
 Searches_for_unlinked_PDF_files_on_the_file_system=, ",NaN,Some example new Dutch translations via the GitHub web page.
4,Jorge Tornero,"['src/resource/JabRef_da.properties', 'src/resource/JabRef_de.properties', 'src/resource/JabRef_en.properties', 'src/resource/JabRef_es.properties', 'src/resource/JabRef_fr.properties', 'src/resource/JabRef_in.properties', 'src/resource/JabRef_it.properties', 'src/resource/JabRef_nl.properties', 'src/resource/JabRef_no.properties', 'src/resource/JabRef_pt_BR.properties', 'src/resource/JabRef_ru.properties', 'src/resource/JabRef_vi.properties', 'src/resource/JabRef_zh.properties']","@@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 %0_contains_the_Regular_Expression_<b>%1</b>=%0_indeholder_regul\u00e6rudtrykket_<b>%1</b>
 %0_contains_the_term_<b>%1</b>=%0_indeholder_udtrykket_<b>%1</b>, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.55 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 
 %0_contains_the_Regular_Expression_<b>%1</b>=%0_den_regul\u00e4ren_Ausdruck_<b>%1</b>_enth\u00e4lt, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 
 %0_contains_the_Regular_Expression_<b>%1</b>=%0%0&nbsp;contains_the_Regular_Expression_<b>%1</b>
@@ -1097,8 +1097,6 @@ Open_database=Open_database
 
 Open_editor_when_a_new_entry_is_created=Open_editor_when_a_new_entry_is_created
 
-Open_folder=Open_folder
-
 Open_file=Open_file
 
 Open_last_edited_databases_at_startup=Open_last_edited_databases_at_startup
@@ -1957,9 +1955,9 @@ Move_file_to_file_directory.=Move_file_to_file_directory.
 Rename_file_to=Rename_file_to
 <b>All_Entries</b>_(this_group_cannot_be_edited_or_removed)=<b>All_Entries</b>_(this_group_cannot_be_edited_or_removed)
 static_group=static_group
-includes_subgroups=includes_subgroups
-refines_supergroup=refines_supergroup
 dynamic_group=dynamic_group
+refines_supergroup=refines_supergroup
+includes_subgroups=includes_subgroups
 contains=contains
 search_expression=search_expression
 
@@ -2184,16 +2182,16 @@ No_entry_needed_a_clean_up=No_entry_needed_a_clean_up
 One_entry_needed_a_clean_up=One_entry_needed_a_clean_up
 %0_entries_needed_a_clean_up=%0_entries_needed_a_clean_up
 Error_importing_from_database=Error_importing_from_database
-%0_databases_will_be_imported=%0_databases_will_be_imported
-Imported_%0_databases_successfully=Imported_%0_databases_successfully
 Minimize_to_system_tray=Minimize_to_system_tray
 
 Error_downloading_file_'%0'=Error_downloading_file_'%0'
 Download_failed=Download_failed
+%0_databases_will_be_imported=%0_databases_will_be_imported
 
 Importing_cancelled=Importing_cancelled
 There_are_no_available_databases_to_be_imported=There_are_no_available_databases_to_be_imported
 Import_from_SQL_database=Import_from_SQL_database
+Imported_%0_databases_successfully=Imported_%0_databases_successfully
 <_CREATE_NEW_DATABASE_>=<_CREATE_NEW_DATABASE_>
 Remove_Selected=Remove_Selected
 SQL_Database_Exporter=SQL_Database_Exporter
@@ -2245,80 +2243,80 @@ The_current_BibTeX_key_will_be_overwritten._Continue?=The_current_BibTeX_key_wil
 Overwrite_key=Overwrite_key
 Not_overwriting_existing_key._To_change_this_setting,_open_Options_->_Prefererences_->_BibTeX_key_generator=Not_overwriting_existing_key._To_change_this_setting,_open_Options_->_Prefererences_->_BibTeX_key_generator
 How_would_you_like_to_link_to_'%0'?=How_would_you_like_to_link_to_'%0'?
-Marked_entries_as_relevant=Marked_entries_as_relevant
-Marked_entries'_quality_as_good=Marked_entries'_quality_as_good
-no_preview_available=no_preview_available
-Enable_PDF_preview=Enable_PDF_preview
-Show_one_letter_heading_for_icon_columns=Show_one_letter_heading_for_icon_columns
-Help_on_special_fields=Help_on_special_fields
-Enable_special_fields=Enable_special_fields
-Show_rank=Show_rank
-Compact_rank=Compact_rank
-Show_quality=Show_quality
-Show_priority=Show_priority
-Show_relevance=Show_relevance
-Synchronize_with_keywords=Synchronize_with_keywords
-Write_values_of_special_fields_as_separate_fields_to_BibTeX=Write_values_of_special_fields_as_separate_fields_to_BibTeX
-You_have_changed_settings_for_special_fields.=You_have_changed_settings_for_special_fields.
-Changed_special_field_settings=Changed_special_field_settings
 Bibtex_key_patterns=Bibtex_key_patterns
+Changed_special_field_settings=Changed_special_field_settings
+Clear_priority=Clear_priority
+Clear_rank=Clear_rank
+Compact_rank=Compact_rank
 Convert_1st,_2nd,_..._to_real_superscripts=Convert_1st,_2nd,_..._to_real_superscripts
-Manage_content_selectors=Manage_content_selectors
 Dropped_comment_from_database=Dropped_comment_from_database
-Synchronized_special_fields_based_on_keywords=Synchronized_special_fields_based_on_keywords
-Clear_priority=Clear_priority
+Enable_PDF_preview=Enable_PDF_preview
+Enable_special_fields=Enable_special_fields
+Five_stars=Five_stars
+Four_stars=Four_stars
+Help_on_special_fields=Help_on_special_fields
+Keywords_of_selected_entries=Keywords_of_selected_entries
+Manage_content_selectors=Manage_content_selectors
+Manage_keywords=Manage_keywords
+Marked_entries'_quality_as_good=Marked_entries'_quality_as_good
+Marked_entries_as_relevant=Marked_entries_as_relevant
 No_priority_information=No_priority_information
-Set_priority_to_high=Set_priority_to_high
+No_rank_information=No_rank_information
+One_star=One_star
+Priority=Priority
 Priority_high=Priority_high
-Set_priority_to_medium=Set_priority_to_medium
-Priority_medium=Priority_medium
-Set_priority_to_low=Set_priority_to_low
 Priority_low=Priority_low
-Priority=Priority
-Toogle_quality_assured=Toogle_quality_assured
+Priority_medium=Priority_medium
 Quality=Quality
 Rank=Rank
-Clear_rank=Clear_rank
-No_rank_information=No_rank_information
+Relevance=Relevance
+Set_priority_to_high=Set_priority_to_high
+Set_priority_to_low=Set_priority_to_low
+Set_priority_to_medium=Set_priority_to_medium
+Set_rank_to_five_stars=Set_rank_to_five_stars
+Set_rank_to_four_stars=Set_rank_to_four_stars
 Set_rank_to_one_star=Set_rank_to_one_star
-One_star=One_star
-Set_rank_to_two_stars=Set_rank_to_two_stars
-Two_stars=Two_stars
 Set_rank_to_three_stars=Set_rank_to_three_stars
+Set_rank_to_two_stars=Set_rank_to_two_stars
+Show_one_letter_heading_for_icon_columns=Show_one_letter_heading_for_icon_columns
+Show_priority=Show_priority
+Show_quality=Show_quality
+Show_rank=Show_rank
+Show_relevance=Show_relevance
+Synchronize_with_keywords=Synchronize_with_keywords
+Synchronized_special_fields_based_on_keywords=Synchronized_special_fields_based_on_keywords
 Three_stars=Three_stars
-Set_rank_to_four_stars=Set_rank_to_four_stars
-Four_stars=Four_stars
-Set_rank_to_five_stars=Set_rank_to_five_stars
-Five_stars=Five_stars
 Toggle_relevance=Toggle_relevance
-Relevance=Relevance
-Manage_keywords=Manage_keywords
-Keywords_of_selected_entries=Keywords_of_selected_entries
+Toogle_quality_assured=Toogle_quality_assured
+Two_stars=Two_stars
 Update_keywords=Update_keywords
+Write_values_of_special_fields_as_separate_fields_to_BibTeX=Write_values_of_special_fields_as_separate_fields_to_BibTeX
+You_have_changed_settings_for_special_fields.=You_have_changed_settings_for_special_fields.
+no_preview_available=no_preview_available
+%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.
+A_string_with_that_label_already_exists=A_string_with_that_label_already_exists
+Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.
 
 Correct_the_entry,_and_reopen_editor_to_display/edit_source.=Correct_the_entry,_and_reopen_editor_to_display/edit_source.
-When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above
-If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.
-To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.
-Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!
-A_string_with_that_label_already_exists=A_string_with_that_label_already_exists
 Could_not_connect_to_a_running_gnuserv_process._Make_sure_that_Emacs_or_XEmacs_is_running,<BR>and_that_the_server_has_been_started_(by_running_the_command_'server-start'/'gnuserv-start').=Could_not_connect_to_a_running_gnuserv_process._Make_sure_that_Emacs_or_XEmacs_is_running,<BR>and_that_the_server_has_been_started_(by_running_the_command_'server-start'/'gnuserv-start').
-Use_the_following_delimiter_character(s)\:=Use_the_following_delimiter_character(s):
+Could_not_connect_to_running_OpenOffice.\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\nIf_connecting_manually,_please_verify_program_and_library_paths.\n\nError_message\:_=Could_not_connect_to_running_OpenOffice.\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\nIf_connecting_manually,_please_verify_program_and_library_paths.\n\nError_message:_
 Created_group_""%0"".=Created_group_""%0"".
+If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.
+Import_Metadata_From_PDF=Import_Metadata_From_PDF
+Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.
+Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!
 Removed_all_subgroups_of_group_""%0"".=Removed_all_subgroups_of_group_""%0"".
-%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.
+To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.
 Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.=Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.
-Could_not_connect_to_running_OpenOffice.\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\nIf_connecting_manually,_please_verify_program_and_library_paths.\n\nError_message\:_=Could_not_connect_to_running_OpenOffice.\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\nIf_connecting_manually,_please_verify_program_and_library_paths.\n\nError_message:_
-Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.
-Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.
-Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.
-Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.
 Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.=Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.
-Import_Metadata_From_PDF=Import_Metadata_From_PDF
+Use_the_following_delimiter_character(s)\:=Use_the_following_delimiter_character(s):
+When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above
+Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.
+Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.
+Error_fetching_from_Google_Scholar=Error_fetching_from_Google_Scholar
 
 Run_HTML_converter_on_title=Run_HTML_converter_on_title
 Searching...=Searching...
-Error_fetching_from_Google_Scholar=Error_fetching_from_Google_Scholar
 You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?
 Confirm_selection=Confirm_selection
 Unknown_DOI\:_'%0'.=Unknown_DOI:_'%0'.
@@ -2339,35 +2337,35 @@ Get_BibTeX_entry_from_DiVA=Get_BibTeX_entry_from_DiVA
 Log=Log
 
 ISO_690=ISO_690
-
-Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search
-Use_Emacs_key_bindings=Use_Emacs_key_bindings
-Merge_entries=Merge_entries
-Show_URL_first=Show_URL_first
-Show_DOI_first=Show_DOI_first
-Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations
 Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units=Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units
-First_entry=First_entry
-Use_1st=Use_1st
-None=None
-Use_2nd=Use_2nd
-Second_entry=Second_entry
-You_have_to_choose_exactly_two_entries_to_merge.=You_have_to_choose_exactly_two_entries_to_merge.
-Merged_entry=Merged_entry
-Error_in_entry=Error_in_entry
 Add_new_entry_and_keep_both_old_entries=Add_new_entry_and_keep_both_old_entries
-Replace_old_entries_with_new_entry=Replace_old_entries_with_new_entry
 Cancelled_merging_entries=Cancelled_merging_entries
+Error_in_entry=Error_in_entry
+First_entry=First_entry
+
+Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search
+Merge_entries=Merge_entries
 Merged_entries_into_a_new_and_kept_the_old=Merged_entries_into_a_new_and_kept_the_old
 Merged_entries_into_a_new_and_removed_the_old=Merged_entries_into_a_new_and_removed_the_old
+Merged_entry=Merged_entry
+None=None
 Parse=Parse
+Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations
+Replace_old_entries_with_new_entry=Replace_old_entries_with_new_entry
 Result=Result
+Second_entry=Second_entry
+Show_DOI_first=Show_DOI_first
+Show_URL_first=Show_URL_first
+Use_1st=Use_1st
+Use_2nd=Use_2nd
+Use_Emacs_key_bindings=Use_Emacs_key_bindings
+You_have_to_choose_exactly_two_entries_to_merge.=You_have_to_choose_exactly_two_entries_to_merge.
 
 Update_timestamp_on_modification=Update_timestamp_on_modification
 change_field=change_field
+All_key_bindings_will_be_reset_to_their_defaults.=All_key_bindings_will_be_reset_to_their_defaults.
 
 Automatically_set_file_links=Automatically_set_file_links
-All_key_bindings_will_be_reset_to_their_defaults.=All_key_bindings_will_be_reset_to_their_defaults.
 Continue?=Continue?
 Resetting_all_key_bindings=Resetting_all_key_bindings
 Save_entries_ordered_by_title=Save_entries_ordered_by_title
@@ -2378,23 +2376,25 @@ Include_empty_fields=Include_empty_fields
 Field_saving_options=Field_saving_options
 Field_value_delimiter._E.g.,_""author\={x}""_or_""author\='x'""=Field_value_delimiter._E.g.,_""author={x}""_or_""author='x'""
 Run_Unicode_converter_on_title,_author(s),_and_abstract=Run_Unicode_converter_on_title,_author(s),_and_abstract
+Database_has_changed._Do_you_want_to_save_before_closing?=Database_has_changed._Do_you_want_to_save_before_closing?
+Host=Host
+Invalid_setting=Invalid_setting
+Network=Network
+Please_specify_both_hostname_and_port=Please_specify_both_hostname_and_port
+Port=Port
 
 Start_field_contents_in_same_column=Start_field_contents_in_same_column
 Use_camel_case_for_field_names_(e.g.,_""HowPublished""_instead_of_""howpublished"")=Use_camel_case_for_field_names_(e.g.,_""HowPublished""_instead_of_""howpublished"")
-Database_has_changed._Do_you_want_to_save_before_closing?=Database_has_changed._Do_you_want_to_save_before_closing?
 Use_custom_proxy_configuration=Use_custom_proxy_configuration
-Network=Network
-Host=Host
-Port=Port
-Please_specify_both_hostname_and_port=Please_specify_both_hostname_and_port
-Invalid_setting=Invalid_setting
 Clear_connection_settings=Clear_connection_settings
 Cleared_connection_settings.=Cleared_connection_settings.
 
 Rebind_C-a,_too=Rebind_C-a,_too
 
 Show_number_of_elements_contained_in_each_group=Show_number_of_elements_contained_in_each_group
 
+Open_folder=Open_folder
+Opened_%0_folder(s).=Opened_%0_folder(s).
+
 
 Searches_for_unlinked_PDF_files_on_the_file_system=Searches_for_unlinked_PDF_files_on_the_file_system
-Opened_%0_folder(s).=Opened_%0_folder(s)., @@ -1,6 +1,6 @@
 #!
-#!_created/edited_by_Popeye_version_0.55_(https://github.com/koppor/popeye)
-#!_encoding:ISO-8859-1
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
+#! encoding:ISO-8859-1
 %0_contains_the_Regular_Expression_<b>%1</b>=%0%0&nbsp;contiene_la_expresi\u00f3n_regular_<b>%1</b>
 %0_contains_the_term_<b>%1</b>=%0%nbsp;contiene_el_t\u00e9rmino_<b>%1</b>
 %0_doesn't_contain_the_Regular_Expression_<b>%1</b>=%0_no_contiene_la_Expresi\u00f3n_Regular_<b>&1</b>
@@ -307,6 +307,7 @@ Entry_type_names_are_not_allowed_to_contain_white_space_or_the_following_charact
 Entry_types=Tipos_de_entrada
 Error=Error
 Error\:_=Error:
+Error_converting_BibTeX_to_XMP\:_%0=Error convirtiendo BibTeX a XMP:_%0
 Error_converting_XMP_to_'%0'...=Error_convirtiendo_XMP_a_'%0'...
 Error_exporting_to_clipboard=Error_exportando_al_portapapeles
 Error_in_field=Error_en_campo
@@ -370,6 +371,7 @@ Finished_autosetting_external_links.=Se_ha_finalizado_la_configuraci\u00f3n_auto
 Finished_synchronizing_%0_links._Entries_changed%c_%1.=Se_ha_finalizado_la_sincronizaci\u00f3n_de_%0_enlaces._Se_cambiaron_%c_%1_entradas.
 Finished_writing_XMP-metadata._Wrote_to_%0_file(s).=Se_ha_finalizado_la_escritura_de_los_metadtos_XMP._Se_escribi\u00f3_en_%0_archivo(s).
 Finished_writing_XMP_for_%0_file_(%1_skipped,_%2_errors).=Se_finaliz\u00f3_la_escritura_XMP_en_archivo_%0_(%1_evitados,_%2_errores).
+First_select_the_entries_you_want_keys_to_be_generated_for.=En primer lugar, seleccione las entradas para las que desea generar claves
 Fit_table_horizontally_on_screen=Ajustar_la_tabla_al_ancho_de_pantalla
 Float=Flotar
 Float_marked_entries=Flotar_entradas_marcadas
@@ -758,6 +760,7 @@ Search_general_fields=Buscar_en_campos_generales
 Search_IEEEXplore=Buscar_en_IEEEXplore
 Search_optional_fields=Buscar_en_campos_opcionales
 Search_required_fields=Buscar_en_requeridos
+Search_specified_field(s)=Buscar en campo(s) especificado(s)
 Searched_database._Global_number_of_hits=Se_ha_buscado_en_la_base_de_datos._N\u00famero_global_de_coincidencias
 Searched_database._Number_of_hits=Se_ha_buscado_en_la_base_de_datos._N\u00famero_de_aciertos
 Searching_for_%0_file=Buscando_el_archivo_%0
@@ -1107,6 +1110,7 @@ Old_plugin_versions_will_be_deleted_next_time_JabRef_starts_up.=Las_versiones_an
 Formatter_not_found\:_%0=Formateador_no_encontrado\:_%0
 The_following_formatters_could_not_be_found=Los_siguientes_formateadores_no_se_pueden_encontrar
 Clear_inputarea=Limpiar_\u00e1rea_de_entrada
+Automatically_set_file_links_for_this_entry=Ajustar enlaces de archivo autom\u00c3\u00a1ticamente para esta entrada
 Could_not_save,_file_locked_by_another_JabRef_instance.=No_se_puede_guardar._Fichero_bloqueado_por_otra_instancia_JabRef.
 File_is_locked_by_another_JabRef_instance.=El_archivo_est\u00e1_bloqueado_por_otra_instancia_de_JabRef.
 Do_you_want_to_override_the_file_lock?=\u00bfQuiere_saltarse_el_bloqueo_de_archivo?
@@ -1126,9 +1130,9 @@ Move_file_to_file_directory.=Mover_archivo_al_directorio_de_archivos.
 Rename_file_to=Renombrar_archivo_a
 <b>All_Entries</b>_(this_group_cannot_be_edited_or_removed)=<b>Todas_las_entradas</b>_(este_grupo_no_puede_ser_editado_o_eliminado)
 static_group=grupo_est\u00e1tico
-includes_subgroups=incluye_subgrupos
-refines_supergroup=afina_supergrupo
 dynamic_group=grupo_din\u00e1mico
+refines_supergroup=afina_supergrupo
+includes_subgroups=incluye_subgrupos
 contains=contiene
 search_expression=expresi\u00f3n_de_b\u00fasqueda
 Disable_file_renaming_in_non-native_file_dialog=Deshabilitar_renombrado_de_archivo_en_di\u00e1logo_de_archivo_no_nativo.
@@ -1139,6 +1143,7 @@ Error_while_fetching_from_ScienceDirect=Error_al_recuperar_desde_ScienceDirect
 Error_initializing_custom_export_format_from_string_'%0'=Error_inicializando_formato_de_exportaci\u00f3n_personalizado_a_partir_de_la_cadena_'%0'
 BibLaTeX_mode=Modo_BibLaTex
 Optional_fields_2=Campos_opcionales_2
+Waiting_for_save_operation_to_finish=Esperando a que acabe la operaci\u00f3n de guardado
 Resolving_duplicate_BibTeX_keys...=Resolviendo_claves_BibTeX_duplicadas...
 Finished_resolving_duplicate_BibTeX_keys._%0_entries_modified.=Resoluci\u00f3n_de_claves_BibTeX_duplicadas_finalizada._%0_entradas_modificadas.
 This_database_contains_one_or_more_duplicated_BibTeX_keys.=Esta_base_de_datos_contiene_una_o_m\u00e1s_claves_BibTeX_duplicadas.
@@ -1339,14 +1344,14 @@ No_entry_needed_a_clean_up=Ninguna_entrada_necesit\u00f3_de_limpieza
 One_entry_needed_a_clean_up=S\u00f3lo_una_entrada_necesit\u00f3_limpieza
 %0_entries_needed_a_clean_up=%0_entradas_necesitarion_limpieza
 Error_importing_from_database=Error_al_importar_desde_base_de_datos
-%0_databases_will_be_imported=%0_bases_de_datos_ser\u00e1n_importadas
-Imported_%0_databases_successfully=%0_bases_de_datos_importadas_con_\u00e9xito
 Minimize_to_system_tray=Minimizar_a_la_bandeja_del_sistema
 Error_downloading_file_'%0'=Error_descargando_el_archivo_'%0'
 Download_failed=Fall\u00f3_la_descarga
+%0_databases_will_be_imported=%0_bases_de_datos_ser\u00e1n_importadas
 Importing_cancelled=Importaci\u00f3n_cancelada
 There_are_no_available_databases_to_be_imported=No_hay_bases_de_datos_disaponibles_para_importar
 Import_from_SQL_database=Importar_desde_base_de_datos_SQL
+Imported_%0_databases_successfully=%0_bases_de_datos_importadas_con_\u00e9xito
 <_CREATE_NEW_DATABASE_>=<_CREAR_NUEVA_BASE_DE_DATOS_>
 Remove_Selected=Eliminar_seleccionados
 SQL_Database_Exporter=Exportador_a_base_de_datos_SQL
@@ -1361,6 +1366,9 @@ Unknown_preference_key_'%0'=Clave_de_preferencia_desconocida_'%0'
 Unable_to_clear_preferences.=No_es_posible_limpiar_preferencias.
 Reset_preferences_(key1,key2,..._or_'all')=Restablecer_preferencias_(key1,key2,..._or_'todas')
 Find_unlinked_files=Buscar_archivos_desenlazados
+Unselect_all=Deseleccionar todo
+Expand_all=Expandir todo
+Collapse_all=Colapsar todo
 Select_Directory=Seleccionar_directorio
 Choose_Directory=Escoger_directorio
 Use_the_selected_directory_to_start_with_the_search.=Usar_la_carpeta_seleccionada_para_comenzar_la_b\u00fasqueda.
@@ -1393,78 +1401,78 @@ The_current_BibTeX_key_will_be_overwritten._Continue?=La_clave_BibTeX_actual_va_
 Overwrite_key=Sobreescribir_clave
 Not_overwriting_existing_key._To_change_this_setting,_open_Options_->_Prefererences_->_BibTeX_key_generator=No_se_sobreescribir\u00e1_clave_existente._Para_cambiar_este_ajuste,_seleccione_Opciones->Preferencias->Generador_de_claves_BiBTeX
 How_would_you_like_to_link_to_'%0'?=\u00bfC\u00f3mo_desea_enlazar_'%0'?
-Marked_entries_as_relevant=Entradas_marcadas_como_relevantes
-Marked_entries'_quality_as_good=Calidad_de_las_entradas_marcadas_como_buenas
-no_preview_available=sin_vista_previa
-Enable_PDF_preview=Habilitar_vista_previa_de_PDF
-Show_one_letter_heading_for_icon_columns=Mostrar_encabezamiento_de_una_letra_para_columnas_de_icono
-Help_on_special_fields=Ayuda_sobre_campos_especiales
-Enable_special_fields=Habilitar_campos_especiales
-Show_rank=Mostrar_rango
-Compact_rank=Compactar_rango
-Show_quality=Mostrar_cualidad
-Show_priority=Mostrar_prioridad
-Show_relevance=Mostrar_relevancia
-Synchronize_with_keywords=Sincronizar_con_palabras_clave
-Write_values_of_special_fields_as_separate_fields_to_BibTeX=Escribir_valores_de_campos_especiales_como_campos_separados_en_BibTeX
-You_have_changed_settings_for_special_fields.=Ha_cambiado_los_ajustes_para_campos_especiales.
-Changed_special_field_settings=Ajustes_de_campos_especiales_cambiados
 Bibtex_key_patterns=Patrones_de_clave_BibTeX
+Changed_special_field_settings=Ajustes_de_campos_especiales_cambiados
+Clear_priority=Limpiar_prioridad
+Clear_rank=Limpiar_rango
+Compact_rank=Compactar_rango
 Convert_1st,_2nd,_..._to_real_superscripts=Convertir_1st,_2nd,_..._a_super\u00edndices
-Manage_content_selectors=Getionar_selectores_de_contenido
 Dropped_comment_from_database=Eliminado_comentario_de_la_base_de_datos
-Synchronized_special_fields_based_on_keywords=Sincronizar_campos_especiales_basados_en_palabras_clave
-Clear_priority=Limpiar_prioridad
+Enable_PDF_preview=Habilitar_vista_previa_de_PDF
+Enable_special_fields=Habilitar_campos_especiales
+Five_stars=Cinco_estrellas
+Four_stars=Cuatro_estrellas
+Help_on_special_fields=Ayuda_sobre_campos_especiales
+Keywords_of_selected_entries=Palabras_clave_de_las_entradas_seleccionadas
+Manage_content_selectors=Getionar_selectores_de_contenido
+Manage_keywords=Administrar_palabras_clave
+Marked_entries'_quality_as_good=Calidad_de_las_entradas_marcadas_como_buenas
+Marked_entries_as_relevant=Entradas_marcadas_como_relevantes
 No_priority_information=Sin_informaci\u00f3n_de_prioridad
-Set_priority_to_high=Establecer_prioridad_alta
+No_rank_information=Sin_informaci\u00f3n_de_rango
+One_star=Una_estrella
+Priority=Prioridad
 Priority_high=Prioridad_alta
-Set_priority_to_medium=Establecer_prioridad_media
-Priority_medium=Prioridad_media
-Set_priority_to_low=Establecer_prioridad_baja
 Priority_low=Prioridad_baja
-Priority=Prioridad
-Toogle_quality_assured=Conmutar_calidad_asegurada
+Priority_medium=Prioridad_media
 Quality=Calidad
 Rank=Rango
-Clear_rank=Limpiar_rango
-No_rank_information=Sin_informaci\u00f3n_de_rango
+Relevance=Relevancia
+Set_priority_to_high=Establecer_prioridad_alta
+Set_priority_to_low=Establecer_prioridad_baja
+Set_priority_to_medium=Establecer_prioridad_media
+Set_rank_to_five_stars=Establecer_rango_en_cinco_estrellas
+Set_rank_to_four_stars=Establecer_rango_en_cuatro_estrellas
 Set_rank_to_one_star=Establecer_rango_en_una_estrella
-One_star=Una_estrella
-Set_rank_to_two_stars=Establecer_rango_en_dos_estrellas
-Two_stars=Dos_estrellas
 Set_rank_to_three_stars=Establecer_rango_en_tres_estrellas
+Set_rank_to_two_stars=Establecer_rango_en_dos_estrellas
+Show_one_letter_heading_for_icon_columns=Mostrar_encabezamiento_de_una_letra_para_columnas_de_icono
+Show_priority=Mostrar_prioridad
+Show_quality=Mostrar_cualidad
+Show_rank=Mostrar_rango
+Show_relevance=Mostrar_relevancia
+Synchronize_with_keywords=Sincronizar_con_palabras_clave
+Synchronized_special_fields_based_on_keywords=Sincronizar_campos_especiales_basados_en_palabras_clave
 Three_stars=Tres_estrellas
-Set_rank_to_four_stars=Establecer_rango_en_cuatro_estrellas
-Four_stars=Cuatro_estrellas
-Set_rank_to_five_stars=Establecer_rango_en_cinco_estrellas
-Five_stars=Cinco_estrellas
 Toggle_relevance=Conmutar_relevancia
-Relevance=Relevancia
-Manage_keywords=Administrar_palabras_clave
-Keywords_of_selected_entries=Palabras_clave_de_las_entradas_seleccionadas
+Toogle_quality_assured=Conmutar_calidad_asegurada
+Two_stars=Dos_estrellas
 Update_keywords=Actualizar_palabras_clave
-Correct_the_entry,_and_reopen_editor_to_display/edit_source.=Corregir_la_entrada_y_reabrir_el_editor_para_mostrar/editar_fuente.
-When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=Al_descargar_archivos_o_mover_archivos_enlazados_a_la_carpeta_de_archivos,_preferir_la_ubicaci\u00f3n_del_archivo_bib_antes_que_el_directorio_de_archivos_establecido_arriba.
-If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=Si_una_entrada_importada_o_pegada_ya_tiene_el_campo_establecido,_sobreescribir.
-To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=Para_deshabilitar_el_modo_l\u00e1piz_de_memoria,_renombre_o_elimine_el_archivo_jabrf.xml_en_la_misma_carpeta_que_JabRef.
-Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Tenga_en_cuanta_que_es_una_versi\u00f3n_beta_temprana._\u00a1No_la_use_sin_hacer_una_copia_de_seguridad_de_sus_archivos!
+Write_values_of_special_fields_as_separate_fields_to_BibTeX=Escribir_valores_de_campos_especiales_como_campos_separados_en_BibTeX
+You_have_changed_settings_for_special_fields.=Ha_cambiado_los_ajustes_para_campos_especiales.
+no_preview_available=sin_vista_previa
+%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entradas_encontradas._Para_reducir_la_carga_del_servidor,_s\u00f3lo_%1_ser\u00e1(n)_descargada(s).
 A_string_with_that_label_already_exists=Una_cadena_con_esa_etiqueta_ya_existe
+Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=La_conexi\u00f3n_con_OpenOffice/LibreOffice_se_ha_perdido._Aseg\u00farese_de_que_OpenOffice/LibreOffice_est\u00e1_ejecut\u00e1ndose_e_intente_reconectar.
+Correct_the_entry,_and_reopen_editor_to_display/edit_source.=Corregir_la_entrada_y_reabrir_el_editor_para_mostrar/editar_fuente.
 Could_not_connect_to_a_running_gnuserv_process._Make_sure_that_Emacs_or_XEmacs_is_running,<BR>and_that_the_server_has_been_started_(by_running_the_command_'server-start'/'gnuserv-start').=No_se_puede_conectar_con_un_proceso_gnuserv_ejecut\u00e1ndose._Aseg\u00farese_de_que_Emacs_o_XEmacs_est\u00e1_ejecut\u00e1ndose,<BR>y_que_el_servidor_se_ha_arrancado_(ejecutando_el_comando_'server-start'/'gnuserv-start').
-Use_the_following_delimiter_character(s)\:=Usar_como_caracter(es)_delimitador(es):
+Could_not_connect_to_running_OpenOffice.\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\nIf_connecting_manually,_please_verify_program_and_library_paths.\n\nError_message\:_=No_se_puede_conectar_a_un_OpenOffice/LibreOffice_en_ejecuci\u00f3n.\nAseg\u00farese_de_que_tiene_OpenOffice/LibreOffice_instalado_con_soporte_para_Java.\nlf__connecting_manually,_por_favor_verifique_las_ruta_de_programa_y_librer\u00edas.\n\nMensaje_de_error:_
 Created_group_""%0"".=Creado_grupo_""%0"".
+If_a_pasted_or_imported_entry_already_has_the_field_set,_overwrite.=Si_una_entrada_importada_o_pegada_ya_tiene_el_campo_establecido,_sobreescribir.
+Import_Metadata_From_PDF=Importar_metadatos_desde_PDF
+Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=No_conectado_a_ning\u00fan_documento_Writer._Aseg\u00farese_de_que_un_documento_est\u00e1_abierto_y_use_el_bot\u00f3n_""Seleccionar_documento_Writer'_para_conectar_con_\u00e9l.
+Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=Tenga_en_cuanta_que_es_una_versi\u00f3n_beta_temprana._\u00a1No_la_use_sin_hacer_una_copia_de_seguridad_de_sus_archivos!
 Removed_all_subgroups_of_group_""%0"".=Eliminados_todos_los_subgrupos_del_grupo_""%0"".
-%0_entries_found._To_reduce_server_load,_only_%1_will_be_downloaded.=%0_entradas_encontradas._Para_reducir_la_carga_del_servidor,_s\u00f3lo_%1_ser\u00e1(n)_descargada(s).
+To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=Para_deshabilitar_el_modo_l\u00e1piz_de_memoria,_renombre_o_elimine_el_archivo_jabrf.xml_en_la_misma_carpeta_que_JabRef.
 Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.=No_es_posible_conectar._Una_posible_raz\u00f3n_es_que_JabRef_y_OpenOffice/LibreOffice_no_est\u00e1n_funcionado_en_modo_32_bit_o_64_bit.
-Could_not_connect_to_running_OpenOffice.\nMake_sure_you_have_installed_OpenOffice_with_Java_support.\nIf_connecting_manually,_please_verify_program_and_library_paths.\n\nError_message\:_=No_se_puede_conectar_a_un_OpenOffice/LibreOffice_en_ejecuci\u00f3n.\nAseg\u00farese_de_que_tiene_OpenOffice/LibreOffice_instalado_con_soporte_para_Java.\nlf__connecting_manually,_por_favor_verifique_las_ruta_de_programa_y_librer\u00edas.\n\nMensaje_de_error:_
-Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=No_conectado_a_ning\u00fan_documento_Writer._Aseg\u00farese_de_que_un_documento_est\u00e1_abierto_y_use_el_bot\u00f3n_""Seleccionar_documento_Writer'_para_conectar_con_\u00e9l.
-Connection_to_OpenOffice_has_been_lost._Please_make_sure_OpenOffice_is_running,_and_try_to_reconnect.=La_conexi\u00f3n_con_OpenOffice/LibreOffice_se_ha_perdido._Aseg\u00farese_de_que_OpenOffice/LibreOffice_est\u00e1_ejecut\u00e1ndose_e_intente_reconectar.
-Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_p\u00e1rrafo_'%0',_que_no_est\u00e1_definido_en_su_documento_OpenOffice/LibreOffice.
-Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_car\u00e1cter_'%0',_que_no_est\u00e1_definido_en_su_documento_OpenOffice_actual.
 Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.=No_es_posible_determinar_el_nombre_y_versi\u00f3n_del_plugin._Puede_que_no_sea_un_plugin_JabRef_v\u00e1lido.
-Import_Metadata_From_PDF=Importar_metadatos_desde_PDF
+Use_the_following_delimiter_character(s)\:=Usar_como_caracter(es)_delimitador(es):
+When_downloading_files,_or_moving_linked_files_to_the_file_directory,_prefer_the_bib_file_location_rather_than_the_file_directory_set_above=Al_descargar_archivos_o_mover_archivos_enlazados_a_la_carpeta_de_archivos,_preferir_la_ubicaci\u00f3n_del_archivo_bib_antes_que_el_directorio_de_archivos_establecido_arriba.
+Your_style_file_specifies_the_character_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_car\u00e1cter_'%0',_que_no_est\u00e1_definido_en_su_documento_OpenOffice_actual.
+Your_style_file_specifies_the_paragraph_format_'%0',_which_is_undefined_in_your_current_OpenOffice_document.=Su_archivo_de_estilo_especifica_el_formato_de_p\u00e1rrafo_'%0',_que_no_est\u00e1_definido_en_su_documento_OpenOffice/LibreOffice.
+Error_fetching_from_Google_Scholar=Error_recuperando_desde_Google_Scholar
 Run_HTML_converter_on_title=Ejecutar_conversor_HTML_en_t\u00edtulo
 Searching...=Buscando...
-Error_fetching_from_Google_Scholar=Error_recuperando_desde_Google_Scholar
 You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=Ha_seleccionado_m\u00e1s_de_%0_entradas_para_descargar._Algunos_sitios_web_podr\u00edan_bloquearle_si_hace_demasiadas_descargas._\u00bfDesea_continuar?
 Confirm_selection=Confirmar_selecci\u00f3n
 Unknown_DOI\:_'%0'.=DOI_desconocido:_'%0'.
@@ -1484,32 +1492,32 @@ Unknown_DiVA_entry\:_'%0'.=Entrada_DiVA_desconocida:_'%0'.
 Get_BibTeX_entry_from_DiVA=Obtener_entrada_BibTeX_desde_DiVA
 Log=Registro
 ISO_690=ISO_690
-Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Formatear_unidades_a\u00f1adiendo_separadores_no_divisores_y_manteniendo_may\u00fasculas/min\u00fasculas_correctamente_en_la_b\u00fasqueda
-Use_Emacs_key_bindings=Usar_combinaciones_de_teclas_de_Emacs
-Merge_entries=Fusionar_entradas
-Show_URL_first=Mostrar_URL_en_primer_lugar
-Show_DOI_first=Mostrar_DOI_en_primer_lugar
-Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Eliminar_$,_{_y_}_innecesarios_y_mover_n\u00fameros_adyacentes_a_ecuaciones
 Add_brackets_and_replace_separators_with_their_non-breaking_version_for_units=A\u00f1adir_par\u00e9ntesis_y_reemplazar_separadores_con_sus_versiones_no_divisoras_para_unidades.
-First_entry=Primera_entrada
-Use_1st=Usar_primero
-None=Ning\u00fan
-Use_2nd=Usar_segundo
-Second_entry=Segunda_entrada
-You_have_to_choose_exactly_two_entries_to_merge.=Tiene_que_escoger_exactamente_dos_entradas_para_fusionar.
-Merged_entry=Entrada_fusionada
-Error_in_entry=Error_en_la_entrada
 Add_new_entry_and_keep_both_old_entries=A\u00f1adir_nueva_entrada_y_mantener_las_dos_entradas_antiguas
-Replace_old_entries_with_new_entry=Reemplazar_viejas_entradas_con_la_nueva
 Cancelled_merging_entries=Cancelar_fusionado_de_entradas
+Error_in_entry=Error_en_la_entrada
+First_entry=Primera_entrada
+Format_units_by_adding_non-breaking_separators_and_keeping_the_correct_case_on_search=Formatear_unidades_a\u00f1adiendo_separadores_no_divisores_y_manteniendo_may\u00fasculas/min\u00fasculas_correctamente_en_la_b\u00fasqueda
+Merge_entries=Fusionar_entradas
 Merged_entries_into_a_new_and_kept_the_old=Fusionar_entradas_en_una_nueva_y_mantener_la_antigua
 Merged_entries_into_a_new_and_removed_the_old=Entradas_fusionadas_en_una_nueva_y_eliminada_la_antigua
+Merged_entry=Entrada_fusionada
+None=Ning\u00fan
 Parse=Analizar
+Remove_unneccessary_$,_{,_and_}_and_move_adjacent_numbers_into_equations=Eliminar_$,_{_y_}_innecesarios_y_mover_n\u00fameros_adyacentes_a_ecuaciones
+Replace_old_entries_with_new_entry=Reemplazar_viejas_entradas_con_la_nueva
 Result=Resultado
+Second_entry=Segunda_entrada
+Show_DOI_first=Mostrar_DOI_en_primer_lugar
+Show_URL_first=Mostrar_URL_en_primer_lugar
+Use_1st=Usar_primero
+Use_2nd=Usar_segundo
+Use_Emacs_key_bindings=Usar_combinaciones_de_teclas_de_Emacs
+You_have_to_choose_exactly_two_entries_to_merge.=Tiene_que_escoger_exactamente_dos_entradas_para_fusionar.
 Update_timestamp_on_modification=Actualizar_marca_de_tiempo_al_modificar
 change_field=cambiar_campo
-Automatically_set_file_links=Establecer_enlaces_de_archivo_autom\u00e1ticamente
 All_key_bindings_will_be_reset_to_their_defaults.=Todas_las_combinaciones_de_teclas_ser\u00e1n_restablecidas_a_su_configuraci\u00f3n_por_defecto
+Automatically_set_file_links=Establecer_enlaces_de_archivo_autom\u00e1ticamente
 Continue?=\u00bfContinuar?
 Resetting_all_key_bindings=Reestableciendo_todas_las_combinaciones_de_teclas
 Save_entries_ordered_by_title=Guardar_entradas_ordenadas_por_t\u00edtulo
@@ -1520,29 +1528,21 @@ Include_empty_fields=Incluir_campos_vac\u00edos
 Field_saving_options=Opciones_de_guardado_de_campo
 Field_value_delimiter._E.g.,_""author\={x}""_or_""author\='x'""=Delimitador_de_valor_de_campo._Ej._""author={x}""_o_""author='x'""
 Run_Unicode_converter_on_title,_author(s),_and_abstract=Ejecutar_conversor_Unicode_en_t\u00edtulo,_autor(es)_y_resumen
-Start_field_contents_in_same_column=Comenzar_los_contenidos_del_campo_en_la_misma_columna
-Use_camel_case_for_field_names_(e.g.,_""HowPublished""_instead_of_""howpublished"")=Usar_camel_case_para_nombres_de_campo_UEj._""VistaHermosa""_en_lugar_de_""vistahermosa"")
 Database_has_changed._Do_you_want_to_save_before_closing?=La_base_de_datos_ha_cambiado._\u00bfDesea_guardar_antes_de_cerra?
-Use_custom_proxy_configuration=Usar_configuraci\u00f3n_de_proxy_personalizada
-Network=Red
 Host=Host
-Port=Puerto
-Please_specify_both_hostname_and_port=Especifique_tanto_nombre_de_host_como_puerto
 Invalid_setting=Ajuste_inv\u00e1lido
-Automatically_set_file_links_for_this_entry=Ajustar enlaces de archivo autom\u00c3\u00a1ticamente para esta entrada
+Network=Red
+Please_specify_both_hostname_and_port=Especifique_tanto_nombre_de_host_como_puerto
+Port=Puerto
+Start_field_contents_in_same_column=Comenzar_los_contenidos_del_campo_en_la_misma_columna
+Use_camel_case_for_field_names_(e.g.,_""HowPublished""_instead_of_""howpublished"")=Usar_camel_case_para_nombres_de_campo_UEj._""VistaHermosa""_en_lugar_de_""vistahermosa"")
+Use_custom_proxy_configuration=Usar_configuraci\u00f3n_de_proxy_personalizada
 Clear_connection_settings=Limpiar ajustes de conexi\u00c3\u00b3n
 Cleared_connection_settings.=Ajustes de conexi\u00f3n limpiados
-Collapse_all=Colapsar todo
-Error_converting_BibTeX_to_XMP\:_%0=Error convirtiendo BibTeX a XMP:_%0
-Expand_all=Expandir todo
-First_select_the_entries_you_want_keys_to_be_generated_for.=En primer lugar, seleccione las entradas para las que desea generar claves
 Rebind_C-a,_too=Volver a combinar C-a tambi\u00c3\u00a9n
-Search_specified_field(s)=Buscar en campo(s) especificado(s)
-Unselect_all=Deseleccionar todo
-Waiting_for_save_operation_to_finish=Esperando a que acabe la operaci\u00f3n de guardado
 Show_number_of_elements_contained_in_each_group=Mostrar n\u00famero de elementos contenidos en cada grupo
 
-Open_folder=
-Opened_%0_folder(s).=
+Open_folder=Abrir_carpeta
+Opened_%0_folder(s).=Se_abrieron_%0_carpeta(s).
 
-Searches_for_unlinked_PDF_files_on_the_file_system=
+Searches_for_unlinked_PDF_files_on_the_file_system=Busca_archivos_PDF_sin_enlazar_en_el_sistema_de_archivos, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 %0_contains_the_Regular_Expression_<b>%1</b>=%0&nbsp;contient_l'expression_r\u00e9guli\u00e8re_<b>%1</b>
 %0_contains_the_term_<b>%1</b>=%0&nbsp;contient_le_terme_<b>%1</b>
@@ -1516,8 +1516,8 @@ Run_HTML_converter_on_title=Lancer_le_convertisseur_HTML_sur_le_titre
 Searching...=Recherche...
 You_have_selected_more_than_%0_entries_for_download._Some_web_sites_might_block_you_if_you_make_too_many_rapid_downloads._Do_you_want_to_continue?=Vous_avez_s\u00e9lectionn\u00e9_plus_de_%0_entr\u00e9es_\u00e0_t\u00e9l\u00e9charger._Certains_sites_web_pourraient_vous_bloquer_si_vous_effectuez_de_trop_nombreux_et_rapides_t\u00e9l\u00e9chargements._Voulez-vous_continuer?
 Confirm_selection=Confirmez_la_s\u00e9lection
-Get_BibTeX_entry_from_DOI=Obtenir_l'entr\u00e9e_BibTeX_\u00e0_partir_du_DOI
 Unknown_DOI\:_'%0'.=DOI_inconnu_:_'%0'.
+Get_BibTeX_entry_from_DOI=Obtenir_l'entr\u00e9e_BibTeX_\u00e0_partir_du_DOI
 Prefer_converting_subscripts_and_superscripts_to_equations_rather_than_text=Conversion_des_indices_et_exposants_en_\u00e9quations_plut\u00f4t_qu'en_texte
 Add_{}_to_specified_title_words_on_search_to_keep_the_correct_case=Ajouter_{}_aux_mots_du_titre_sp\u00e9cifi\u00e9s_lors_d'une_recherche_pour_pr\u00e9server_la_casse_correcte
 Import_conversions=Importer_les_conversions, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 %0_contains_the_Regular_Expression_<b>%1</b>=%0_mengandung_Ekspresi_Reguler_<b>%1</b>
 %0_contains_the_term_<b>%1</b>=%_mengandung_istilah_<b>%1</b>, @@ -1,5 +1,5 @@
 #!
-#! edited by Eclipse PropertiesEditor
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 %0_contains_the_Regular_Expression_<b>%1</b>=%0_contiene_l'Espressione_Regolare_<b>%1</b>
 %0_contains_the_term_<b>%1</b>=%0_contiene_il_termine_<b>%1</b>
@@ -1429,6 +1429,9 @@ Show=Mostra
 This_is_a_simple_copy_and_paste_dialog._First_load_or_paste_some_text_into_the_text_input_area.<br>After_that,_you_can_mark_text_and_assign_it_to_a_BibTeX_field.=Questo_\u00e8_un_semplice_dialogo_di_copia_e_incolla._Prima_carica_o_incolla_il_testo_nell'area_di_inserimento_di_testo.<BR>Quindi_\u00e8_possibile_selezionare_parti_del_testo_e_assegnarle_ai_campi_BibTeX.
 Java_Bouncy_Castle_library_not_found._Please_download_and_install_it._For_more_information_see_http\://www.bouncycastle.org/.=La_libreria_Java_Bouncy_Castle_non_\u00e8_stata_trovata._\u00c8_necessario_scaricarla_ed_installarla._Per_ulteriori_informazioni_vedi_http://www.bouncycastle.org/.
 
+This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Questa_funzione_genera_un_nuovo_database_basato_sulle_voci_necessarie_in_un_documento_LaTeX_esistente.
+You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=\u00c8_necessario_selezionare_uno_dei_database_aperti_da_cui_scegliere_le_voci,_cos\u00ec_come_il_file_AUX_prodotto_da_LaTeX_nel_compilare_il_documento.
+
 First_select_entries_to_clean_up.=Selezionare_le_voci_da_ripulire.
 Cleanup_entry=Ripulisci_voce
 Autogenerate_PDF_Names=Genera_automaticamente_i_nomi_dei_file_PDF
@@ -1443,6 +1446,7 @@ Autocomplete_after_following_number_of_characters=Attiva_autocompletamento_dopo_
 Name_format_used_for_autocompletion=Formato_dei_nomi_usato_per_l'autocompletamento
 Treatment_of_first_names=Gestione_dei_nomi
 Cleanup_entries=Ripulisci_voci
+Automatically_assign_new_entry_to_selected_groups=Assegna_automaticamente_la_nuova_voce_ai_gruppi_selezionati
 Move_DOIs_from_note_and_URL_field_to_DOI_field_and_remove_http_prefix=Sposta_i_DOI_dai_campi_note_e_URL_al_campo_DOI_e_rimuovi_il_prefisso_'http'
 Format_content_of_month_field_to_#mon#=Formatta_il_contenuto_del_campo_'month'_nella_forma_'#mon#'
 Ensure_that_page_ranges_are_of_the_form_num1--num2=Assicura_che_gli_intervalli_di_pagine_siano_nella_forma_'num1--num2'
@@ -1454,12 +1458,8 @@ Doing_a_cleanup_for_%0_entries...=Ripulitura_per_%0_voci...
 No_entry_needed_a_clean_up=Nessuna_voce_necessita_ripulitura
 One_entry_needed_a_clean_up=Una_voce_necessita_ripulitura
 %0_entries_needed_a_clean_up=%0_voci_necessitano_ripulitura
-Minimize_to_system_tray=Minimizza_nell'area_di_notifica
-
-This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Questa_funzione_genera_un_nuovo_database_basato_sulle_voci_necessarie_in_un_documento_LaTeX_esistente.
-You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=\u00c8_necessario_selezionare_uno_dei_database_aperti_da_cui_scegliere_le_voci,_cos\u00ec_come_il_file_AUX_prodotto_da_LaTeX_nel_compilare_il_documento.
-Automatically_assign_new_entry_to_selected_groups=Assegna_automaticamente_la_nuova_voce_ai_gruppi_selezionati
 Error_importing_from_database=Errore_di_importazione_dal_database
+Minimize_to_system_tray=Minimizza_nell'area_di_notifica
 
 Error_downloading_file_'%0'=Errore_nel_corso_del_download_del_file_'%0'
 Download_failed=Download_fallito, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 
 %0_contains_the_Regular_Expression_<b>%1</b>=%0_bevat_de_regular_expression_<b>%1</b>
@@ -1842,6 +1842,7 @@ This_feature_lets_new_files_be_opened_or_imported_into_an_already_running_instan
 Note_that_these_settings_are_used_for_the_legacy_<b>pdf</b>_and_<b>ps</b>_fields_only.<br>For_most_users,_setting_the_<b>Main_file_directory</b>_above_should_be_sufficient.=
 Legacy_file_fields=
 This_makes_JabRef_look_up_each_%0_extension_and_check_if_the_file_exists._If_not,_you_will_be_given_options<BR>to_resolve_the_problem.=
+Run_Fetcher,_e.g._""--fetch\=Medline\:cancer""=
 The_ACM_Digital_Library=
 Reset=
 Use_IEEE_LaTeX_abbreviations=
@@ -2306,7 +2307,6 @@ Import_Metadata_From_PDF=
 Not_connected_to_any_Writer_document._Please_make_sure_a_document_is_open,_and_use_the_'Select_Writer_document'_button_to_connect_to_it.=
 Please_note_that_this_is_an_early_beta_version._Do_not_use_it_without_backing_up_your_files!=
 Removed_all_subgroups_of_group_""%0"".=
-Run_Fetcher,_e.g._""--fetch\=Medline\:cancer""=
 To_disable_the_memory_stick_mode_rename_or_remove_the_jabref.xml_file_in_the_same_folder_as_JabRef.=
 Unable_to_connect._One_possible_reason_is_that_JabRef_and_OpenOffice/LibreOffice_are_not_both_running_in_either_32_bit_mode_or_64_bit_mode.=
 Unable_to_determine_plugin_name_and_version._This_may_not_be_a_valid_JabRef_plugin.=, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 
 %0_contains_the_Regular_Expression_<b>%1</b>=%0_inneholder_regul\u00e6ruttrykket_<b>%1</b>
@@ -100,6 +100,7 @@ All_fields=Alle_felter
 All_subgroups_(recursively)=Alle_undergrupper_(rekursivt)
 
 Allow_editing_in_table_cells=Tillat_redigering_av_celler_i_tabellen
+An_Error_occurred_while_fetching_from_OAI2_source_(%0)\:=En_feil_oppsto_under_nedlasting_fra_OIA2_source_(%0):
 
 An_Exception_ocurred_while_accessing_'%0'=En_feil_oppsto_ved_lesing_av_'%0'
 
@@ -2610,6 +2611,13 @@ You_must_select_either_a_valid_style_file,_or_use_a_default_style.=Du_m\u00e5_en
 
 Show=Vis
 
+This_is_a_simple_copy_and_paste_dialog._First_load_or_paste_some_text_into_the_text_input_area.<br>After_that,_you_can_mark_text_and_assign_it_to_a_BibTeX_field.=Dette_er_et_enkelt_klipp-og-lim-vindu._F\u00f8rst_last_inn_eller_lim_inn_tekst_i_tekstfeltet.<br>Deretter_kan_du_merke_tekst_og_tilordne_den_til_BibTeX-felter.
+Java_Bouncy_Castle_library_not_found._Please_download_and_install_it._For_more_information_see_http\://www.bouncycastle.org/.=Java_Bouncy_Castle-bibliotek_ikke_tilgjengelig._For_\u00e5_f\u00e5_tilgang_til_dette_kan_du_installere_det._For_mer_informasjon,_se_http://www.bouncycastle.org/.
+
+This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Denne_funksjonen_genererer_en_ny_database_basert_p\u00e5_hvilke_enheter_som_trengs_i_et_eksisterende_LaTeX-dokument.
+
+You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=Du_m\u00e5_velge_en_av_de_\u00e5pne_databasene_hvor_enheter_skal_hentes_fra,_i_tillegg_til_AUX-filen_generert_av_LaTeX_n\u00e5r_dokumentet_kompileres.
+
 First_select_entries_to_clean_up.=
 Cleanup_entry=
 Autogenerate_PDF_Names=
@@ -2625,6 +2633,8 @@ Name_format_used_for_autocompletion=
 Treatment_of_first_names=
 Cleanup_entries=
 
+Automatically_assign_new_entry_to_selected_groups=Tilordne_automatisk_nye_enheter_til_valgte_grupper
+
 Move_DOIs_from_note_and_URL_field_to_DOI_field_and_remove_http_prefix=
 Format_content_of_month_field_to_#mon#=
 Ensure_that_page_ranges_are_of_the_form_num1--num2=
@@ -2637,16 +2647,8 @@ No_entry_needed_a_clean_up=
 One_entry_needed_a_clean_up=
 %0_entries_needed_a_clean_up=
 
-This_is_a_simple_copy_and_paste_dialog._First_load_or_paste_some_text_into_the_text_input_area.<br>After_that,_you_can_mark_text_and_assign_it_to_a_BibTeX_field.=Dette_er_et_enkelt_klipp-og-lim-vindu._F\u00f8rst_last_inn_eller_lim_inn_tekst_i_tekstfeltet.<br>Deretter_kan_du_merke_tekst_og_tilordne_den_til_BibTeX-felter.
-Java_Bouncy_Castle_library_not_found._Please_download_and_install_it._For_more_information_see_http\://www.bouncycastle.org/.=Java_Bouncy_Castle-bibliotek_ikke_tilgjengelig._For_\u00e5_f\u00e5_tilgang_til_dette_kan_du_installere_det._For_mer_informasjon,_se_http://www.bouncycastle.org/.
-
-This_feature_generates_a_new_database_based_on_which_entries_are_needed_in_an_existing_LaTeX_document.=Denne_funksjonen_genererer_en_ny_database_basert_p\u00e5_hvilke_enheter_som_trengs_i_et_eksisterende_LaTeX-dokument.
-
-You_need_to_select_one_of_your_open_databases_from_which_to_choose_entries,_as_well_as_the_AUX_file_produced_by_LaTeX_when_compiling_your_document.=Du_m\u00e5_velge_en_av_de_\u00e5pne_databasene_hvor_enheter_skal_hentes_fra,_i_tillegg_til_AUX-filen_generert_av_LaTeX_n\u00e5r_dokumentet_kompileres.
-
-Automatically_assign_new_entry_to_selected_groups=Tilordne_automatisk_nye_enheter_til_valgte_grupper
-
 Error_importing_from_database=Feil_ved_import_fra_database
+Minimize_to_system_tray=
 
 Error_downloading_file_'%0'=Feil_ved_nedlasting_av_filen_'%0'
 Download_failed=Nedlasting_mislyktes
@@ -2665,8 +2667,6 @@ Please_select_which_JabRef_databases_do_you_want_to_import\:=Vennligst_velg_hvil
 
 Group_tree_could_not_be_parsed._If_you_save_the_BibTeX_database,_all_groups_will_be_lost.=
 Attach_file=
-Minimize_to_system_tray=
-An_Error_occurred_while_fetching_from_OAI2_source_(%0)\:=En_feil_oppsto_under_nedlasting_fra_OIA2_source_(%0):
 
 Setting_all_preferences_to_default_values.=
 Resetting_preference_key_'%0'=, None, None, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 
 %0_contains_the_Regular_Expression_<b>%1</b>=%0%0&nbsp;ch\u1ee9a_bi\u1ec3u_th\u1ee9c_ch\u00ednh_t\u1eafc_<b>%1</b>, @@ -1,5 +1,5 @@
 #!
-#! created/edited by Popeye version 0.54 (popeye.sourceforge.net)
+#! created/edited by Popeye version 0.55 (https://github.com/koppor/popeye)
 #! encoding:ISO-8859-1
 
 %0_contains_the_Regular_Expression_<b>%1</b>=%0_\u5305\u542b\u6b63\u5219\u8868\u8fbe\u5f0f_<b>%1</b>, ",Three new strings translated.,Spanish translation update
5,,['src/resource/JabRef_in.properties'],"@@ -1304,10 +1304,10 @@ Style_selection=Pilihan_gaya
 The_panel_below_shows_the_definition_of_the_default_style.=Panel_dibawah_menampilkan_definisi_dari_gaya_bawaan
 If_you_want_to_use_it_as_a_template_for_a_new_style,_you_can_copy_the_contents_into_a_new_.jstyle_file=Jika_anda_menginginkan_sebagai_templet_untuk_gaya_baru,_anda_bisa_menyalin_isi_ke_berkas_baru_.jstyle
 
-Default_style_(author-year_citations)=
-Default_style_(numerical_citations)=
-No_valid_style_file_defined=
-Choose_pattern=
+Default_style_(author-year_citations)=Gaya_bawaan_(acuan_penulis_tahun)
+Default_style_(numerical_citations)=Gaya_bawaan_(acuan_numerik)
+No_valid_style_file_defined=(gaya_yang_sah_tidak_ditemukan)
+Choose_pattern=Pilih_pola
 Use_the_bib_file_location_as_primary_file_directory=
 Could_not_run_the_gnuclient/emacsclient_program._Make_sure_you_have_the_emacsclient/gnuclient_program_installed_and_available_in_the_PATH.=
 Built-in_journal_list=, ",Indonesian translation added,Update JabRef_in.properties
6,Olaf Lenz,['src/images/splash-dev.svg'],"@@ -79,18 +79,18 @@
        width=""572.00000""
        patternUnits=""userSpaceOnUse"">
       <image
-         sodipodi:absref=""/auto.anoa/home/olenz/projects/software/jabref/src/src/images/behandlet.png""
+         sodipodi:absref=""/home/olenz/projects/software/jabref/src/src/images/behandlet.png""
          xlink:href=""behandlet.png""
-         transform=""translate(-231.0000,-284.3622)""
-         style=""opacity:1.0000000;stroke:#000000;stroke-width:5.0000000;stroke-miterlimit:4.0000000;stroke-dasharray:none;stroke-opacity:1.0000000""
-         inkscape:export-ydpi=""90.000000""
-         inkscape:export-xdpi=""90.000000""
-         inkscape:export-filename=""/home/alver/Desktop/bilder/jabref/splash4.png""
-         y=""284.36218""
-         x=""231.00000""
-         width=""572.00000""
+         id=""image9050""
          height=""428.00000""
-         id=""image9050"" />
+         width=""572.00000""
+         x=""231.00000""
+         y=""284.36218""
+         inkscape:export-filename=""/home/alver/Desktop/bilder/jabref/splash4.png""
+         inkscape:export-xdpi=""90.000000""
+         inkscape:export-ydpi=""90.000000""
+         style=""opacity:1.0000000;stroke:#000000;stroke-width:5.0000000;stroke-miterlimit:4.0000000;stroke-dasharray:none;stroke-opacity:1.0000000""
+         transform=""translate(-231.0000,-284.3622)"" />
     </pattern>
     <radialGradient
        inkscape:collect=""always""
@@ -136,14 +136,14 @@
        r=""135.88548"" />
   </defs>
   <sodipodi:namedview
-     inkscape:window-y=""-3""
-     inkscape:window-x=""46""
-     inkscape:window-height=""1180""
-     inkscape:window-width=""1872""
-     inkscape:current-layer=""svg2138""
+     inkscape:window-y=""0""
+     inkscape:window-x=""35""
+     inkscape:window-height=""873""
+     inkscape:window-width=""752""
+     inkscape:current-layer=""layer1""
      inkscape:document-units=""px""
-     inkscape:cy=""225.8697""
-     inkscape:cx=""22.10531""
+     inkscape:cy=""305.8697""
+     inkscape:cx=""342.10531""
      inkscape:zoom=""1""
      inkscape:pageshadow=""2""
      inkscape:pageopacity=""0.0""
@@ -152,7 +152,7 @@
      pagecolor=""#ffffff""
      id=""base""
      showgrid=""false""
-     inkscape:window-maximized=""1""
+     inkscape:window-maximized=""0""
      fit-margin-top=""0""
      fit-margin-left=""0""
      fit-margin-right=""0""
@@ -174,12 +174,13 @@
      id=""layer2""
      inkscape:label=""Release splash"">
     <image
-       y=""0""
-       x=""1""
-       id=""image3381""
-       xlink:href=""file:///auto.anoa/home/olenz/projects/software/jabref/src/src/images/splash.png""
+       sodipodi:absref=""/home/olenz/projects/software/jabref/src/src/images/splash-release.svg""
+       xlink:href=""splash-release.svg""
+       width=""576""
        height=""432""
-       width=""576"" />
+       id=""image3381""
+       x=""1""
+       y=""0"" />
   </g>
   <g
      id=""layer1""
@@ -204,7 +205,7 @@
          style=""font-size:85.91455841px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;text-align:start;line-height:100%;writing-mode:lr-tb;text-anchor:start;fill:#ff0000;fill-opacity:1;stroke:#ff6600;stroke-width:2.8878212;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;font-family:Bitstream Vera Sans"">dev</tspan></text>
     <text
        xml:space=""preserve""
-       style=""font-size:29.93491554px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans""
+       style=""font-size:20.00000002px;font-style:normal;font-weight:bold;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans;-inkscape-font-specification:Bitstream Vera Sans Bold;font-stretch:normal;font-variant:normal""
        x=""510.92224""
        y=""226.16539""
        id=""text3244""
@@ -214,23 +215,23 @@
          x=""510.92224""
          y=""226.16539""
          id=""tspan3252""
-         style=""font-size:23.9479332px;text-align:center;text-anchor:middle;fill:#ff0000"">This is a</tspan><tspan
+         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal"">This is a</tspan><tspan
          sodipodi:role=""line""
          x=""510.92224""
          y=""256.10031""
          id=""tspan3256""
-         style=""font-size:23.9479332px;text-align:center;text-anchor:middle;fill:#ff0000""><tspan
-   style=""font-weight:bold;-inkscape-font-specification:Sans Bold""
+         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal""><tspan
+   style=""font-weight:bold;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-style:normal;font-stretch:normal;font-variant:normal;font-size:20.00000002px""
    id=""tspan3266"">development version</tspan>.</tspan><tspan
          sodipodi:role=""line""
          x=""510.92224""
          y=""286.03522""
          id=""tspan3258""
-         style=""font-size:23.9479332px;text-align:center;text-anchor:middle;fill:#ff0000"">Features may</tspan><tspan
+         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal"">Features may</tspan><tspan
          sodipodi:role=""line""
          x=""510.92224""
          y=""315.97015""
          id=""tspan3260""
-         style=""font-size:23.9479332px;text-align:center;text-anchor:middle;fill:#ff0000"">not work as expected.</tspan></text>
+         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal"">not work as expected.</tspan></text>
   </g>
 </svg>, ",NaN,Fixed splash-dev.svg
7,,"['src/main/java/net/sf/jabref/GUIGlobals.java', 'src/main/java/net/sf/jabref/JabRefPreferences.java', 'src/main/java/net/sf/jabref/TableColumnsTab.java', 'src/main/java/net/sf/jabref/gui/MainTableFormat.java', 'src/main/java/net/sf/jabref/gui/MainTableSelectionListener.java', 'src/main/java/net/sf/jabref/gui/PreventDraggingJTableHeader.java']","@@ -28,6 +28,8 @@
 import javax.swing.ImageIcon;
 import javax.swing.JLabel;
 
+import javax.swing.SwingConstants;
+import net.sf.jabref.external.ExternalFileType;
 import org.xnap.commons.gui.shortcut.EmacsKeyBindings;
 
 import net.sf.jabref.specialfields.Priority;
@@ -411,6 +413,12 @@ public static void init() {
         lab = new JLabel(getImage(""psSmall""));
         lab.setToolTipText(Globals.lang(""Open file""));
         tableIcons.put(GUIGlobals.FILE_FIELD, lab);
+
+        for(ExternalFileType fileType : Globals.prefs.getExternalFileTypeSelection()) {
+            lab = new JLabel(fileType.getIcon());
+            lab.setToolTipText(Globals.lang(""Open ""+fileType.getName()+"" file""));
+            tableIcons.put(fileType.getName(), lab);
+        }
         
         lab = new JLabel(Relevance.getInstance().getRepresentingIcon());
         lab.setToolTipText(Relevance.getInstance().getToolTip());, @@ -424,6 +424,9 @@ private JabRefPreferences() {
         defaults.put(""fileColumn"", Boolean.TRUE);
         defaults.put(""arxivColumn"", Boolean.FALSE);
 
+        defaults.put(""extraFileColumns"", Boolean.FALSE);
+        defaults.put(""listOfFileColumns"","""");
+
         defaults.put(SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED, SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY, SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY, SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY_DEFAULT);, @@ -33,6 +33,7 @@
 import com.jgoodies.forms.builder.DefaultFormBuilder;
 import com.jgoodies.forms.layout.CellConstraints;
 import com.jgoodies.forms.layout.FormLayout;
+import net.sf.jabref.external.ExternalFileType;
 
 class TableColumnsTab extends JPanel implements PrefsTab {
 
@@ -44,6 +45,10 @@
     private JabRefFrame frame;
 
     private JCheckBox pdfColumn, urlColumn, fileColumn, arxivColumn;
+
+    private JCheckBox extraFileColumns;
+    private JList listOfFileColumns;
+
     private JRadioButton preferUrl, preferDoi;
 
     private JCheckBox showOneLetterHeadingForIconColumns;
@@ -199,6 +204,22 @@ public void stateChanged(ChangeEvent arg0) {
 		});
 		arxivColumn = new JCheckBox(Globals.lang(""Show ArXiv column""));
 
+		extraFileColumns = new JCheckBox(Globals.lang(""Show Extra columns""));
+                extraFileColumns.addChangeListener(new ChangeListener() {
+                        @Override
+                        public void stateChanged(ChangeEvent arg0) {
+                                listOfFileColumns.setEnabled(extraFileColumns.isSelected());
+                        }
+                });
+                ExternalFileType[] fileTypes = Globals.prefs.getExternalFileTypeSelection();
+                String[] fileTypeNames = new String[fileTypes.length];
+                for(int i=0;i<fileTypes.length;i++) {
+                    fileTypeNames[i]=fileTypes[i].getName();
+                }
+                listOfFileColumns = new JList(fileTypeNames);
+                JScrollPane listOfFileColumnsScrollPane = new JScrollPane(listOfFileColumns);
+                listOfFileColumns.setVisibleRowCount(3);
+
 		/*** begin: special table columns and special fields ***/
 
 		HelpAction help = new HelpAction(frame.helpDiag, GUIGlobals.specialFieldsHelp);
@@ -266,6 +287,9 @@ public void stateChanged(ChangeEvent event) {
 		specialTableColumnsBuilder.add(preferDoi, cc.xy(6, 5));	
 		specialTableColumnsBuilder.add(arxivColumn, cc.xyw(5, 6, 2));	
 
+		specialTableColumnsBuilder.add(extraFileColumns, cc.xyw(5, 7, 2));	
+		specialTableColumnsBuilder.add(listOfFileColumnsScrollPane, cc.xywh(5, 8, 2, 3));	
+
 		builder.append(specialTableColumnsBuilder.getPanel());
 		builder.nextLine();
 
@@ -300,6 +324,26 @@ public void setValues() {
         fileColumn.setSelected(_prefs.getBoolean(""fileColumn""));
         arxivColumn.setSelected(_prefs.getBoolean(""arxivColumn""));
 
+        extraFileColumns.setSelected(_prefs.getBoolean(""extraFileColumns""));
+        if(extraFileColumns.isSelected()) {
+            String[] desiredColumns = _prefs.getStringArray(""listOfFileColumns"");
+            int listSize = listOfFileColumns.getModel().getSize();
+            int[] indicesToSelect = new int[listSize];
+            for(int i=0;i<listSize;i++) {
+                indicesToSelect[i]=listSize+1;
+                for(int j=0;j<desiredColumns.length;j++) {
+                    if(listOfFileColumns.getModel().getElementAt(i).equals(desiredColumns[j])) {
+                        indicesToSelect[i]=i;
+                        break;
+                    }
+                }
+            }
+            listOfFileColumns.setSelectedIndices(indicesToSelect);
+        }
+        else {
+            listOfFileColumns.setSelectedIndices(new int[] {});
+        }
+
         /*** begin: special fields ***/
 
         oldRankingColumn = _prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING);
@@ -562,6 +606,19 @@ public void storeSettings() {
 		_prefs.putBoolean(""urlColumn"", urlColumn.isSelected());
 		_prefs.putBoolean(""preferUrlDoi"", preferDoi.isSelected());
 		_prefs.putBoolean(""arxivColumn"", arxivColumn.isSelected());
+
+		_prefs.putBoolean(""extraFileColumns"", extraFileColumns.isSelected());
+                if(extraFileColumns.isSelected()&&!listOfFileColumns.isSelectionEmpty()) {
+                    String[] selections = new String[listOfFileColumns.getSelectedIndices().length];
+                    for(int i=0;i<selections.length;i++) {
+                        selections[i]=listOfFileColumns.getModel().getElementAt(
+                                listOfFileColumns.getSelectedIndices()[i]).toString();
+                    }
+                    _prefs.putStringArray(""listOfFileColumns"", selections);
+                }
+                else {
+                    _prefs.putStringArray(""listOfFileColumns"", new String[] {});
+                }
 		
 		_prefs.putBoolean(JabRefPreferences.SHOWONELETTERHEADINGFORICONCOLUMNS, showOneLetterHeadingForIconColumns.isSelected());
 , @@ -35,6 +35,12 @@
 import net.sf.jabref.specialfields.SpecialFieldsUtils;
 import ca.odell.glazedlists.gui.TableFormat;
 import ca.odell.glazedlists.matchers.Matcher;
+import java.awt.Color;
+import java.awt.Graphics;
+import java.awt.image.BufferedImage;
+import javax.swing.Icon;
+import javax.swing.ImageIcon;
+import javax.swing.JLabel;
 
 /**
  * Class defining the contents and column headers of the main table.
@@ -173,6 +179,23 @@ public boolean isRankingColumn(int col) {
         return false;
     }
 
+    private Object modifyIconForMultipleLinks(JLabel label) {
+        Icon icon = label.getIcon();
+        BufferedImage bufImg = new BufferedImage(
+            icon.getIconWidth(),
+            icon.getIconHeight(),
+            BufferedImage.TYPE_INT_ARGB);
+        Graphics g = bufImg.createGraphics();
+        // paint the Icon to the BufferedImage.
+        icon.paintIcon(null, g, 0,0);
+        // add the letter ""m"" in the bottom right corner
+        g.setColor(Color.BLACK);
+        g.setFont(new java.awt.Font(""Serif"", java.awt.Font.PLAIN, 12));
+        g.drawString(""m"",bufImg.getWidth() - g.getFontMetrics().stringWidth(""m""),bufImg.getHeight());
+        g.dispose();
+        return new JLabel(new ImageIcon(bufImg));
+    }
+    
     public Object getColumnValue(BibtexEntry be, int col) {
         Object o = null;
         String[] iconType = getIconTypeForColumn(col); // If non-null, indicates an icon column's type.
@@ -183,16 +206,21 @@ public Object getColumnValue(BibtexEntry be, int col) {
 
         else if (iconType != null) {
             int hasField = -1;
-            for (int i = iconType.length - 1; i >= 0; i--)
-                if (hasField(be, iconType[i]))
-                    hasField = i;
+
+            int[] fieldCount = hasField(be,iconType);
+            hasField=fieldCount[0];
+
             if (hasField < 0)
                 return null;
 
             // Ok, so we are going to display an icon. Find out which one, and return it:
             if (iconType[hasField].equals(GUIGlobals.FILE_FIELD)) {
                 o = FileListTableModel.getFirstLabel(be.getField(GUIGlobals.FILE_FIELD));
 
+            if(fieldCount[1]>1) {
+                o = modifyIconForMultipleLinks((JLabel)o);
+            }
+
             // Handle priority column special
             // Extra handling because the icon depends on a FieldValue
             } else if (iconType[hasField].equals(PRIORITY[0])) {
@@ -210,6 +238,10 @@ else if (iconType != null) {
                 }
             } else {
                 o = GUIGlobals.getTableIcon(iconType[hasField]);
+
+                if(fieldCount[1]>1) {
+                    o = modifyIconForMultipleLinks((JLabel)o);
+                }
             }
         } else {
             String[] fld = columns[col - padleft];
@@ -265,6 +297,51 @@ public boolean hasField(BibtexEntry be, String field) {
         return ((be != null) && (be.getField(field) != null));
     }
 
+    public int[] hasField(BibtexEntry be, String[] field) {
+        // If the entry has a nonzero value in any of the
+        // 'search' fields, returns the smallest index for which it does. 
+        // Otherwise returns -1. When field indicates one or more file types,
+        // returns the index of the first present file type.
+        if(be==null||field==null||field.length<1) {
+            return new int[] {-1,-1};
+        }
+        int hasField=-1;
+        if(!field[0].equals(GUIGlobals.FILE_FIELD)) {
+            for (int i = field.length - 1; i >= 0; i--) {
+                if (hasField(be, field[i])) {
+                    hasField = i;
+                }
+            }
+            return new int[] {hasField,-1};
+        }
+        else {
+            // We use a FileListTableModel to parse the field content:
+            Object o = be.getField(GUIGlobals.FILE_FIELD);
+            FileListTableModel fileList = new FileListTableModel();
+            fileList.setContent((String)o);
+            if(field.length==1) {
+                if(fileList.getRowCount()==0) {
+                    return new int[] {-1,-1};
+                }
+                else {
+                    return new int[] {0,fileList.getRowCount()};
+                }
+            }
+            int lastLinkPosition=-1, countLinks = 0;
+            for (int i = 1; i < field.length; i++) {
+                // Count the number of links of correct type.
+                for (int j=0; j<fileList.getRowCount(); j++) {
+                    FileListEntry flEntry = fileList.getEntry(j);
+                    if(flEntry.getType().toString().equals(field[i])) {
+                        lastLinkPosition=i;
+                        countLinks++;
+                    }
+                }
+            }
+            return new int[] {lastLinkPosition,countLinks};
+        }
+    }
+
     public void updateTableFormat() {
 
         // Read table columns from prefs:
@@ -318,6 +395,13 @@ public void updateTableFormat() {
         if (Globals.prefs.getBoolean(""arxivColumn""))
             iconCols.put(coln++, ARXIV);
 
+        if (Globals.prefs.getBoolean(""extraFileColumns"")) {
+            String[] desiredColumns = Globals.prefs.getStringArray(""listOfFileColumns"");
+            for(int i=0;i<desiredColumns.length;i++) {
+                iconCols.put(coln++, new String[] {GUIGlobals.FILE_FIELD,desiredColumns[i]});
+            }
+        }
+
         // Add 1 to the number of icon columns to get padleft.
         padleft = 1 + iconCols.size();
 , @@ -35,13 +35,17 @@
 import net.sf.jabref.FocusRequester;
 import net.sf.jabref.GUIGlobals;
 import net.sf.jabref.Globals;
+import net.sf.jabref.JabRefFrame;
 import net.sf.jabref.PreviewPanel;
 import net.sf.jabref.RightClickMenu;
 import net.sf.jabref.Util;
 import net.sf.jabref.external.ExternalFileMenuItem;
 import ca.odell.glazedlists.EventList;
 import ca.odell.glazedlists.event.ListEvent;
 import ca.odell.glazedlists.event.ListEventListener;
+import java.util.Arrays;
+import java.util.Collections;
+import java.util.List;
 import net.sf.jabref.specialfields.SpecialField;
 import net.sf.jabref.specialfields.SpecialFieldValue;
 import net.sf.jabref.specialfields.SpecialFieldsUtils;
@@ -301,6 +305,14 @@ public void mouseClicked(MouseEvent e) {
                 return;
             final String fieldName = iconType[hasField];
 
+            //If this is a file link field with specified file types,
+            //we should also pass the types.
+            String[] fileTypes={};
+            if(hasField==0&&iconType[hasField].equals(GUIGlobals.FILE_FIELD)&&iconType.length>1) {
+                fileTypes=iconType;
+            }
+            final List<String> listOfFileTypes = Collections.unmodifiableList(Arrays.asList(fileTypes));
+
             // Open it now. We do this in a thread, so the program won't freeze during the wait.
             (new Thread() {
                 public void run() {
@@ -320,9 +332,33 @@ public void run() {
                             // We use a FileListTableModel to parse the field content:
                             FileListTableModel fileList = new FileListTableModel();
                             fileList.setContent((String)link);
-                            // If there are one or more links, open the first one:
-                            if (fileList.getRowCount() > 0) {
-                                FileListEntry flEntry = fileList.getEntry(0);
+
+                            FileListEntry flEntry=null;
+                            // If there are one or more links of the correct type,
+                            // open the first one:
+                            if(listOfFileTypes.size()>0) {
+                                for(int i=0;i<fileList.getRowCount();i++) {
+                                    flEntry = fileList.getEntry(i);
+                                    boolean correctType=false;
+                                    for(int j=0;j<listOfFileTypes.size();j++) {
+                                        if(flEntry.getType().toString().equals(listOfFileTypes.get(j))) {
+                                            correctType=true;
+                                        }
+                                    }
+                                    if(correctType) {
+                                        break;
+                                    }
+                                    flEntry=null;
+                                }
+                            }
+                            //If there are no file types specified, consider all files.
+                            else if(fileList.getRowCount()>0) {
+                                flEntry=fileList.getEntry(0);
+                            }
+                            if(flEntry!=null) {
+//                            if (fileList.getRowCount() > 0) {
+//                                FileListEntry flEntry = fileList.getEntry(0);
+
                                 ExternalFileMenuItem item = new ExternalFileMenuItem
                                         (panel.frame(), entry, """",
                                         flEntry.getLink(), flEntry.getType().getIcon(),
@@ -403,6 +439,20 @@ private void showIconRightClickMenu(MouseEvent e, int row, String[] iconType) {
             // If there are one or more links, open the first one:
             for (int i=0; i<fileList.getRowCount(); i++) {
                 FileListEntry flEntry = fileList.getEntry(i);
+
+                //If file types are specified, ignore files of other types.
+                if(iconType.length>1) {
+                    boolean correctType=false;
+                    for(int j=1;j<iconType.length;j++) {
+                        if(flEntry.getType().toString().equals(iconType[j])) {
+                            correctType=true;
+                        }
+                    }
+                    if(!correctType) {
+                        continue;
+                    }
+                }
+
                 String description = flEntry.getDescription();
                 if ((description == null) || (description.trim().length() == 0))
                     description = flEntry.getLink();, @@ -21,6 +21,7 @@
 import javax.swing.table.TableColumnModel;
 
 import net.sf.jabref.Globals;
+import net.sf.jabref.Util;
 import net.sf.jabref.specialfields.SpecialFieldsUtils;
 
 /**
@@ -119,6 +120,10 @@ private int getSpecialColumnsCount() {
         if (Globals.prefs.getBoolean(""arxivColumn"")) {
             count++;
         }
+
+        if (Globals.prefs.getBoolean(""extraFileColumns"")) {
+            count+=Globals.prefs.getStringArray(""listOfFileColumns"").length;
+        }
         
         // special field columns may also not be dragged
         if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SPECIALFIELDSENABLED)) {, ","```
The user can now specify an arbitrary number of file-link columns in te ""Entry table columns"" preferences tab, to be added to the main table. The user can any file types specified in the list of External File Types. The extra columns work exactly like the original file-link column.

For each file-link column whenever there are multiple files, the letter ""m"" is displayed at the bottom right corner of the icon.
```

 Committer: noravanq

 On branch master
 Changes to be committed:
   (use ""git reset HEAD <file>..."" to unstage)

```
modified:   src/main/java/net/sf/jabref/GUIGlobals.java
modified:   src/main/java/net/sf/jabref/JabRefPreferences.java
modified:   src/main/java/net/sf/jabref/TableColumnsTab.java
modified:   src/main/java/net/sf/jabref/gui/MainTableFormat.java
modified:   src/main/java/net/sf/jabref/gui/MainTableSelectionListener.java
modified:   src/main/java/net/sf/jabref/gui/PreventDraggingJTableHeader.java
```", I have implemented 2 features requested in Ticket #841.
8,Adrian Daerr,['src/main/java/net/sf/jabref/util/XMPUtil.java'],"@@ -996,7 +996,20 @@ public static void writeDocumentInformation(PDDocument document,
 		for (String field : fields){
 
 			if (useXmpPrivacyFilter && filters.contains(field)) {
-				continue;
+                            // erase field instead of adding it
+                            if (field.equals(""author"")) {
+				di.setAuthor(null);
+                            } else if (field.equals(""title"")) {
+				di.setTitle(null);
+                            } else if (field.equals(""keywords"")) {
+				di.setKeywords(null);
+                            } else if (field.equals(""abstract"")) {
+				di.setSubject(null);
+                            } else {
+				di.setCustomMetadataValue(""bibtex/"" + field,
+                                                          null);
+                            }
+                            continue;
 			}
 
 			if (field.equals(""author"")) {, ","This pull-request pertains to the addition of metadata to PDF files associated with entries, as triggered by the menu entry ""Write XMP metadata to PDFs"" in the ""Tools"" menu. XMP is an extremely interesting feature that allows tagging PDF files (amongst others) with automatically retrievable metadata in much the same way mp3-tags allow adding title/author/... information to mp3 music files. Actually JabRef exports the metadata not only to two XMP namespaces (Dublin Core and a custom JabRef namespace), but also to the PDF DocumentInformation Object.

Practically from the beginning of the XMP-writing capabilities of JabRef, Christopher Oezbek had added _privacy filtering_ for the XMP-tagging of PDF-files with data from the bibtex-record, meaning that the user could define a list of fields (in Preferences->XMP metadata) which should _not_ be exported to the PDF file.  Unfortunately, the filtering was incomplete: jabref exports the metadata in three different forms, only one of which was originally filtered. In 2013 filtering was extended to both XMP namespaces, but JabRef still exported _all_ fields into the PDF DocumentInfo object. The two present commits correct this problem. The first (b45316f) prevents private fields from being exported to the PDF DocumentInfo. The second one more agressively erases these fields even if they already exist in the PDF document. 

The deletion of existing fields might be debateable. It seems the right thing to do for fields clearly generated by JabRef (viz. those prefixed by ""jabref/""), but there are four fields which might be of other origin (Author,Title,Subject and Keywords). Making a systematic exception for these four fields, i.e. not erasing them even if they are privacy filtered, is a bad idea and violates the principle of least surprise. This is why the second commit makes no exception. Deactivating the erasure for the four generic fields could however easily be added as an option in the XMP export preferences if it is judged important. The current behaviour has the advantage of reliably correcting PDF files previously tagged with a buggy privacy filtering.

If these commits are pulled into the master branch and confirmed to work, the bug #869 on the sourceforge tracker: 
https://sourceforge.net/p/jabref/bugs/869/
can be closed.",PDF-file metadata: Privacy Filtering all metadata
9,Peter Ansell,['src/main/java/net/sf/jabref/external/ACSPdfDownload.java'],"@@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2014 Commonwealth Scientific and Industrial Research Organisation
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or, ",Adds a FullTextFinder implementation to transform the ACS DOI redirect URLs to their PDF download equivalents.,Support FindFullText with ACS DOIs
10,,"['src/main/java/net/sf/jabref/BibtexEntry.java', 'src/main/java/net/sf/jabref/BibtexEntryType.java', 'testbib/testjabref.bib', 'testbib/testjabref_210as292.bib', 'testbib/testjabref_292.bib']","@@ -421,8 +421,10 @@ public void write(Writer out, FieldFormatter ff, boolean write) throws IOExcepti
             break;
         case 1:
             writeUnsorted(out, ff, write);
+            break;
         case 2:
             writeUserOrder(out,ff,write);
+            break;
         }
         
         , @@ -84,7 +84,7 @@ public String getName()
             {
                 return new String[]
                 {
-                    ""volume"", ""number"", ""pages"", ""month"", ""note"", //- ""volume"", ""pages"", ""part"", ""eid""
+                    ""volume"", ""pages"", ""number"", ""month"", ""note"", //- ""volume"", ""pages"", ""part"", ""eid""
                 };
             }
 , @@ -0,0 +1,313 @@
+% This file was created with JabRef devel - 1st edition family.
+% Encoding: UTF8
+
+
+@Article{Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS,
+  Title                    = {256-Channel Neural Recording and Delta Compression Microsystem With
+ 3D Electrodes},
+  Author                   = {Aziz, Joseph N. Y. and Abdelhalim, Karim and Shulyzki, Ruslana and
+ Genov, Roman and Bardakjian, Berj L. and Derchansky, Miron and Serletis,
+ Demitre and Carlen, Peter L.},
+  Journal                  = {IEEE JOURNAL OF SOLID-STATE CIRCUITS},
+  Year                     = {2009},
+
+  Month                    = {MAR},
+  Number                   = {3},
+  Pages                    = {995-1005},
+  Volume                   = {44},
+
+  Abstract                 = {A 3D microsystem for multi-site penetrating extracellular neural recording
+ from the brain is presented. A 16 x 16-channel neural recording interface
+ integrated prototype fabricated in 0.35 mu m CMOS occupies 3.5 mm
+ x 4.5 mm area. Each recording channel dissipates 15 mu W of power
+ with input-referred noise of 7 mu V-rms over 5 kHz bandwidth. A switched-capacitor
+ delta read-out data compression circuit trades recording accuracy
+ for the output data rate. An array of 1.5 mm platinum-coated microelectrodes
+ is bonded directly onto the die. Results of in vitro experimental
+ recordings from intact mouse hippocampus validate the circuit design
+ and the on-chip electrode bonding technology.},
+  Address                  = {445 HOES LANE, PISCATAWAY, NJ 08855 USA},
+  Affiliation              = {Aziz, JNY (Reprint Author), Broadcom, Irvine, CA 92617 USA. {[}Aziz,
+ Joseph N. Y.; Abdelhalim, Karim; Shulyzki, Ruslana; Genov, Roman]
+ Univ Toronto, Dept Elect \& Comp Engn, Toronto, ON M5S 3G4, Canada.
+ {[}Bardakjian, Berj L.] Univ Toronto, Inst Biomat \& Biomed Engn,
+ Edward S Rogers Sr Dept Elect \& Comp Engn, Toronto, ON M5S 1A4,
+ Canada. {[}Derchansky, Miron; Serletis, Demitre; Carlen, Peter L.]
+ Univ Toronto, Toronto Western Res Inst, Toronto, ON M5S 1A4, Canada.
+ {[}Derchansky, Miron; Serletis, Demitre; Carlen, Peter L.] Univ Toronto,
+ Dept Physiol, Toronto, ON M5S 1A4, Canada.},
+  Author-email             = {roman@eecg.utoronto.ca},
+  Cited-references         = {ATLURI S, 2006, P IEEE INT S CIRC SY, P1131. AZIZ J, 2006, P IEEE
+ INT S CIRC SY. AZIZ J, 2007, IEEE INT SOL STAT CI, P160. AZIZ JNY,
+ 2006, P IEEE INT S CIRC SY, P5075. AZIZ JNY, 2007, IEEE T BIOMED
+ CIRCUI, V1. AZIZ JNY, 2007, P IEEE INT S CIRC SY. CHAIMANONART N,
+ 2005, P ANN INT IEEE EMBS, P5194. DELBRUCK T, 1994, P IEEE INT S
+ CIRC SY, V4, P339. ENZ CC, 1996, P IEEE, V84, P1584. EVERSMANN B,
+ 2003, IEEE J SOLID-ST CIRC, V38, P2306, DOI 10.1109/JSSC.2003.819174.
+ HARRISON R, 2006, IEEE INT SOL STAT C, P2258. HARRISON RR, 2003,
+ IEEE J SOLID-ST CIRC, V38, P958, DOI 10.1009/JSSC.2003.811979. HARRISON
+ RR, 2007, IEEE CUST INTEGR CIR, P115. HEER F, 2006, IEEE J SOLID-ST
+ CIRC, V41, P1620, DOI 10.1109/JSSC.2006.873677. KIM S, 2006, P 2006
+ INT C IEEE EN, P2986. MALLIK U, 2005, IEEE ISSCC, P362. MOHSENI P,
+ 2004, IEEE T BIO-MED ENG, V51, P832, DOI 10.1109/TBME.2004.824126.
+ MOTCHENBACHER CD, 1993, LOW NOISE ELECT SYST. OLSSON RH, 2005, IEEE
+ J SOLID-ST CIRC, V40, P2796. PATTERSON WR, 2004, IEEE T BIO-MED ENG,
+ V51, P1845, DOI 10.1109/TBME.2004.831521. RILEY G, 1987, SURFACE
+ MOUNT INT, P535. STEYAERT MSJ, 1987, IEEE J SOLID-ST CIRC, V22, P1163.
+ TSIVIDIS Y, 2003, OPERATION MODELING M. WATTANAPANITCH W, 2007, IEEE
+ T BIOMED CIRC S, V1, P136, DOI 10.1109/TBCAS.2007.907868. WISE KD,
+ 2005, IEEE ENG MED BIOL, V24, P22.},
+  Doc-delivery-number      = {415FE},
+  Doi                      = {10.1109/JSSC.2008.2010997},
+  File                     = {Draft:JabRef\\Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS_draft.pdf:PDF;Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS.pdf:JabRef\\Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS.pdf:PDF},
+  ISSN                     = {0018-9200},
+  Journal-iso              = {IEEE J. Solid-State Circuit},
+  Keywords                 = {Multi-channel recording; microelectrodes; extracellular recording;
+ electrode array; implantable; brain; hippocampus; delta compression;
+ neural amplifier},
+  Keywords-plus            = {AMPLIFIER; STABILIZATION; CIRCUIT; ARRAY},
+  Language                 = {English},
+  Number-of-cited-references = {25},
+  Publisher                = {IEEE-INST ELECTRICAL ELECTRONICS ENGINEERS INC},
+  Subject-category         = {Engineering, Electrical \& Electronic},
+  Times-cited              = {2},
+  Timestamp                = {10.04.15.11.41},
+  Type                     = {Article},
+  Unique-id                = {ISI:000263918900029}
+}
+
+@Article{BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering,
+  Title                    = {Patterning PDMS using a combination of wet and dry etching},
+  Author                   = {B Balakrisnan , S Patil and E Smela},
+  Journal                  = {Journal of Micromechanics and Microengineering},
+  Year                     = {2009},
+  Number                   = {4},
+  Pages                    = {047002},
+  Volume                   = {19},
+
+  Abstract                 = {PDMS films of 10 �m thickness can be patterned within 30 min by combining
+ dry etching to achieve substantially vertical sidewalls with wet
+ etching to achieve high etch rates and to protect the underlying
+ substrate from attack. Dry etching alone would have taken 5 h, and
+ wet etching alone would produce severe undercutting. In addition,
+ using either technique alone produces undesirable surface morphologies.
+ The mask used during etching is critical to a successful patterning
+ outcome. E-beam evaporated Al was found to work well, adhering strongly
+ to oxygen-plasma-treated PDMS and holding up well during both dry
+ and wet etching. To prevent wrinkling of the PDMS, a fast deposition
+ rate should be used.},
+  File                     = {BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering.pdf:JabRef\\BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering.pdf:PDF},
+  Timestamp                = {09.06.17.13.03},
+  Url                      = {http://stacks.iop.org/0960-1317/19/i=4/a=047002}
+}
+
+@Article{Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA,
+  Title                    = {Synaptic facilitation by reflected action potentials: enhancement
+ of transmission when nerve impulses reverse direction at axon branch
+ points.},
+  Author                   = {S. A. Baccus},
+  Journal                  = {Proc Natl Acad Sci U S A},
+  Year                     = {1998},
+
+  Month                    = {Jul},
+  Number                   = {14},
+  Pages                    = {8345--8350},
+  Volume                   = {95},
+
+  Abstract                 = {A rapid, reversible enhancement of synaptic transmission from a sensory
+ neuron is reported and explained by impulses that reverse direction,
+ or reflect, at axon branch points. In leech mechanosensory neurons,
+ where one can detect reflection because it is possible simultaneously
+ to study electrical activity in separate branches, action potentials
+ reflected from branch points within the central nervous system under
+ physiological conditions. Synapses adjacent to these branch points
+ were activated twice in rapid succession, first by an impulse arriving
+ from the periphery and then by its reflection. This fast double-firing
+ facilitated synaptic transmission, increasing it to more than twice
+ its normal level. Reflection occurred within a range of resting membrane
+ potentials, and electrical activity produced by mechanical stimulation
+ changed membrane potential so as to produce and cease reflection.
+ A compartmental model was used to investigate how branch-point morphology
+ and electrical activity contribute to produce reflection. The model
+ shows that mechanisms that hyperpolarize the membrane so as to impair
+ action potential propagation can increase the range of structures
+ that can produce reflection. This suggests that reflection is more
+ likely to occur in other structures where impulses fail, such as
+ in axons and dendrites in the mammalian brain. In leech sensory neurons,
+ reflection increased transmission from central synapses only in those
+ axon branches that innervate the edges of the receptive field in
+ the skin, thereby sharpening spatial contrast. Reflection thus allows
+ a neuron to amplify synaptic transmission from a selected group of
+ its branches in a way that can be regulated by electrical activity.},
+  File                     = {Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA.pdf:JabRef\\Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA.pdf:PDF},
+  Institution              = {Neuroscience Program, University of Miami, Miami, FL 33136, USA.
+ sbaccus@mednet.med.miami.edu},
+  Keywords                 = {Action Potentials, physiology; Animals; Axons, physiology; Electrophysiology;
+ Ganglia, Invertebrate, physiology; Ganglia, Sensory, physiology;
+ Leeches; Neurons, physiology; Synapses, physiology; Synaptic Transmission,
+ physiology},
+  Language                 = {eng},
+  Medline-pst              = {ppublish},
+  Pmid                     = {9653189},
+  Timestamp                = {11.05.01.13.02}
+}
+
+@Article{Brewer1995Serum-freeB27/neurobasalmediumsupportsdifferentiatedgrowthofneuronsfromthestriatumsubstantianigraseptumcerebralcortexcerebellumanddentategyrus.JNeurosciRes,
+  Title                    = {Serum-free B27/neurobasal medium supports differentiated growth of
+ neurons from the striatum, substantia nigra, septum, cerebral cortex,
+ cerebellum, and dentate gyrus.},
+  Author                   = {G. J. Brewer},
+  Journal                  = {J Neurosci Res},
+  Year                     = {1995},
+
+  Month                    = {Dec},
+  Number                   = {5},
+  Pages                    = {674--683},
+  Volume                   = {42},
+
+  Abstract                 = {Two fundamental questions about neuron cell culture were addressed.
+ Can one serum-free medium that was developed for optimum growth of
+ hippocampal neurons support the growth of neurons from other regions
+ of the brain? Is the region specific state of differentiation maintained
+ in culture? To answer these questions, we isolated neurons from six
+ other rat brain regions, placed them in culture in B27/Neurobasal
+ defined medium, and analyzed their morphology and growth dependence
+ on cell density after 4 days in culture. Neuronal identity was confirmed
+ by immunostaining with antibodies to neurofilament 200. Neurons from
+ each brain region maintained distinctive morphologies in culture
+ in the virtual absence of glia. Cells isolated from embryonic day
+ 18 cerebral cortex by digestion with papain showed the same high
+ survival as hippocampal neurons, e.g., 70\% survival for cells plated
+ at 160/mm2. At this age and density, neurons from the septum showed
+ slightly lower survival, 45\%. Survival of dentate granule neurons
+ from postnatal day four brains was 30-40\%, significantly lower,
+ and relatively independent of plating density. This suggests an absence
+ of dependence on trophic factors or contact for dentate granule neurons.
+ Growth of cerebellar granule neurons isolated from postnatal day
+ 7, 8, or 9 brains in B27/Neurobasal was compared to growth in BME/10\%
+ serum. Viability in serum-free medium at 4 days was much better than
+ that in serum, did not require KCl elevated to 25 mM, and occurred
+ without substantial growth of glia. Cerebellar granule neurons plated
+ at 1,280 cells/mm2 were maintained in culture for three weeks with
+ 17\% of the original cell density surviving. Survival of cells isolated
+ from embryonic day 18 substantia nigra was 50\% at 160 cells/mm2
+ after 4 days, similar to that of striatum, but slightly less than
+ hippocampal neuron survival. The dopaminergic phenotype of the substantia
+ nigral neurons was maintained over 2 weeks in culture as judged by
+ immunoreactivity with antibodies to tyrosine hydroxylase. During
+ this time, immunoreactivity was found in the processes as they grew
+ out from the soma. Together, these studies suggest that B27/Neurobasal
+ will be a useful medium for maintaining the differentiated growth
+ of neurons from many brain regions. Potential applications of a common
+ growth medium for different neurons are discussed.},
+  Doi                      = {10.1002/jnr.490420510},
+  Institution              = {Southern Illinois University School of Medicine, Springfield 62794-1220,
+ USA.},
+  Keywords                 = {Animals; Brain, anatomy /&/ histology/cytology/enzymology; Cell Culture
+ Techniques; Cell Survival; Cells, Cultured; Cerebellum, cytology/embryology;
+ Cerebral Cortex, cytology/embryology; Corpus Striatum, cytology/embryology;
+ Culture Media, Serum-Free; Dentate Gyrus, cytology/embryology; Electrophysiology;
+ Hippocampus, cytology/embryology; Neurofilament Proteins, metabolism;
+ Neurons, cytology/enzymology; Rats; Rats, Sprague-Dawley; Septum
+ Pellucidum, embryology; Substantia Nigra, cytology/embryology; Tyrosine
+ 3-Monooxygenase, metabolism},
+  Pmid                     = {8600300},
+  Timestamp                = {2008.12.12},
+  Url                      = {http://dx.doi.org/10.1002/jnr.490420510}
+}
+
+@Article{Brewer1997Isolationandcultureofadultrathippocampalneurons.JNeurosciMethods,
+  Title                    = {Isolation and culture of adult rat hippocampal neurons.},
+  Author                   = {G. J. Brewer},
+  Journal                  = {J Neurosci Methods},
+  Year                     = {1997},
+
+  Month                    = {Feb},
+  Number                   = {2},
+  Pages                    = {143--155},
+  Volume                   = {71},
+
+  Abstract                 = {Inability to culture adult central neurons and the failure of injured
+ neurons to regenerate in the brain could be due to genetic controls
+ or environmental inhibitors. We tested the environmental inhibitor
+ hypothesis by attempting to regenerate adult rat neurons in B27/Neurobasal
+ culture medium, a medium optimized for survival of embryonic neurons.
+ To isolate neurons from their numerous connections, papain was the
+ best of six different proteases screened on slices of hippocampus
+ for survival of isolated cells after 4 days of culture. Use of a
+ density gradient enabled separation of oligodendroglia and some enrichment
+ of neurons and microglia from considerable debris which was inhibitory
+ to sprouting and viability. With these techniques, about 900000 viable
+ neurons were isolated from each hippocampus of any age rat from birth
+ to 24-36 months, near the median mortality. FGF2 was found to enhance
+ viability at least 3-fold to 40-80\%, independent of age, without
+ affecting the length of the processes. Neurons were cultured for
+ more than 3 weeks. These methods demonstrate that hippocampal neurons
+ can regenerate axons and dendrites if provided with adequate nutrition
+ and if inhibitors are removed. They also will enable aging studies.
+ Therefore, the concept of environmental growth restriction may be
+ more appropriate for neurons in the brain than the concept of a genetic
+ block that precludes regeneration of processes.},
+  Institution              = {Department of Medical Microbiology and Immunology, Southern Illinois
+ University School of Medicine, Springfield 62794-1220, USA. gbrewer@siumed.edu},
+  Keywords                 = {Age Factors; Animals; Cell Adhesion, physiology; Cell Culture Techniques,
+ methods; Cell Separation, methods; Cell Survival, physiology; Cells,
+ Cultured; Cerebral Cortex, cytology; Dose-Response Relationship,
+ Drug; Fibroblast Growth Factor 2, physiology; Glutamic Acid, pharmacology;
+ Hippocampus, cytology; Male; Neurons, cytology/drug effects; Osmolar
+ Concentration; Oxygen, pharmacology; Papain; Rats; Rats, Inbred F344;
+ Rats, Sprague-Dawley},
+  Pii                      = {S0165-0270(96)00136-7},
+  Pmid                     = {9128149},
+  Timestamp                = {09.02.26.19.31}
+}
+
+@Article{Brewer2008NbActiv4mediumimprovementtoNeurobasal/B27increasesneuronsynapsedensitiesandnetworkspikeratesonmultielectrodearrays.JNeurosciMethods,
+  Title                    = {NbActiv4 medium improvement to Neurobasal/B27 increases neuron synapse
+ densities and network spike rates on multielectrode arrays.},
+  Author                   = {Gregory J Brewer and Michael D Boehler and Torrie T Jones and Bruce
+ C Wheeler},
+  Journal                  = {J Neurosci Methods},
+  Year                     = {2008},
+
+  Month                    = {May},
+  Number                   = {2},
+  Pages                    = {181--187},
+  Volume                   = {170},
+
+  Abstract                 = {The most interesting property of neurons is their long-distance propagation
+ of signals as spiking action potentials. Since 1993, Neurobasal/B27
+ has been used as a serum-free medium optimized for hippocampal neuron
+ survival. Neurons on microelectrode arrays (MEA) were used as an
+ assay system to increase spontaneous spike rates in media of different
+ compositions. We find spike rates of 0.5 s(-1) (Hz) for rat embryonic
+ hippocampal neurons cultured in Neurobasal/B27, lower than cultures
+ in serum-based media and offering an opportunity for improvement.
+ NbActiv4 was formulated by addition of creatine, cholesterol and
+ estrogen to Neurobasal/B27 that synergistically produced an eightfold
+ increase in spontaneous spike activity. The increased activity with
+ NbActiv4 correlated with a twofold increase in immunoreactive synaptophysin
+ bright puncta and GluR1 total puncta. Characteristic of synaptic
+ scaling, immunoreactive GABAAbeta puncta also increased 1.5-fold
+ and NMDA-R1 puncta increased 1.8-fold. Neuron survival in NbActiv4
+ equaled that in Neurobasal/B27, but with slightly higher astroglia.
+ Resting respiratory demand was decreased and demand capacity was
+ increased in NbActiv4, indicating less stress and higher efficiency.
+ These results show that NbActiv4 is an improvement to Neurobasal/B27
+ for cultured networks with an increased density of synapses and transmitter
+ receptors which produces higher spontaneous spike rates in neuron
+ networks.},
+  Doi                      = {10.1016/j.jneumeth.2008.01.009},
+  Institution              = {Southern Illinois University School of Medicine, Springfield, IL
+ 62794-9626, USA. gbrewer@siumed.edu},
+  Keywords                 = {Cell Survival; Cells, Cultured; Culture Media; Electrophysiology;
+ Hippocampus, cytology; Humans; Image Processing, Computer-Assisted;
+ Immunohistochemistry; Kinetics; Microelectrodes; Nerve Net, physiology;
+ Neurons, physiology; Oxygen Consumption, physiology; Oxygen, analysis;
+ Synapses, physiology},
+  Pii                      = {S0165-0270(08)00039-3},
+  Pmid                     = {18308400},
+  Timestamp                = {09.02.26.19.31},
+  Url                      = {http://dx.doi.org/10.1016/j.jneumeth.2008.01.009}
+}
+, @@ -0,0 +1,482 @@
+% This file was created with JabRef devel - 1st edition family.
+% Encoding: UTF8
+
+
+@ARTICLE{Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS,
+  author = {Aziz, Joseph N. Y. and Abdelhalim, Karim and Shulyzki, Ruslana and
+	
+	 Genov, Roman and Bardakjian, Berj L. and Derchansky, Miron and Serletis,
+	
+	 Demitre and Carlen, Peter L.},
+  title = {256-Channel Neural Recording and Delta Compression Microsystem With
+	
+	 3D Electrodes},
+  journal = {IEEE JOURNAL OF SOLID-STATE CIRCUITS},
+  year = {2009},
+  volume = {44},
+  pages = {995-1005},
+  number = {3},
+  month = {MAR},
+  abstract = {A 3D microsystem for multi-site penetrating extracellular neural recording
+	
+	 from the brain is presented. A 16 x 16-channel neural recording interface
+	
+	 integrated prototype fabricated in 0.35 mu m CMOS occupies 3.5 mm
+	
+	 x 4.5 mm area. Each recording channel dissipates 15 mu W of power
+	
+	 with input-referred noise of 7 mu V-rms over 5 kHz bandwidth. A switched-capacitor
+	
+	 delta read-out data compression circuit trades recording accuracy
+	
+	 for the output data rate. An array of 1.5 mm platinum-coated microelectrodes
+	
+	 is bonded directly onto the die. Results of in vitro experimental
+	
+	 recordings from intact mouse hippocampus validate the circuit design
+	
+	 and the on-chip electrode bonding technology.},
+  address = {445 HOES LANE, PISCATAWAY, NJ 08855 USA},
+  affiliation = {Aziz, JNY (Reprint Author), Broadcom, Irvine, CA 92617 USA. {[}Aziz,
+	
+	 Joseph N. Y.; Abdelhalim, Karim; Shulyzki, Ruslana; Genov, Roman]
+	
+	 Univ Toronto, Dept Elect \& Comp Engn, Toronto, ON M5S 3G4, Canada.
+	
+	 {[}Bardakjian, Berj L.] Univ Toronto, Inst Biomat \& Biomed Engn,
+	
+	 Edward S Rogers Sr Dept Elect \& Comp Engn, Toronto, ON M5S 1A4,
+	
+	 Canada. {[}Derchansky, Miron; Serletis, Demitre; Carlen, Peter L.]
+	
+	 Univ Toronto, Toronto Western Res Inst, Toronto, ON M5S 1A4, Canada.
+	
+	 {[}Derchansky, Miron; Serletis, Demitre; Carlen, Peter L.] Univ Toronto,
+	
+	 Dept Physiol, Toronto, ON M5S 1A4, Canada.},
+  author-email = {roman@eecg.utoronto.ca},
+  cited-references = {ATLURI S, 2006, P IEEE INT S CIRC SY, P1131. AZIZ J, 2006, P IEEE
+	
+	 INT S CIRC SY. AZIZ J, 2007, IEEE INT SOL STAT CI, P160. AZIZ JNY,
+	
+	 2006, P IEEE INT S CIRC SY, P5075. AZIZ JNY, 2007, IEEE T BIOMED
+	
+	 CIRCUI, V1. AZIZ JNY, 2007, P IEEE INT S CIRC SY. CHAIMANONART N,
+	
+	 2005, P ANN INT IEEE EMBS, P5194. DELBRUCK T, 1994, P IEEE INT S
+	
+	 CIRC SY, V4, P339. ENZ CC, 1996, P IEEE, V84, P1584. EVERSMANN B,
+	
+	 2003, IEEE J SOLID-ST CIRC, V38, P2306, DOI 10.1109/JSSC.2003.819174.
+	
+	 HARRISON R, 2006, IEEE INT SOL STAT C, P2258. HARRISON RR, 2003,
+	
+	 IEEE J SOLID-ST CIRC, V38, P958, DOI 10.1009/JSSC.2003.811979. HARRISON
+	
+	 RR, 2007, IEEE CUST INTEGR CIR, P115. HEER F, 2006, IEEE J SOLID-ST
+	
+	 CIRC, V41, P1620, DOI 10.1109/JSSC.2006.873677. KIM S, 2006, P 2006
+	
+	 INT C IEEE EN, P2986. MALLIK U, 2005, IEEE ISSCC, P362. MOHSENI P,
+	
+	 2004, IEEE T BIO-MED ENG, V51, P832, DOI 10.1109/TBME.2004.824126.
+	
+	 MOTCHENBACHER CD, 1993, LOW NOISE ELECT SYST. OLSSON RH, 2005, IEEE
+	
+	 J SOLID-ST CIRC, V40, P2796. PATTERSON WR, 2004, IEEE T BIO-MED ENG,
+	
+	 V51, P1845, DOI 10.1109/TBME.2004.831521. RILEY G, 1987, SURFACE
+	
+	 MOUNT INT, P535. STEYAERT MSJ, 1987, IEEE J SOLID-ST CIRC, V22, P1163.
+	
+	 TSIVIDIS Y, 2003, OPERATION MODELING M. WATTANAPANITCH W, 2007, IEEE
+	
+	 T BIOMED CIRC S, V1, P136, DOI 10.1109/TBCAS.2007.907868. WISE KD,
+	
+	 2005, IEEE ENG MED BIOL, V24, P22.},
+  doc-delivery-number = {415FE},
+  doi = {10.1109/JSSC.2008.2010997},
+  file = {Draft:JabRef\\Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS_draft.pdf:PDF;Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS.pdf:JabRef\\Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS.pdf:PDF},
+  issn = {0018-9200},
+  journal-iso = {IEEE J. Solid-State Circuit},
+  keywords = {Multi-channel recording; microelectrodes; extracellular recording;
+	
+	 electrode array; implantable; brain; hippocampus; delta compression;
+	
+	 neural amplifier},
+  keywords-plus = {AMPLIFIER; STABILIZATION; CIRCUIT; ARRAY},
+  language = {English},
+  number-of-cited-references = {25},
+  publisher = {IEEE-INST ELECTRICAL ELECTRONICS ENGINEERS INC},
+  subject-category = {Engineering, Electrical \& Electronic},
+  times-cited = {2},
+  timestamp = {10.04.15.11.41},
+  type = {Article},
+  unique-id = {ISI:000263918900029}
+}
+
+@ARTICLE{BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering,
+  author = {B Balakrisnan , S Patil and E Smela},
+  title = {Patterning PDMS using a combination of wet and dry etching},
+  journal = {Journal of Micromechanics and Microengineering},
+  year = {2009},
+  volume = {19},
+  pages = {047002},
+  number = {4},
+  abstract = {PDMS films of 10 �m thickness can be patterned within 30 min by combining
+	
+	 dry etching to achieve substantially vertical sidewalls with wet
+	
+	 etching to achieve high etch rates and to protect the underlying
+	
+	 substrate from attack. Dry etching alone would have taken 5 h, and
+	
+	 wet etching alone would produce severe undercutting. In addition,
+	
+	 using either technique alone produces undesirable surface morphologies.
+	
+	 The mask used during etching is critical to a successful patterning
+	
+	 outcome. E-beam evaporated Al was found to work well, adhering strongly
+	
+	 to oxygen-plasma-treated PDMS and holding up well during both dry
+	
+	 and wet etching. To prevent wrinkling of the PDMS, a fast deposition
+	
+	 rate should be used.},
+  file = {BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering.pdf:JabRef\\BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering.pdf:PDF},
+  timestamp = {09.06.17.13.03},
+  url = {http://stacks.iop.org/0960-1317/19/i=4/a=047002}
+}
+
+@ARTICLE{Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA,
+  author = {S. A. Baccus},
+  title = {Synaptic facilitation by reflected action potentials: enhancement
+	
+	 of transmission when nerve impulses reverse direction at axon branch
+	
+	 points.},
+  journal = {Proc Natl Acad Sci U S A},
+  year = {1998},
+  volume = {95},
+  pages = {8345--8350},
+  number = {14},
+  month = {Jul},
+  abstract = {A rapid, reversible enhancement of synaptic transmission from a sensory
+	
+	 neuron is reported and explained by impulses that reverse direction,
+	
+	 or reflect, at axon branch points. In leech mechanosensory neurons,
+	
+	 where one can detect reflection because it is possible simultaneously
+	
+	 to study electrical activity in separate branches, action potentials
+	
+	 reflected from branch points within the central nervous system under
+	
+	 physiological conditions. Synapses adjacent to these branch points
+	
+	 were activated twice in rapid succession, first by an impulse arriving
+	
+	 from the periphery and then by its reflection. This fast double-firing
+	
+	 facilitated synaptic transmission, increasing it to more than twice
+	
+	 its normal level. Reflection occurred within a range of resting membrane
+	
+	 potentials, and electrical activity produced by mechanical stimulation
+	
+	 changed membrane potential so as to produce and cease reflection.
+	
+	 A compartmental model was used to investigate how branch-point morphology
+	
+	 and electrical activity contribute to produce reflection. The model
+	
+	 shows that mechanisms that hyperpolarize the membrane so as to impair
+	
+	 action potential propagation can increase the range of structures
+	
+	 that can produce reflection. This suggests that reflection is more
+	
+	 likely to occur in other structures where impulses fail, such as
+	
+	 in axons and dendrites in the mammalian brain. In leech sensory neurons,
+	
+	 reflection increased transmission from central synapses only in those
+	
+	 axon branches that innervate the edges of the receptive field in
+	
+	 the skin, thereby sharpening spatial contrast. Reflection thus allows
+	
+	 a neuron to amplify synaptic transmission from a selected group of
+	
+	 its branches in a way that can be regulated by electrical activity.},
+  file = {Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA.pdf:JabRef\\Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA.pdf:PDF},
+  institution = {Neuroscience Program, University of Miami, Miami, FL 33136, USA.
+	
+	 sbaccus@mednet.med.miami.edu},
+  keywords = {Action Potentials, physiology; Animals; Axons, physiology; Electrophysiology;
+	
+	 Ganglia, Invertebrate, physiology; Ganglia, Sensory, physiology;
+	
+	 Leeches; Neurons, physiology; Synapses, physiology; Synaptic Transmission,
+	
+	 physiology},
+  language = {eng},
+  medline-pst = {ppublish},
+  pmid = {9653189},
+  timestamp = {11.05.01.13.02}
+}
+
+@ARTICLE{Brewer1995Serum-freeB27/neurobasalmediumsupportsdifferentiatedgrowthofneuronsfromthestriatumsubstantianigraseptumcerebralcortexcerebellumanddentategyrus.JNeurosciRes,
+  author = {G. J. Brewer},
+  title = {Serum-free B27/neurobasal medium supports differentiated growth of
+	
+	 neurons from the striatum, substantia nigra, septum, cerebral cortex,
+	
+	 cerebellum, and dentate gyrus.},
+  journal = {J Neurosci Res},
+  year = {1995},
+  volume = {42},
+  pages = {674--683},
+  number = {5},
+  month = {Dec},
+  abstract = {Two fundamental questions about neuron cell culture were addressed.
+	
+	 Can one serum-free medium that was developed for optimum growth of
+	
+	 hippocampal neurons support the growth of neurons from other regions
+	
+	 of the brain? Is the region specific state of differentiation maintained
+	
+	 in culture? To answer these questions, we isolated neurons from six
+	
+	 other rat brain regions, placed them in culture in B27/Neurobasal
+	
+	 defined medium, and analyzed their morphology and growth dependence
+	
+	 on cell density after 4 days in culture. Neuronal identity was confirmed
+	
+	 by immunostaining with antibodies to neurofilament 200. Neurons from
+	
+	 each brain region maintained distinctive morphologies in culture
+	
+	 in the virtual absence of glia. Cells isolated from embryonic day
+	
+	 18 cerebral cortex by digestion with papain showed the same high
+	
+	 survival as hippocampal neurons, e.g., 70\% survival for cells plated
+	
+	 at 160/mm2. At this age and density, neurons from the septum showed
+	
+	 slightly lower survival, 45\%. Survival of dentate granule neurons
+	
+	 from postnatal day four brains was 30-40\%, significantly lower,
+	
+	 and relatively independent of plating density. This suggests an absence
+	
+	 of dependence on trophic factors or contact for dentate granule neurons.
+	
+	 Growth of cerebellar granule neurons isolated from postnatal day
+	
+	 7, 8, or 9 brains in B27/Neurobasal was compared to growth in BME/10\%
+	
+	 serum. Viability in serum-free medium at 4 days was much better than
+	
+	 that in serum, did not require KCl elevated to 25 mM, and occurred
+	
+	 without substantial growth of glia. Cerebellar granule neurons plated
+	
+	 at 1,280 cells/mm2 were maintained in culture for three weeks with
+	
+	 17\% of the original cell density surviving. Survival of cells isolated
+	
+	 from embryonic day 18 substantia nigra was 50\% at 160 cells/mm2
+	
+	 after 4 days, similar to that of striatum, but slightly less than
+	
+	 hippocampal neuron survival. The dopaminergic phenotype of the substantia
+	
+	 nigral neurons was maintained over 2 weeks in culture as judged by
+	
+	 immunoreactivity with antibodies to tyrosine hydroxylase. During
+	
+	 this time, immunoreactivity was found in the processes as they grew
+	
+	 out from the soma. Together, these studies suggest that B27/Neurobasal
+	
+	 will be a useful medium for maintaining the differentiated growth
+	
+	 of neurons from many brain regions. Potential applications of a common
+	
+	 growth medium for different neurons are discussed.},
+  doi = {10.1002/jnr.490420510},
+  institution = {Southern Illinois University School of Medicine, Springfield 62794-1220,
+	
+	 USA.},
+  keywords = {Animals; Brain, anatomy /&/ histology/cytology/enzymology; Cell Culture
+	
+	 Techniques; Cell Survival; Cells, Cultured; Cerebellum, cytology/embryology;
+	
+	 Cerebral Cortex, cytology/embryology; Corpus Striatum, cytology/embryology;
+	
+	 Culture Media, Serum-Free; Dentate Gyrus, cytology/embryology; Electrophysiology;
+	
+	 Hippocampus, cytology/embryology; Neurofilament Proteins, metabolism;
+	
+	 Neurons, cytology/enzymology; Rats; Rats, Sprague-Dawley; Septum
+	
+	 Pellucidum, embryology; Substantia Nigra, cytology/embryology; Tyrosine
+	
+	 3-Monooxygenase, metabolism},
+  pmid = {8600300},
+  timestamp = {2008.12.12},
+  url = {http://dx.doi.org/10.1002/jnr.490420510}
+}
+
+@ARTICLE{Brewer1997Isolationandcultureofadultrathippocampalneurons.JNeurosciMethods,
+  author = {G. J. Brewer},
+  title = {Isolation and culture of adult rat hippocampal neurons.},
+  journal = {J Neurosci Methods},
+  year = {1997},
+  volume = {71},
+  pages = {143--155},
+  number = {2},
+  month = {Feb},
+  abstract = {Inability to culture adult central neurons and the failure of injured
+	
+	 neurons to regenerate in the brain could be due to genetic controls
+	
+	 or environmental inhibitors. We tested the environmental inhibitor
+	
+	 hypothesis by attempting to regenerate adult rat neurons in B27/Neurobasal
+	
+	 culture medium, a medium optimized for survival of embryonic neurons.
+	
+	 To isolate neurons from their numerous connections, papain was the
+	
+	 best of six different proteases screened on slices of hippocampus
+	
+	 for survival of isolated cells after 4 days of culture. Use of a
+	
+	 density gradient enabled separation of oligodendroglia and some enrichment
+	
+	 of neurons and microglia from considerable debris which was inhibitory
+	
+	 to sprouting and viability. With these techniques, about 900000 viable
+	
+	 neurons were isolated from each hippocampus of any age rat from birth
+	
+	 to 24-36 months, near the median mortality. FGF2 was found to enhance
+	
+	 viability at least 3-fold to 40-80\%, independent of age, without
+	
+	 affecting the length of the processes. Neurons were cultured for
+	
+	 more than 3 weeks. These methods demonstrate that hippocampal neurons
+	
+	 can regenerate axons and dendrites if provided with adequate nutrition
+	
+	 and if inhibitors are removed. They also will enable aging studies.
+	
+	 Therefore, the concept of environmental growth restriction may be
+	
+	 more appropriate for neurons in the brain than the concept of a genetic
+	
+	 block that precludes regeneration of processes.},
+  institution = {Department of Medical Microbiology and Immunology, Southern Illinois
+	
+	 University School of Medicine, Springfield 62794-1220, USA. gbrewer@siumed.edu},
+  keywords = {Age Factors; Animals; Cell Adhesion, physiology; Cell Culture Techniques,
+	
+	 methods; Cell Separation, methods; Cell Survival, physiology; Cells,
+	
+	 Cultured; Cerebral Cortex, cytology; Dose-Response Relationship,
+	
+	 Drug; Fibroblast Growth Factor 2, physiology; Glutamic Acid, pharmacology;
+	
+	 Hippocampus, cytology; Male; Neurons, cytology/drug effects; Osmolar
+	
+	 Concentration; Oxygen, pharmacology; Papain; Rats; Rats, Inbred F344;
+	
+	 Rats, Sprague-Dawley},
+  pii = {S0165-0270(96)00136-7},
+  pmid = {9128149},
+  timestamp = {09.02.26.19.31}
+}
+
+@ARTICLE{Brewer2008NbActiv4mediumimprovementtoNeurobasal/B27increasesneuronsynapsedensitiesandnetworkspikeratesonmultielectrodearrays.JNeurosciMethods,
+  author = {Gregory J Brewer and Michael D Boehler and Torrie T Jones and Bruce
+	
+	 C Wheeler},
+  title = {NbActiv4 medium improvement to Neurobasal/B27 increases neuron synapse
+	
+	 densities and network spike rates on multielectrode arrays.},
+  journal = {J Neurosci Methods},
+  year = {2008},
+  volume = {170},
+  pages = {181--187},
+  number = {2},
+  month = {May},
+  abstract = {The most interesting property of neurons is their long-distance propagation
+	
+	 of signals as spiking action potentials. Since 1993, Neurobasal/B27
+	
+	 has been used as a serum-free medium optimized for hippocampal neuron
+	
+	 survival. Neurons on microelectrode arrays (MEA) were used as an
+	
+	 assay system to increase spontaneous spike rates in media of different
+	
+	 compositions. We find spike rates of 0.5 s(-1) (Hz) for rat embryonic
+	
+	 hippocampal neurons cultured in Neurobasal/B27, lower than cultures
+	
+	 in serum-based media and offering an opportunity for improvement.
+	
+	 NbActiv4 was formulated by addition of creatine, cholesterol and
+	
+	 estrogen to Neurobasal/B27 that synergistically produced an eightfold
+	
+	 increase in spontaneous spike activity. The increased activity with
+	
+	 NbActiv4 correlated with a twofold increase in immunoreactive synaptophysin
+	
+	 bright puncta and GluR1 total puncta. Characteristic of synaptic
+	
+	 scaling, immunoreactive GABAAbeta puncta also increased 1.5-fold
+	
+	 and NMDA-R1 puncta increased 1.8-fold. Neuron survival in NbActiv4
+	
+	 equaled that in Neurobasal/B27, but with slightly higher astroglia.
+	
+	 Resting respiratory demand was decreased and demand capacity was
+	
+	 increased in NbActiv4, indicating less stress and higher efficiency.
+	
+	 These results show that NbActiv4 is an improvement to Neurobasal/B27
+	
+	 for cultured networks with an increased density of synapses and transmitter
+	
+	 receptors which produces higher spontaneous spike rates in neuron
+	
+	 networks.},
+  doi = {10.1016/j.jneumeth.2008.01.009},
+  institution = {Southern Illinois University School of Medicine, Springfield, IL
+	
+	 62794-9626, USA. gbrewer@siumed.edu},
+  keywords = {Cell Survival; Cells, Cultured; Culture Media; Electrophysiology;
+	
+	 Hippocampus, cytology; Humans; Image Processing, Computer-Assisted;
+	
+	 Immunohistochemistry; Kinetics; Microelectrodes; Nerve Net, physiology;
+	
+	 Neurons, physiology; Oxygen Consumption, physiology; Oxygen, analysis;
+	
+	 Synapses, physiology},
+  pii = {S0165-0270(08)00039-3},
+  pmid = {18308400},
+  timestamp = {09.02.26.19.31},
+  url = {http://dx.doi.org/10.1016/j.jneumeth.2008.01.009}
+}
+, @@ -0,0 +1,301 @@
+% This file was created with JabRef 2.9.2.
+% Encoding: UTF8
+
+@ARTICLE{Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS,
+  author = {Aziz, Joseph N. Y. and Abdelhalim, Karim and Shulyzki, Ruslana and
+	Genov, Roman and Bardakjian, Berj L. and Derchansky, Miron and Serletis,
+	Demitre and Carlen, Peter L.},
+  title = {256-Channel Neural Recording and Delta Compression Microsystem With
+	3D Electrodes},
+  journal = {IEEE JOURNAL OF SOLID-STATE CIRCUITS},
+  year = {2009},
+  volume = {44},
+  pages = {995-1005},
+  number = {3},
+  month = {MAR},
+  abstract = {A 3D microsystem for multi-site penetrating extracellular neural recording
+	from the brain is presented. A 16 x 16-channel neural recording interface
+	integrated prototype fabricated in 0.35 mu m CMOS occupies 3.5 mm
+	x 4.5 mm area. Each recording channel dissipates 15 mu W of power
+	with input-referred noise of 7 mu V-rms over 5 kHz bandwidth. A switched-capacitor
+	delta read-out data compression circuit trades recording accuracy
+	for the output data rate. An array of 1.5 mm platinum-coated microelectrodes
+	is bonded directly onto the die. Results of in vitro experimental
+	recordings from intact mouse hippocampus validate the circuit design
+	and the on-chip electrode bonding technology.},
+  address = {445 HOES LANE, PISCATAWAY, NJ 08855 USA},
+  affiliation = {Aziz, JNY (Reprint Author), Broadcom, Irvine, CA 92617 USA. {[}Aziz,
+	Joseph N. Y.; Abdelhalim, Karim; Shulyzki, Ruslana; Genov, Roman]
+	Univ Toronto, Dept Elect \& Comp Engn, Toronto, ON M5S 3G4, Canada.
+	{[}Bardakjian, Berj L.] Univ Toronto, Inst Biomat \& Biomed Engn,
+	Edward S Rogers Sr Dept Elect \& Comp Engn, Toronto, ON M5S 1A4,
+	Canada. {[}Derchansky, Miron; Serletis, Demitre; Carlen, Peter L.]
+	Univ Toronto, Toronto Western Res Inst, Toronto, ON M5S 1A4, Canada.
+	{[}Derchansky, Miron; Serletis, Demitre; Carlen, Peter L.] Univ Toronto,
+	Dept Physiol, Toronto, ON M5S 1A4, Canada.},
+  author-email = {roman@eecg.utoronto.ca},
+  cited-references = {ATLURI S, 2006, P IEEE INT S CIRC SY, P1131. AZIZ J, 2006, P IEEE
+	INT S CIRC SY. AZIZ J, 2007, IEEE INT SOL STAT CI, P160. AZIZ JNY,
+	2006, P IEEE INT S CIRC SY, P5075. AZIZ JNY, 2007, IEEE T BIOMED
+	CIRCUI, V1. AZIZ JNY, 2007, P IEEE INT S CIRC SY. CHAIMANONART N,
+	2005, P ANN INT IEEE EMBS, P5194. DELBRUCK T, 1994, P IEEE INT S
+	CIRC SY, V4, P339. ENZ CC, 1996, P IEEE, V84, P1584. EVERSMANN B,
+	2003, IEEE J SOLID-ST CIRC, V38, P2306, DOI 10.1109/JSSC.2003.819174.
+	HARRISON R, 2006, IEEE INT SOL STAT C, P2258. HARRISON RR, 2003,
+	IEEE J SOLID-ST CIRC, V38, P958, DOI 10.1009/JSSC.2003.811979. HARRISON
+	RR, 2007, IEEE CUST INTEGR CIR, P115. HEER F, 2006, IEEE J SOLID-ST
+	CIRC, V41, P1620, DOI 10.1109/JSSC.2006.873677. KIM S, 2006, P 2006
+	INT C IEEE EN, P2986. MALLIK U, 2005, IEEE ISSCC, P362. MOHSENI P,
+	2004, IEEE T BIO-MED ENG, V51, P832, DOI 10.1109/TBME.2004.824126.
+	MOTCHENBACHER CD, 1993, LOW NOISE ELECT SYST. OLSSON RH, 2005, IEEE
+	J SOLID-ST CIRC, V40, P2796. PATTERSON WR, 2004, IEEE T BIO-MED ENG,
+	V51, P1845, DOI 10.1109/TBME.2004.831521. RILEY G, 1987, SURFACE
+	MOUNT INT, P535. STEYAERT MSJ, 1987, IEEE J SOLID-ST CIRC, V22, P1163.
+	TSIVIDIS Y, 2003, OPERATION MODELING M. WATTANAPANITCH W, 2007, IEEE
+	T BIOMED CIRC S, V1, P136, DOI 10.1109/TBCAS.2007.907868. WISE KD,
+	2005, IEEE ENG MED BIOL, V24, P22.},
+  doc-delivery-number = {415FE},
+  doi = {10.1109/JSSC.2008.2010997},
+  file = {Draft:JabRef\\Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS_draft.pdf:PDF;Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS.pdf:JabRef\\Aziz2009256-ChannelNeuralRecordingandDeltaCompressionMicrosystemWith3DElectrodesIEEEJOURNALOFSOLID-STATECIRCUITS.pdf:PDF},
+  issn = {0018-9200},
+  journal-iso = {IEEE J. Solid-State Circuit},
+  keywords = {Multi-channel recording; microelectrodes; extracellular recording;
+	electrode array; implantable; brain; hippocampus; delta compression;
+	neural amplifier},
+  keywords-plus = {AMPLIFIER; STABILIZATION; CIRCUIT; ARRAY},
+  language = {English},
+  number-of-cited-references = {25},
+  publisher = {IEEE-INST ELECTRICAL ELECTRONICS ENGINEERS INC},
+  subject-category = {Engineering, Electrical \& Electronic},
+  times-cited = {2},
+  timestamp = {10.04.15.11.41},
+  type = {Article},
+  unique-id = {ISI:000263918900029}
+}
+
+@ARTICLE{Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA,
+  author = {S. A. Baccus},
+  title = {Synaptic facilitation by reflected action potentials: enhancement
+	of transmission when nerve impulses reverse direction at axon branch
+	points.},
+  journal = {Proc Natl Acad Sci U S A},
+  year = {1998},
+  volume = {95},
+  pages = {8345--8350},
+  number = {14},
+  month = {Jul},
+  abstract = {A rapid, reversible enhancement of synaptic transmission from a sensory
+	neuron is reported and explained by impulses that reverse direction,
+	or reflect, at axon branch points. In leech mechanosensory neurons,
+	where one can detect reflection because it is possible simultaneously
+	to study electrical activity in separate branches, action potentials
+	reflected from branch points within the central nervous system under
+	physiological conditions. Synapses adjacent to these branch points
+	were activated twice in rapid succession, first by an impulse arriving
+	from the periphery and then by its reflection. This fast double-firing
+	facilitated synaptic transmission, increasing it to more than twice
+	its normal level. Reflection occurred within a range of resting membrane
+	potentials, and electrical activity produced by mechanical stimulation
+	changed membrane potential so as to produce and cease reflection.
+	A compartmental model was used to investigate how branch-point morphology
+	and electrical activity contribute to produce reflection. The model
+	shows that mechanisms that hyperpolarize the membrane so as to impair
+	action potential propagation can increase the range of structures
+	that can produce reflection. This suggests that reflection is more
+	likely to occur in other structures where impulses fail, such as
+	in axons and dendrites in the mammalian brain. In leech sensory neurons,
+	reflection increased transmission from central synapses only in those
+	axon branches that innervate the edges of the receptive field in
+	the skin, thereby sharpening spatial contrast. Reflection thus allows
+	a neuron to amplify synaptic transmission from a selected group of
+	its branches in a way that can be regulated by electrical activity.},
+  file = {Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA.pdf:JabRef\\Baccus1998Synapticfacilitationbyreflectedactionpotentials--enhancementoftransmissionwhennerveimpulsesreversedirectionataxonbranchpoints.ProcNatlAcadSciUSA.pdf:PDF},
+  institution = {Neuroscience Program, University of Miami, Miami, FL 33136, USA.
+	sbaccus@mednet.med.miami.edu},
+  keywords = {Action Potentials, physiology; Animals; Axons, physiology; Electrophysiology;
+	Ganglia, Invertebrate, physiology; Ganglia, Sensory, physiology;
+	Leeches; Neurons, physiology; Synapses, physiology; Synaptic Transmission,
+	physiology},
+  language = {eng},
+  medline-pst = {ppublish},
+  pmid = {9653189},
+  timestamp = {11.05.01.13.02}
+}
+
+@ARTICLE{BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering,
+  author = {B Balakrisnan , S Patil and E Smela},
+  title = {Patterning PDMS using a combination of wet and dry etching},
+  journal = {Journal of Micromechanics and Microengineering},
+  year = {2009},
+  volume = {19},
+  pages = {047002},
+  number = {4},
+  abstract = {PDMS films of 10 �m thickness can be patterned within 30 min by combining
+	dry etching to achieve substantially vertical sidewalls with wet
+	etching to achieve high etch rates and to protect the underlying
+	substrate from attack. Dry etching alone would have taken 5 h, and
+	wet etching alone would produce severe undercutting. In addition,
+	using either technique alone produces undesirable surface morphologies.
+	The mask used during etching is critical to a successful patterning
+	outcome. E-beam evaporated Al was found to work well, adhering strongly
+	to oxygen-plasma-treated PDMS and holding up well during both dry
+	and wet etching. To prevent wrinkling of the PDMS, a fast deposition
+	rate should be used.},
+  file = {BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering.pdf:JabRef\\BBalakrisnan2009PatterningPDMSusingacombinationofwetanddryetchingJournalofMicromechanicsandMicroengineering.pdf:PDF},
+  timestamp = {09.06.17.13.03},
+  url = {http://stacks.iop.org/0960-1317/19/i=4/a=047002}
+}
+
+@ARTICLE{Brewer1997Isolationandcultureofadultrathippocampalneurons.JNeurosciMethods,
+  author = {G. J. Brewer},
+  title = {Isolation and culture of adult rat hippocampal neurons.},
+  journal = {J Neurosci Methods},
+  year = {1997},
+  volume = {71},
+  pages = {143--155},
+  number = {2},
+  month = {Feb},
+  abstract = {Inability to culture adult central neurons and the failure of injured
+	neurons to regenerate in the brain could be due to genetic controls
+	or environmental inhibitors. We tested the environmental inhibitor
+	hypothesis by attempting to regenerate adult rat neurons in B27/Neurobasal
+	culture medium, a medium optimized for survival of embryonic neurons.
+	To isolate neurons from their numerous connections, papain was the
+	best of six different proteases screened on slices of hippocampus
+	for survival of isolated cells after 4 days of culture. Use of a
+	density gradient enabled separation of oligodendroglia and some enrichment
+	of neurons and microglia from considerable debris which was inhibitory
+	to sprouting and viability. With these techniques, about 900000 viable
+	neurons were isolated from each hippocampus of any age rat from birth
+	to 24-36 months, near the median mortality. FGF2 was found to enhance
+	viability at least 3-fold to 40-80\%, independent of age, without
+	affecting the length of the processes. Neurons were cultured for
+	more than 3 weeks. These methods demonstrate that hippocampal neurons
+	can regenerate axons and dendrites if provided with adequate nutrition
+	and if inhibitors are removed. They also will enable aging studies.
+	Therefore, the concept of environmental growth restriction may be
+	more appropriate for neurons in the brain than the concept of a genetic
+	block that precludes regeneration of processes.},
+  institution = {Department of Medical Microbiology and Immunology, Southern Illinois
+	University School of Medicine, Springfield 62794-1220, USA. gbrewer@siumed.edu},
+  keywords = {Age Factors; Animals; Cell Adhesion, physiology; Cell Culture Techniques,
+	methods; Cell Separation, methods; Cell Survival, physiology; Cells,
+	Cultured; Cerebral Cortex, cytology; Dose-Response Relationship,
+	Drug; Fibroblast Growth Factor 2, physiology; Glutamic Acid, pharmacology;
+	Hippocampus, cytology; Male; Neurons, cytology/drug effects; Osmolar
+	Concentration; Oxygen, pharmacology; Papain; Rats; Rats, Inbred F344;
+	Rats, Sprague-Dawley},
+  pii = {S0165-0270(96)00136-7},
+  pmid = {9128149},
+  timestamp = {09.02.26.19.31}
+}
+
+@ARTICLE{Brewer1995Serum-freeB27/neurobasalmediumsupportsdifferentiatedgrowthofneuronsfromthestriatumsubstantianigraseptumcerebralcortexcerebellumanddentategyrus.JNeurosciRes,
+  author = {G. J. Brewer},
+  title = {Serum-free B27/neurobasal medium supports differentiated growth of
+	neurons from the striatum, substantia nigra, septum, cerebral cortex,
+	cerebellum, and dentate gyrus.},
+  journal = {J Neurosci Res},
+  year = {1995},
+  volume = {42},
+  pages = {674--683},
+  number = {5},
+  month = {Dec},
+  abstract = {Two fundamental questions about neuron cell culture were addressed.
+	Can one serum-free medium that was developed for optimum growth of
+	hippocampal neurons support the growth of neurons from other regions
+	of the brain? Is the region specific state of differentiation maintained
+	in culture? To answer these questions, we isolated neurons from six
+	other rat brain regions, placed them in culture in B27/Neurobasal
+	defined medium, and analyzed their morphology and growth dependence
+	on cell density after 4 days in culture. Neuronal identity was confirmed
+	by immunostaining with antibodies to neurofilament 200. Neurons from
+	each brain region maintained distinctive morphologies in culture
+	in the virtual absence of glia. Cells isolated from embryonic day
+	18 cerebral cortex by digestion with papain showed the same high
+	survival as hippocampal neurons, e.g., 70\% survival for cells plated
+	at 160/mm2. At this age and density, neurons from the septum showed
+	slightly lower survival, 45\%. Survival of dentate granule neurons
+	from postnatal day four brains was 30-40\%, significantly lower,
+	and relatively independent of plating density. This suggests an absence
+	of dependence on trophic factors or contact for dentate granule neurons.
+	Growth of cerebellar granule neurons isolated from postnatal day
+	7, 8, or 9 brains in B27/Neurobasal was compared to growth in BME/10\%
+	serum. Viability in serum-free medium at 4 days was much better than
+	that in serum, did not require KCl elevated to 25 mM, and occurred
+	without substantial growth of glia. Cerebellar granule neurons plated
+	at 1,280 cells/mm2 were maintained in culture for three weeks with
+	17\% of the original cell density surviving. Survival of cells isolated
+	from embryonic day 18 substantia nigra was 50\% at 160 cells/mm2
+	after 4 days, similar to that of striatum, but slightly less than
+	hippocampal neuron survival. The dopaminergic phenotype of the substantia
+	nigral neurons was maintained over 2 weeks in culture as judged by
+	immunoreactivity with antibodies to tyrosine hydroxylase. During
+	this time, immunoreactivity was found in the processes as they grew
+	out from the soma. Together, these studies suggest that B27/Neurobasal
+	will be a useful medium for maintaining the differentiated growth
+	of neurons from many brain regions. Potential applications of a common
+	growth medium for different neurons are discussed.},
+  doi = {10.1002/jnr.490420510},
+  institution = {Southern Illinois University School of Medicine, Springfield 62794-1220,
+	USA.},
+  keywords = {Animals; Brain, anatomy /&/ histology/cytology/enzymology; Cell Culture
+	Techniques; Cell Survival; Cells, Cultured; Cerebellum, cytology/embryology;
+	Cerebral Cortex, cytology/embryology; Corpus Striatum, cytology/embryology;
+	Culture Media, Serum-Free; Dentate Gyrus, cytology/embryology; Electrophysiology;
+	Hippocampus, cytology/embryology; Neurofilament Proteins, metabolism;
+	Neurons, cytology/enzymology; Rats; Rats, Sprague-Dawley; Septum
+	Pellucidum, embryology; Substantia Nigra, cytology/embryology; Tyrosine
+	3-Monooxygenase, metabolism},
+  pmid = {8600300},
+  timestamp = {2008.12.12},
+  url = {http://dx.doi.org/10.1002/jnr.490420510}
+}
+
+@ARTICLE{Brewer2008NbActiv4mediumimprovementtoNeurobasal/B27increasesneuronsynapsedensitiesandnetworkspikeratesonmultielectrodearrays.JNeurosciMethods,
+  author = {Gregory J Brewer and Michael D Boehler and Torrie T Jones and Bruce
+	C Wheeler},
+  title = {NbActiv4 medium improvement to Neurobasal/B27 increases neuron synapse
+	densities and network spike rates on multielectrode arrays.},
+  journal = {J Neurosci Methods},
+  year = {2008},
+  volume = {170},
+  pages = {181--187},
+  number = {2},
+  month = {May},
+  abstract = {The most interesting property of neurons is their long-distance propagation
+	of signals as spiking action potentials. Since 1993, Neurobasal/B27
+	has been used as a serum-free medium optimized for hippocampal neuron
+	survival. Neurons on microelectrode arrays (MEA) were used as an
+	assay system to increase spontaneous spike rates in media of different
+	compositions. We find spike rates of 0.5 s(-1) (Hz) for rat embryonic
+	hippocampal neurons cultured in Neurobasal/B27, lower than cultures
+	in serum-based media and offering an opportunity for improvement.
+	NbActiv4 was formulated by addition of creatine, cholesterol and
+	estrogen to Neurobasal/B27 that synergistically produced an eightfold
+	increase in spontaneous spike activity. The increased activity with
+	NbActiv4 correlated with a twofold increase in immunoreactive synaptophysin
+	bright puncta and GluR1 total puncta. Characteristic of synaptic
+	scaling, immunoreactive GABAAbeta puncta also increased 1.5-fold
+	and NMDA-R1 puncta increased 1.8-fold. Neuron survival in NbActiv4
+	equaled that in Neurobasal/B27, but with slightly higher astroglia.
+	Resting respiratory demand was decreased and demand capacity was
+	increased in NbActiv4, indicating less stress and higher efficiency.
+	These results show that NbActiv4 is an improvement to Neurobasal/B27
+	for cultured networks with an increased density of synapses and transmitter
+	receptors which produces higher spontaneous spike rates in neuron
+	networks.},
+  doi = {10.1016/j.jneumeth.2008.01.009},
+  institution = {Southern Illinois University School of Medicine, Springfield, IL
+	62794-9626, USA. gbrewer@siumed.edu},
+  keywords = {Cell Survival; Cells, Cultured; Culture Media; Electrophysiology;
+	Hippocampus, cytology; Humans; Image Processing, Computer-Assisted;
+	Immunohistochemistry; Kinetics; Microelectrodes; Nerve Net, physiology;
+	Neurons, physiology; Oxygen Consumption, physiology; Oxygen, analysis;
+	Synapses, physiology},
+  pii = {S0165-0270(08)00039-3},
+  pmid = {18308400},
+  timestamp = {09.02.26.19.31},
+  url = {http://dx.doi.org/10.1016/j.jneumeth.2008.01.009}
+}
+, ","Hi All,
I just upgraded to 2.10 and I found some bugs immediately.
1. in the right-click-menu there is no `move-to-group` but 2 `remove
from group` instead.
2. I like the new add/remove/move panel, but the scrolling is not
working, which is a big problem. Because I have lots of groups which
cannot even fit into the full screen height after expansion.
3. no way to expand or collapse all nodes

I tried the dev version, all problems still exist. Here is my fixation.

Cheers,

W.L.",try to fix some obvious bugs about `groups`
11,,"['src/main/java/net/sf/jabref/imports/MedlinePlainImporter.java', 'src/main/java/net/sf/jabref/imports/RisImporter.java', 'src/main/resources/plugins/net.sf.jabref.core/plugin.xml']","@@ -0,0 +1,279 @@
+/*  Copyright (C) 2003-2011 JabRef contributors.
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License along
+    with this program; if not, write to the Free Software Foundation, Inc.,
+    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+    
+*/
+
+package net.sf.jabref.imports;
+
+import java.util.regex.Pattern;
+import java.io.InputStream;
+import java.io.BufferedReader;
+import java.io.IOException;
+import java.util.List;
+import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.Iterator;
+
+import net.sf.jabref.BibtexEntry;
+import net.sf.jabref.Globals;
+import net.sf.jabref.AuthorList;
+import net.sf.jabref.BibtexFields;
+import net.sf.jabref.OutputPrinter;
+
+/**
+ * Importer for the MEDLINE Plain format.
+ * 
+ * check here for details on the format
+ * http://www.nlm.nih.gov/bsd/mms/medlineelements.html
+ * 
+ * @author vegeziel
+ */
+public class MedlinePlainImporter extends ImportFormat {
+
+    /**
+     * Return the name of this import format.
+     */
+    public String getFormatName() {
+        return ""MedlinePlain"";
+    }
+
+    /*
+     *  (non-Javadoc)
+     * @see net.sf.jabref.imports.ImportFormat#getCLIId()
+     */
+    public String getCLIId() {
+        return ""medlineplain"";
+    }
+
+    /**
+     * Check whether the source is in the correct format for this importer.
+     */
+    public boolean isRecognizedFormat(InputStream stream) throws IOException {
+
+    	// Our strategy is to look for the ""PMID  - *"", ""PMC.*-.*"", or ""PMCR.*-.*"" line 
+    	// (i.e., PubMed Unique Identifier, PubMed Central Identifier, PubMed Central Release)
+        BufferedReader in = new BufferedReader(ImportFormatReader.getReaderDefaultEncoding(stream));
+        Pattern pat1 = Pattern.compile(""PMID.*-.*""),
+                pat2 = Pattern.compile(""PMC.*-.*""),
+                pat3 = Pattern.compile(""PMCR.*-.*"");
+
+        String str;
+        while ((str = in.readLine()) != null){
+            if (pat1.matcher(str).find() || pat2.matcher(str).find() || pat3.matcher(str).find())
+                return true;
+        }
+
+        return false;
+    }
+
+    /**
+     * Parse the entries in the source, and return a List of BibtexEntry
+     * objects.
+     */
+    public List<BibtexEntry> importEntries(InputStream stream, OutputPrinter status) throws IOException {
+        ArrayList<BibtexEntry> bibitems = new ArrayList<BibtexEntry>();
+        StringBuffer sb = new StringBuffer();
+        BufferedReader in = new BufferedReader(ImportFormatReader.getReaderDefaultEncoding(stream));
+        String str;
+        while ((str = in.readLine()) != null){
+            sb.append(str);
+            sb.append(""\n"");
+        }
+        String[] entries = sb.toString().replaceAll(""\u2013"", ""-"").replaceAll(""\u2014"", ""--"").replaceAll(""\u2015"", ""--"").split(""\\n\\n"");
+
+        for (int i = 0; i < entries.length; i++){
+
+            if (entries[i].trim().length() == 0)
+                continue;
+
+            String type = """", author = """", editor = """", comment = """";
+            HashMap<String, String> hm = new HashMap<String, String>();
+
+
+            String[] fields = entries[i].split(""\n"");
+
+            for (int j = 0; j < fields.length; j++){
+            	if(fields[j].equals(""""))
+            		continue;
+            	
+                StringBuffer current = new StringBuffer(fields[j]);
+                boolean done = false;
+                
+                while (!done && (j < fields.length-1)) {
+                    if(fields[j+1].length() <=4 )
+                    	System.out.println(""aaa"");
+                	if (fields[j+1].charAt(4) != '-') {
+                        if ((current.length() > 0)
+                                && !Character.isWhitespace(current.charAt(current.length()-1)))
+                            current.append(' ');
+                        current.append(fields[j+1].trim());
+                        j++;
+                    } else
+                        done = true;
+                }
+                String entry = current.toString();
+                
+                String lab = entry.substring(0, entry.indexOf('-')).trim();
+                String val = entry.substring(entry.indexOf('-')+1).trim();
+                if (lab.equals(""PT"")){
+                	val = val.toLowerCase();
+                    if (val.equals(""BOOK"")) type = ""book"";
+                    else if (val.equals(""journal article"") 
+                    			|| val.equals(""classical article"")
+                    			|| val.equals(""corrected and republished article"")
+                    			|| val.equals(""historical article"")
+                    			|| val.equals(""introductory journal article"")
+                    			|| val.equals(""newspaper article"")) type = ""article"";
+                    else if (val.equals(""clinical conference"")
+                    		|| val.equals(""consensus development conference"")
+                    		|| val.equals(""consensus development conference, NIH"")) type = ""conference"";
+                    else if (val.equals(""technical report"")) type = ""techreport"";
+                    else if (val.equals(""editorial"")) type = ""inproceedings"";//""incollection"";""inbook"";
+                    else if (val.equals(""overall"")) type = ""proceedings"";
+                    else if(type.equals("""")) type = ""other"";
+                    
+                }else if (lab.equals(""TI"")) {
+                    String oldVal = hm.get(""title"");
+                    if (oldVal == null)
+                        hm.put(""title"", val);
+                    else {
+                        if (oldVal.endsWith("":"") || oldVal.endsWith(""."") || oldVal.endsWith(""?""))
+                            hm.put(""title"", oldVal+"" ""+val);
+                        else
+                            hm.put(""title"", oldVal+"": ""+val);
+                    }
+                }
+                    // =
+                    // val;
+                else if (lab.equals(""BTI"") || lab.equals(""CTI"")) {
+                    hm.put(""booktitle"", val);
+                }
+                else if (lab.equals(""FAU"")) {
+                    if (author.equals("""")) // don't add "" and "" for the first author
+                        author = val;
+                    else author += "" and "" + val;
+                }
+                else if (lab.equals(""FED"")){
+                    if (editor.equals("""")) // don't add "" and "" for the first editor
+                        editor = val;
+                    else editor += "" and "" + val;
+                }
+                else if (lab.equals(""JT"")) {
+                    if (type.equals(""inproceedings""))
+                        hm.put(""booktitle"", val);
+                    else
+                        hm.put(""journal"", val);
+                }
+
+                else if (lab.equals(""PG"")) 
+                	hm.put(""pages"", val);
+                
+//                else if (lab.equals(""STAT"")) {
+//                    if (val.equals(""MEDLINE""))
+//                        hm.put(""publisher"", ""PubMed"");
+//                    else
+//                        hm.put(""publisher"", val);
+//                }
+                else if (lab.equals(""PL""))
+                    hm.put(""address"", val);
+                else if (lab.equals(""IS""))
+                    hm.put(""issn"", val);
+                else if (lab.equals(""VI"")) 
+                	hm.put(""volume"", val);
+//                else if (lab.equals("""")) 
+//                	hm.put(""number"", val);
+                else if (lab.equals(""AB"")) {
+                    String oldAb = hm.get(""abstract"");
+                    if (oldAb == null)
+                        hm.put(""abstract"", val);
+                    else
+                        hm.put(""abstract"", oldAb+""\n""+val);
+                }
+                else if ((lab.equals(""DP""))) {
+                    String[] parts = val.split("" "");
+                    hm.put(""year"", parts[0]);
+                    if ((parts.length > 1) && (parts[1].length() > 0)) {
+                    	hm.put(""month"", parts[1]);
+                    }
+                }
+
+                else if (lab.equals(""MH"") || lab.equals(""OT"")){
+                    if (!hm.containsKey(""keywords"")) hm.put(""keywords"", val);
+                    else{
+                        String kw = hm.get(""keywords"");
+                        hm.put(""keywords"", kw + "", "" + val);
+                    }
+                }
+                else if (lab.equals(""CON"") || lab.equals(""CIN"") || lab.equals(""EIN"")
+                			|| lab.equals(""EFR"") || lab.equals(""CRI"") || lab.equals(""CRF"")
+                			|| lab.equals(""PRIN"") || lab.equals(""PROF"") || lab.equals(""RPI"")
+                			|| lab.equals(""RPF"") || lab.equals(""RIN"") || lab.equals(""ROF"")
+                			|| lab.equals(""UIN"") || lab.equals(""UOF"") || lab.equals(""SPIN"")
+                			|| lab.equals(""ORI"")) {
+                    if (comment.length() > 0)
+                        comment = comment+""\n"";
+                    comment = comment+val;
+                }
+//                // Added ID import 2005.12.01, Morten Alver:
+//                else if (lab.equals(""ID""))
+//                    hm.put(""refid"", val);
+//                    // Added doi import (sciencedirect.com) 2011.01.10, Alexander Hug <alexander@alexanderhug.info>
+                else if (lab.equals(""AID"")){
+                    String doi = val;
+                    if (doi.startsWith(""doi:"")){
+                        doi = doi.replaceAll(""(?i)doi:"", """").trim();
+                        hm.put(""doi"", doi);
+                    }
+                }
+            }
+            // fix authors
+            if (author.length() > 0) {
+                author = AuthorList.fixAuthor_lastNameFirst(author);
+                hm.put(""author"", author);
+            }
+            if (editor.length() > 0) {
+                editor = AuthorList.fixAuthor_lastNameFirst(editor);
+                hm.put(""editor"", editor);
+            }
+            if (comment.length() > 0) {
+                hm.put(""comment"", comment);
+            }
+            
+            BibtexEntry b = new BibtexEntry(BibtexFields.DEFAULT_BIBTEXENTRY_ID, Globals
+                    .getEntryType(type)); // id assumes an existing database so don't
+
+            // Remove empty fields:
+            ArrayList<Object> toRemove = new ArrayList<Object>();
+            for (Iterator<String> it = hm.keySet().iterator(); it.hasNext();) {
+                Object key = it.next();
+                String content = hm.get(key);
+                if ((content == null) || (content.trim().length() == 0))
+                    toRemove.add(key);
+            }
+            for (Iterator<Object> iterator = toRemove.iterator(); iterator.hasNext();) {
+                hm.remove(iterator.next());
+
+            }
+
+            // create one here
+            b.setField(hm);
+            bibitems.add(b);
+
+        }
+
+        return bibitems;
+
+    }
+}, @@ -60,14 +60,12 @@ public boolean isRecognizedFormat(InputStream stream) throws IOException {
 
         // Our strategy is to look for the ""AU  - *"" line.
         BufferedReader in = new BufferedReader(ImportFormatReader.getReaderDefaultEncoding(stream));
-        Pattern pat1 = Pattern.compile(""AU  - .*""),
-                pat2 = Pattern.compile(""A1  - .*""),
-                pat3 = Pattern.compile(""A2  - .*"");
+        Pattern pat1 = Pattern.compile(""TY  - .*"");
 
 
         String str;
         while ((str = in.readLine()) != null){
-            if (pat1.matcher(str).find() || pat2.matcher(str).find() || pat3.matcher(str).find())
+            if (pat1.matcher(str).find())
                 return true;
         }
 , @@ -32,6 +32,15 @@
 		<parameter id=""description""
 			value=""Import format for Medline references."" />
 	</extension>
+	
+	<extension id=""MedlinePlainImporter"" plugin-id=""net.sf.jabref.core""
+		point-id=""ImportFormat"">
+		<parameter id=""importFormat""
+			value=""net.sf.jabref.imports.MedlinePlainImporter"" />
+		<parameter id=""name"" value=""Medline Plain Importer"" />
+		<parameter id=""description""
+			value=""Import format for Medline references (not XML)."" />
+	</extension>
 
 	<!-- To extend JabRef with an Entry Fetcher use the following extension point -->
 	<extension-point id=""EntryFetcher"">, ","Found bug: PubMed/Medline PLAIN format recognized as RIS format.
Provided solution:
    - Modified RIS ImportFilter. Now RIS format is identified by looking for the ""TY"" tag (it is a mandatory tag in RIS format and it is not conflictual with other filters)
    - Added new ImportFilter ""MedlinePlain"". This import filter parses Medline files in plain format (not XML). The import filter has been produced referring to the official Medline documentation (http://www.nlm.nih.gov/bsd/mms/medlineelements.html)
    - Updated the net.sf.jabref.core plugin.xml file in order to include the newly added MedlinePlain import filter","BugFix for bug ""#880 PubMed Import broken"""
12,Ingvar Jackal,['CHANGELOG'],"@@ -10,6 +10,7 @@
     - Support FindFullText with ACS DOIs (pull request #9)
     - Fixes groups and adds optional 2.9.2 save ordering (pull request #10)
     - Fixes bug 880 ""PubMed Import broken"" (pull request #11 by vegeziel)
+    - Fixes bug #959 ""StringIndexOutOfBoundsException with invalid Preview text"" (pull request #12 by IngvarJackal)
 2.10
     - Made IEEEXploreFetcher author parsing work again.
     - Added a few more characters in the HTML/Unicode to LaTeX conversion., ","Fixed #959 ""StringIndexOutOfBoundsException with invalid Preview text"". java.lang.StringIndexOutOfBoundsException handled: message dialogue shows with last five words before illegal backslash expression and trace is written in stderr.","BugFix for #959 ""StringIndexOutOfBoundsException with invalid Preview text"""
13,Ingvar Jackal,"['src/main/java/net/sf/jabref/PreviewPrefsTab.java', 'src/main/java/net/sf/jabref/export/layout/LayoutHelper.java', 'src/main/resources/resource/JabRef_da.properties', 'src/main/resources/resource/JabRef_de.properties', 'src/main/resources/resource/JabRef_en.properties', 'src/main/resources/resource/JabRef_es.properties', 'src/main/resources/resource/JabRef_fr.properties', 'src/main/resources/resource/JabRef_in.properties', 'src/main/resources/resource/JabRef_it.properties', 'src/main/resources/resource/JabRef_ja.properties', 'src/main/resources/resource/JabRef_nl.properties', 'src/main/resources/resource/JabRef_no.properties', 'src/main/resources/resource/JabRef_pt_BR.properties', 'src/main/resources/resource/JabRef_ru.properties', 'src/main/resources/resource/JabRef_tr.properties', 'src/main/resources/resource/JabRef_vi.properties', 'src/main/resources/resource/JabRef_zh.properties']","@@ -170,7 +170,7 @@ public void actionPerformed(ActionEvent e) {
 						JOptionPane.PLAIN_MESSAGE);
 				} catch (StringIndexOutOfBoundsException ex) {
 					ex.printStackTrace();
-					JOptionPane.showMessageDialog(null, ""Parsing error: illegal backslash expression.\n"" + ex.getMessage() + ""\nLook at stderr for details."", ""Parsing error"", JOptionPane.WARNING_MESSAGE);
+					JOptionPane.showMessageDialog(null, Globals.lang(""Parsing error"") + "": "" + Globals.lang(""illegal backslash expression"") + "".\n"" + ex.getMessage() + ""\n"" + Globals.lang(""Look at stderr for details"") + ""."", Globals.lang(""Parsing error""), JOptionPane.ERROR_MESSAGE);
 				}
 			}
 		});
@@ -185,7 +185,7 @@ public void actionPerformed(ActionEvent e) {
 	                                        Globals.lang(""Preview""), JOptionPane.PLAIN_MESSAGE);
 				} catch (StringIndexOutOfBoundsException ex) {
 					ex.printStackTrace();
-					JOptionPane.showMessageDialog(null, ""Parsing error: illegal backslash expression.\n"" + ex.getMessage() + ""\nLook at stderr for details."", ""Parsing error"", JOptionPane.WARNING_MESSAGE);
+					JOptionPane.showMessageDialog(null, ""Parsing error: illegal backslash expression.\n"" + ex.getMessage() + ""\nLook at stderr for details."", ""Parsing error"", JOptionPane.ERROR_MESSAGE);
 				}
 			}
 		});, @@ -22,6 +22,10 @@
 
 import javax.swing.JOptionPane;
 
+import net.sf.jabref.Globals;
+
+import com.sun.star.ui.GlobalAcceleratorConfiguration;
+
 
 /**
  * Helper class to get a Layout object.
@@ -376,7 +380,7 @@ private void parseField() throws IOException, StringIndexOutOfBoundsException
                 	for (StringInt entry : parsedEntries.subList(Math.max(0, parsedEntries.size()-6), parsedEntries.size()-1)) {
                 		lastFive.append(entry.s);
                 	}
-                	throw new StringIndexOutOfBoundsException(""Backslash parsing error near "" + ""\'"" + lastFive.toString().replace(""\n"", "" "") +  ""\'"");
+                	throw new StringIndexOutOfBoundsException(Globals.lang(""Backslash parsing error near"") + "" \'"" + lastFive.toString().replace(""\n"", "" "") +  ""\'"");
                 }
                 
                 //System.out.println(""NAME:"" + name);, @@ -1664,3 +1664,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -2421,3 +2421,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -1513,10 +1513,6 @@ Sorted_all_subgroups_recursively.=Sorted_all_subgroups_recursively.
 
 Sorted_immediate_subgroups.=Sorted_immediate_subgroups.
 
-Sort_fields_in_alphabeta_order_(as_ver_2.10)=Sort_fields_in_alphabeta_order_(as_ver_2.10)
-Sort_fields_in_old_fasion_(as_ver_2.9.2)=Sort_fields_in_old_fasion_(as_ver_2.9.2)
-Save_fields_as_user_defined_order=Save_fields_as_user_defined_order
-
 source_edit=source_edit
 Special_Name_Formatters=Special_Name_Formatters
 
@@ -2402,13 +2398,20 @@ Opened_%0_folder(s).=Opened_%0_folder(s).
 
 
 Searches_for_unlinked_PDF_files_on_the_file_system=Searches_for_unlinked_PDF_files_on_the_file_system
-
-Save_entries_ordered_as_specified=Save_entries_ordered_as_specified
-Save_sort_order=Save_sort_order
 Export_entries_ordered_as_specified=Export_entries_ordered_as_specified
 Export_sort_order=Export_sort_order
 File_Sorting=File_Sorting
 Newline_separator=Newline_separator
+
+Save_entries_ordered_as_specified=Save_entries_ordered_as_specified
+Save_sort_order=Save_sort_order
 Show_Extra_columns=Show_Extra_columns
 Save_entries_as_configured_globally=Save_entries_as_configured_globally
 Open_=Open_
+
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=Sort_fields_in_alphabeta_order_(as_ver_2.10)
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=Sort_fields_in_old_fasion_(as_ver_2.9.2)
+Save_fields_as_user_defined_order=Save_fields_as_user_defined_order
+Parsing_error=Parsing_error
+illegal_backslash_expression=illegal_backslash_expression
+Backslash_parsing_error_near=Backslash_parsing_error_near, @@ -1556,3 +1556,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -1602,3 +1602,9 @@ Save_sort_order=Enregistrer_l'ordre_de_tri
 Show_Extra_columns=Montrer_les_colonnes_suppl\u00e9mentaires
 Save_entries_as_configured_globally=Enregistrer_les_entr\u00e9es_comme_dans_la_configuration_g\u00e9n\u00e9rale
 Open_=Ouvrir_
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -1575,3 +1575,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -1686,3 +1686,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -2406,3 +2406,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -2407,3 +2407,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -2873,3 +2873,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -1571,3 +1571,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, None, @@ -1593,3 +1593,9 @@ Save_sort_order=S\u0131ralama_kriterlerini_kaydet
 Show_Extra_columns=Ekstra_s\u00fctunlar\u0131_g\u00f6ster
 Save_entries_as_configured_globally=Girdileri_global_ayarlar_uyar\u0131nca_kaydet
 Open_=A\u00e7:_
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -2403,3 +2403,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, @@ -2396,3 +2396,9 @@ Save_sort_order=
 Show_Extra_columns=
 Save_entries_as_configured_globally=
 Open_=
+Sort_fields_in_alphabeta_order_(as_ver_2.10)=
+Sort_fields_in_old_fasion_(as_ver_2.9.2)=
+Save_fields_as_user_defined_order=
+Parsing_error=
+illegal_backslash_expression=
+Backslash_parsing_error_near=, ",I tried to change hard code with in-code strings to Global.lang and changed icon for dialogue window from warning to error.,Language locale fix for BugFix #959
14,Ingvar Jackal,"['src/main/java/net/sf/jabref/JabRef.java', 'src/main/java/net/sf/jabref/journals/ManageJournalsPanel.java']","@@ -171,7 +171,7 @@ protected JabRef(String[] args) {
 				Globals.journalAbbrev.readJournalList(new File(
 						personalJournalList));
 			} catch (FileNotFoundException e) {
-				JOptionPane.showMessageDialog(null, Globals.lang(""Journal_file_not_found"" + "": "" + e.getMessage()), Globals.lang(""Error_opening_file""), JOptionPane.ERROR_MESSAGE);
+				JOptionPane.showMessageDialog(null, Globals.lang(""Journal file not found"") + "": "" + e.getMessage(), Globals.lang(""Error opening file""), JOptionPane.ERROR_MESSAGE);
 				Globals.prefs.put(""personalJournalList"", """");
 			}
 		}, @@ -206,7 +206,7 @@ public void actionPerformed(ActionEvent e) {
                 		storeSettings();
                 		dialog.dispose();
                 	} catch (FileNotFoundException ex) {
-                		JOptionPane.showMessageDialog(null, Globals.lang(""Error_opening_file"" + "": "" + ex.getMessage()), Globals.lang(""Error_opening_file""), JOptionPane.ERROR_MESSAGE); 
+                		JOptionPane.showMessageDialog(null, Globals.lang(""Error opening file"") + "": "" + ex.getMessage(), Globals.lang(""Error opening file""), JOptionPane.ERROR_MESSAGE);
                 	}
                 }
             }, ","Fixed bug #960 FileNotFoundException in Journal abbreviations window. I added error dialogue and added the check while initializing in order to to fix missed file (it sets personalJournalList to """" if so).","BugFix for ""#960 FileNotFoundException in Journal abbreviations window"""
15,,"['CHANGELOG', 'src/main/java/net/sf/jabref/BibtexFields.java', 'src/main/java/net/sf/jabref/journals/AbbreviateAction.java', 'src/main/java/net/sf/jabref/journals/UnabbreviateAction.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+    - Make (un)abbreviating journal titles also work on the journaltitle field
     - Change default behaviour to be more non-invasive: timestamps and owners are NOT set by default per entry.
     - ""Open Folder"" works again
     - newline separator can now be configured globally, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 Raik Nagel and JabRef contributors
+/*  Copyright (C) 2003-2014 Raik Nagel and JabRef contributors
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -96,6 +96,10 @@ private BibtexFields()
     dummy = new BibtexSingleField( ""journal"", true, GUIGlobals.SMALL_W ) ;
     dummy.setExtras(""journalNames"");
     add(dummy) ;
+    dummy = new BibtexSingleField( ""journaltitle"", true, GUIGlobals.SMALL_W ) ;
+    dummy.setExtras(""journalNames"");
+    add(dummy) ;
+
     add( new BibtexSingleField( ""key"", true ) ) ;
     add( new BibtexSingleField( ""month"", true, GUIGlobals.SMALL_W ) ) ;
     add( new BibtexSingleField( ""note"", true, GUIGlobals.MEDIUM_W  ) ) ;, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2014 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -56,6 +56,8 @@ public void run() {
         for (BibtexEntry entry : entries) {
             if (Globals.journalAbbrev.abbreviate(panel.database(), entry, ""journal"", ce, iso))
                 count++;
+            if (Globals.journalAbbrev.abbreviate(panel.database(), entry, ""journaltitle"", ce, iso))
+                count++;
         }
         if (count > 0) {
             ce.end();, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2014 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -54,6 +54,8 @@ public void run() {
         for (BibtexEntry entry : entries) {
             if (Globals.journalAbbrev.unabbreviate(panel.database(), entry, ""journal"", ce))
                 count++;
+            if (Globals.journalAbbrev.unabbreviate(panel.database(), entry, ""journaltitle"", ce))
+                count++;
         }
         if (count > 0) {
             ce.end();, @@ -53,6 +53,7 @@ <h2>Contributions from:</h2>
         Fedor Bezrukov,
         Fabian Bieker,
         Aaron Chen,
+        Thorsten Dahlheimer,
         Fabrice Dessaint,
         Nathan Dunn,
         E. Hakan Duran,, ","I've (i) added the toggle button to the ""journaltitle"" field editor
and (ii) made the abbreviate/unabbreviate actions change both the ""journal"" and ""journaltitle"" fields.
The latter might be a bit simple-minded --  should the field to consider depend on whether Biblatex mode is actually turned on?",Make (un)abbreviating journal titles also work on the journaltitle field
17,Eduardo Greco,"['CHANGELOG', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+	- Feature 850: Keyboard shortcut for 'Cleanup entries' (by eduardogreco)
     - Change default behaviour to be more non-invasive: timestamps and owners are NOT set by default per entry.
     - ""Open Folder"" works again
     - newline separator can now be configured globally, @@ -88,7 +88,8 @@ <h2>Contributions from:</h2>
         David Weitzman,
         Seb Wills,
         John Zedlewski,
-        Waluyo Adi Siswanto</p>
+        Waluyo Adi Siswanto,
+		Eduardo Roberto Greco</p>
 
         <h2>Thanks to:</h2>
 , ","I solved the task of link:
https://sourceforge.net/p/jabref/feature-requests/850/

I am a student at the Federal University of Paraná - Brazil and I'm contributing to the JabRef because I think very important  open source software.",Solved the task #850 Keyboard shortcut for 'Cleanup entries'
18,,"['CHANGELOG', 'src/main/java/net/sf/jabref/EntryEditor.java', 'src/main/java/net/sf/jabref/JabRefFrame.java', 'src/main/java/net/sf/jabref/JabRefPreferences.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+	- Feature 850: Keyboard shortcut for 'Cleanup entries' (by eduardogreco)
     - Change default behaviour to be more non-invasive: timestamps and owners are NOT set by default per entry.
     - ""Open Folder"" works again
     - newline separator can now be configured globally
@@ -14,6 +15,7 @@
     - Fixes bug #960 ""FileNotFoundException in Journal abbreviations window"" (pull request #13 by IngvarJackal)
     - Make (un)abbreviating journal titles also work on the journaltitle field
     - Fix edits getting lost in Biblatex mode
+    - Fix error when setting a previously unset field via the source panel of the entry editor
 2.10
     - Made IEEEXploreFetcher author parsing work again.
     - Added a few more characters in the HTML/Unicode to LaTeX conversion., @@ -840,15 +840,14 @@ public boolean storeSource(boolean showError) {
 
             // Then set all fields that have been set by the user.
             for (String field : nu.getAllFields()){
-                if (!entry.getField(field).equals(nu.getField(field))) {
-                    String toSet = nu.getField(field);
-
+                String oldValue = entry.getField(field);
+                String newValue = nu.getField(field);
+                if (oldValue == null || !oldValue.equals(newValue)) {
                     // Test if the field is legally set.
-                    (new LatexFieldFormatter()).format(toSet, field);
+                    (new LatexFieldFormatter()).format(newValue, field);
 
-                    compound.addEdit(new UndoableFieldChange(entry, field, entry
-                        .getField(field), toSet));
-                    entry.setField(field, toSet);
+                    compound.addEdit(new UndoableFieldChange(entry, field, oldValue, newValue));
+                    entry.setField(field, newValue);
                     anyChanged = true;
                 }
             }, @@ -290,6 +290,7 @@ void addAction(Action a) {
       writeXmpAction = new GeneralAction(""writeXMP"", ""Write XMP-metadata to PDFs"",
                                         Globals.lang(""Will write XMP-metadata to the PDFs linked from selected entries.""),
                                         prefs.getKey(""Write XMP"")),
+                                        
       openFolder = new GeneralAction(""openFolder"", ""Open folder"",
                                         Globals.lang(""Open folder""),
                                         prefs.getKey(""Open folder"")),
@@ -355,7 +356,8 @@ void addAction(Action a) {
 
     Cleanup = new GeneralAction(""Cleanup"", ""Cleanup entries"", 
 					Globals.lang(""Cleanup entries""), 
-					GUIGlobals.getIconUrl(""cleanupentries"") ),
+					prefs.getKey(""Cleanup""),
+					(""cleanupentries"")),
           
     mergeEntries = new GeneralAction(""mergeEntries"", ""Merge entries"", 
 					Globals.lang(""Merge entries""),
@@ -1121,16 +1123,15 @@ public GeneralAction(String command, String text, String description, KeyStroke
           putValue(ACCELERATOR_KEY, key);
       }
 
-  /*    public GeneralAction(String command, String text, String description,
-                           URL imageUrl, KeyStroke key) {
+      public GeneralAction(String command, String text, String description, KeyStroke key, String imageUrl) {
       this.command = command;
-        ImageIcon icon = GUIGlobals.getImage(command);
+        ImageIcon icon = GUIGlobals.getImage(imageUrl);
         if (icon != null)
             putValue(SMALL_ICON, icon);
       putValue(NAME, text);
       putValue(SHORT_DESCRIPTION, Globals.lang(description));
         putValue(ACCELERATOR_KEY, key);
-    }*/
+    }
 
     public void actionPerformed(ActionEvent e) {
       if (tabbedPane.getTabCount() > 0) {, @@ -1145,6 +1145,7 @@ private void defineDefaultKeyBindings() {
         defKeyBinds.put(""Search ACM Portal"", ""ctrl shift F8"");
         defKeyBinds.put(""Fetch ArXiv.org"", ""shift F8"");
         defKeyBinds.put(""Search JSTOR"", ""shift F9"");
+        defKeyBinds.put(""Cleanup"", ""ctrl shift F7"");
         defKeyBinds.put(""Write XMP"", ""ctrl F7"");
         defKeyBinds.put(""New file link"", ""ctrl N"");
         defKeyBinds.put(""Fetch SPIRES"", ""ctrl F8"");, @@ -89,7 +89,8 @@ <h2>Contributions from:</h2>
         David Weitzman,
         Seb Wills,
         John Zedlewski,
-        Waluyo Adi Siswanto</p>
+        Waluyo Adi Siswanto,
+		Eduardo Roberto Greco</p>
 
         <h2>Thanks to:</h2>
 , ","This fixes a bug where edits made in a field on a
CompressedEntryEditorTab wouldn't get stored when the field editor lost
focus.
The bug was caused by EntryEditorTabFocusListener accessing the unused inherited parent field
of CompressedEntryEditorTab instances instead of the latter class's own (private) parent field.
Instead of doing just a quick fix, I decided to eliminate the excessive code and data duplication
in the two classes altogether and consolidate them into one class (with an additional flag to the constructor),
since I don't think an extra class is warranted here (and easily and sensibly implementable by derivation).",Fix edits getting lost in Biblatex mode
19,,"['CHANGELOG', 'src/main/java/net/sf/jabref/EntryEditor.java']","@@ -1,5 +1,4 @@
 [master]
-    - Make (un)abbreviating journal titles also work on the journaltitle field
     - Change default behaviour to be more non-invasive: timestamps and owners are NOT set by default per entry.
     - ""Open Folder"" works again
     - newline separator can now be configured globally
@@ -13,6 +12,8 @@
     - Fixes bug 880 ""PubMed Import broken"" (pull request #11 by vegeziel)
     - Fixes bug #959 ""StringIndexOutOfBoundsException with invalid Preview text"" (pull request #13 by IngvarJackal)
     - Fixes bug #960 ""FileNotFoundException in Journal abbreviations window"" (pull request #13 by IngvarJackal)
+    - Make (un)abbreviating journal titles also work on the journaltitle field
+    - Fix error when setting a previously unset field via the source panel of the entry editor
 2.10
     - Made IEEEXploreFetcher author parsing work again.
     - Added a few more characters in the HTML/Unicode to LaTeX conversion., @@ -840,15 +840,14 @@ public boolean storeSource(boolean showError) {
 
             // Then set all fields that have been set by the user.
             for (String field : nu.getAllFields()){
-                if (!entry.getField(field).equals(nu.getField(field))) {
-                    String toSet = nu.getField(field);
-
+                String oldValue = entry.getField(field);
+                String newValue = nu.getField(field);
+                if (oldValue == null || !oldValue.equals(newValue)) {
                     // Test if the field is legally set.
-                    (new LatexFieldFormatter()).format(toSet, field);
+                    (new LatexFieldFormatter()).format(newValue, field);
 
-                    compound.addEdit(new UndoableFieldChange(entry, field, entry
-                        .getField(field), toSet));
-                    entry.setField(field, toSet);
+                    compound.addEdit(new UndoableFieldChange(entry, field, oldValue, newValue));
+                    entry.setField(field, newValue);
                     anyChanged = true;
                 }
             }, ","When the user tries to set a previously unset field of an entry via the
source panel of the entry editor, the program complains with an error
message and refuses to store the field values.
This change fixes that behaviour.",Fix error when setting unset field in source panel
20,Jörg Lenhard,"['build.gradle', 'gradle/wrapper/gradle-wrapper.properties']","@@ -95,7 +95,7 @@ sourceCompatibility = 1.6
 mainClassName = ""net.sf.jabref.JabRefMain""
 
 task wrapper(type: Wrapper) {
-    gradleVersion = '2.0'
+    gradleVersion = '2.1'
 }
 
 compileJava {, @@ -3,4 +3,4 @@ distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-2.0-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-2.1-all.zip, ",Just a minor update to the gradle version.,Update to gradle 2.1
21,Thiago Gomes Toledo,['src/main/resources/resource/log4j.properties'],"@@ -1,6 +1,6 @@
 #Uncomment next line for debugging
-log4j.rootCategory=ALL,stderr
-#log4j.rootCategory=WARN,stderr
+#log4j.rootCategory=ALL,stderr
+log4j.rootCategory=WARN,stderr
 log4j.appender.stderr=org.apache.log4j.ConsoleAppender
 log4j.appender.stderr.target=System.err
 log4j.appender.stderr.layout=org.apache.log4j.PatternLayout, ","The getBasePath() was returning NullPointerException, because the method was trying to create a File using a null basePath. I changed the getBasePath method to return a String, create a getFileFromBasePath and where the old getBasePath was called, I changed it to getFileFromBasePath, verifying if basePath was null. ",Fix bug 950
22,Tobias Diez,['src/main/java/net/sf/jabref/imports/BibtexParser.java'],"@@ -979,7 +979,8 @@ public void checkEntryTypes(ParserResult _pr) {
 					// ""+be.getType().getName());
 					_pr
 						.addWarning(Globals.lang(""unknown entry type"") + "": ""
-							+ be.getType().getName() + "". "" + Globals.lang(""Type set to 'other'"")
+							+ be.getType().getName() + "":"" + be.getField(BibtexFields.KEY_FIELD)
+							+ "" . "" + Globals.lang(""Type set to 'other'"")
 							+ ""."");
 					be.setType(BibtexEntryType.OTHER);
 				}, ",I had problems locating which entry had this unknown entry type and hence extended the error message to also include the bibtex key.,Extended the 'unknown entry type' error message 
23,Renato Massao,"['CHANGELOG', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+	- Fix for bug 949: Exception properly logged
 	- Fix for bug 950: NullPointerException on ""Manage custom imports""
 	- Feature 850: Keyboard shortcut for 'Cleanup entries' (by eduardogreco)
     - Change default behaviour to be more non-invasive: timestamps and owners are NOT set by default per entry., @@ -91,7 +91,8 @@ <h2>Contributions from:</h2>
         John Zedlewski,
         Waluyo Adi Siswanto,
 		Eduardo Roberto Greco,
-		Thiago Gomes Toledo</p>
+		Thiago Gomes Toledo,
+		Renato Massao Maeda da Silva</p>
 
         <h2>Thanks to:</h2>
 , ","An IOException is caught when the user tries to load an invalid jar file in the menu Options/""Manage custom imports"", but this exception is not properly treated, because its stack trace is thrown into the stdout. Now it is being properly logged and not thrown into the stdout.  ",Fixed bug 949
24,Tobias Diez,['src/main/java/net/sf/jabref/BibtexEntry.java'],"@@ -371,6 +371,8 @@ public String getFieldOrAlias(String name) {
         if(name.equals(""year"") || name.equals(""month""))
         {
         	String date = getField(""date"");
+        	if(date == null)
+        		return null;
         	
         	// Create date format matching dates with year and month
         	DateFormat df = new DateFormat() {, ","- Added support for aliased fields. For example, the content in the 'journaltitle' field is also shown in the 'journal' table.
- Added cleanup option to convert to the new BibLatex format
- Modified the required/optional fields for BibLatex entries to reflect the above changes (the 'year' field is no longer required)",Extend BibLatex: support for alias fields
25,Mattias Ulbrich,['src/main/java/net/sf/jabref/imports/DBLPHelper.java'],"@@ -66,7 +66,7 @@ public String cleanDBLPQuery(String query) {
 	 */
 	public List<BibtexEntry> getBibTexFromPage(final String page) {
 		final List<BibtexEntry> bibtexList = new ArrayList<BibtexEntry>();
-		final String startPattern = ""<pre>"";
+		final String startPattern = ""<pre class=\""verbatim select-on-click\"">"";
 		final String endPattern = ""</pre>"";
 
 		String tmpStr = page;, ","DBLP seems to send `<pre class=""verbatim select-on-click"">` now instead of only `<pre>`.",adapted a pattern to parse DBLP entries.
26,Deleted user,"['CHANGELOG', 'src/main/java/net/sf/jabref/ContentSelectorDialog2.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+	- Fix for bug 958: ArrayIndexOutOfBoundsException on ""Content Selector Dialog""
 	- Fix for bug 949: Exception properly logged
 	- Fix for bug 950: NullPointerException on ""Manage custom imports""
 	- Feature 850: Keyboard shortcut for 'Cleanup entries' (by eduardogreco), @@ -251,8 +251,14 @@ public void actionPerformed(ActionEvent e) {
 
 	ok.addActionListener(new ActionListener() {
 		public void actionPerformed(ActionEvent e) {
-		    applyChanges();
-		    dispose();
+			try {
+				applyChanges();
+				dispose();
+			}
+			catch (Exception ex) {
+				Globals.logger(""Could not apply changes in \""Setup selectors\"""");
+				JOptionPane.showMessageDialog(frame, Globals.lang(""Could not apply changes.""));
+			}
 		}
 	    });
 
@@ -262,7 +268,13 @@ public void actionPerformed(ActionEvent e) {
             if (!wordEditField.getText().equals("""")) {
                 wordEditFieldListener.actionPerformed(null);
             }
-		    applyChanges();
+            try {
+            	applyChanges();
+            }
+            catch (Exception ex) {
+				Globals.logger(""Could not apply changes in \""Setup selectors\"""");
+				JOptionPane.showMessageDialog(frame, Globals.lang(""Could not apply changes.""));
+			}
 		}
 	    });
 	, @@ -92,7 +92,8 @@ <h2>Contributions from:</h2>
         Waluyo Adi Siswanto,
 		Eduardo Roberto Greco,
 		Thiago Gomes Toledo,
-		Renato Massao Maeda da Silva</p>
+		Renato Massao Maeda da Silva
+		Luciana de Melo e Abud</p>
 
         <h2>Thanks to:</h2>
 , ","ArrayIndexOutOfBoundsException was produced when the user  tried to apply changes in ""Setup selectors"" right after closing all databases. Now the exception is caught and a message is shown, telling the user that the changes could not be applied.",Fix for bug #958: ArrayIndexOutOfBoundsException 
27,Yara Grassi Gouffon,"['CHANGELOG', 'src/main/java/net/sf/jabref/export/OOCalcDatabase.java', 'src/main/java/net/sf/jabref/export/OpenDocumentRepresentation.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+	- Partial fix for bug 913: fixed export for .ods and .sxc (by yaragg)
 	- Fix for bug 949: Exception properly logged
 	- Fix for bug 950: NullPointerException on ""Manage custom imports""
 	- Feature 850: Keyboard shortcut for 'Cleanup entries' (by eduardogreco), @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2014 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2014 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or, @@ -92,7 +92,8 @@ <h2>Contributions from:</h2>
         Waluyo Adi Siswanto,
 		Eduardo Roberto Greco,
 		Thiago Gomes Toledo,
-		Renato Massao Maeda da Silva</p>
+		Renato Massao Maeda da Silva,
+		Yara Grassi Gouffon</p>
 
         <h2>Thanks to:</h2>
 , ","Realized many fields were not being exported, not only in .csv and .ods formats as stated in the bug report, but in .sxc as well. I fixed the export for both .ods and .sxc, but couldn't figure out how to fix it for .csv.",Partial fix for bug #913
28,Tobias Diez,"['CHANGELOG', 'src/main/java/net/sf/jabref/BasePanel.java', 'src/main/java/net/sf/jabref/BibtexFields.java', 'src/main/java/net/sf/jabref/GUIGlobals.java', 'src/main/java/net/sf/jabref/JabRefFrame.java', 'src/main/java/net/sf/jabref/JabRefPreferences.java', 'src/main/java/net/sf/jabref/RightClickMenu.java', 'src/main/java/net/sf/jabref/TableColumnsTab.java', 'src/main/java/net/sf/jabref/gui/MainTableFormat.java', 'src/main/java/net/sf/jabref/gui/PreventDraggingJTableHeader.java', 'src/main/java/net/sf/jabref/specialfields/Printed.java', 'src/main/java/net/sf/jabref/specialfields/ReadStatus.java', 'src/main/java/net/sf/jabref/specialfields/SpecialFieldsUtils.java', 'src/main/java/net/sf/jabref/util/ManageKeywordsAction.java', 'src/main/resources/images/crystal_16/Icons.properties', 'src/main/resources/images/crystal_16/fileprint.png', 'src/main/resources/images/crystal_16/read.png', 'src/main/resources/images/crystal_16/readskimmed.png']","@@ -22,6 +22,12 @@
     	- Fixes bug #1014 'journal' not recognized as alias for 'journaltitle''
     	- Fixes bug #874 Support of biblatex ""date"" field
     	- Fixes bug that prevented the secondary optional fields to update properly in the ""Customize entry fields"" dialog (in BibLatex mode)
+	- Added special fields 'Printed' and 'Read status', thereby implementing (at least partially):
+		- Feature #762 Printed attribute
+		- Feature #692 Marking of new entries and often read entries 
+		- Feature #685 Highlight new entries that were ""forgotten""
+		- Feature #602 could add the mark as read feature 
+		- Feature #225 read? checkbox
 2.10
     - Made IEEEXploreFetcher author parsing work again.
     - Added a few more characters in the HTML/Unicode to LaTeX conversion., @@ -90,9 +90,11 @@
 import net.sf.jabref.labelPattern.SearchFixDuplicateLabels;
 import net.sf.jabref.search.NoSearchMatcher;
 import net.sf.jabref.search.SearchMatcher;
+import net.sf.jabref.specialfields.Printed;
 import net.sf.jabref.specialfields.Priority;
 import net.sf.jabref.specialfields.Quality;
 import net.sf.jabref.specialfields.Rank;
+import net.sf.jabref.specialfields.ReadStatus;
 import net.sf.jabref.specialfields.Relevance;
 import net.sf.jabref.specialfields.SpecialFieldAction;
 import net.sf.jabref.specialfields.SpecialFieldDatabaseChangeListener;
@@ -1558,13 +1560,17 @@ public void action() {
                   new SpecialFieldAction(frame, Relevance.getInstance(), Relevance.getInstance().getValues().get(0).getFieldValue(), true, Globals.lang(""Marked entries as relevant""), ""Marked %0 entries as relevant""));
               actions.put(Quality.getInstance().getValues().get(0).getActionName(),
                   new SpecialFieldAction(frame, Quality.getInstance(), Quality.getInstance().getValues().get(0).getFieldValue(), true, Globals.lang(""Marked entries' quality as good""), ""Set quality of %0 entries to good""));
+              actions.put(Printed.getInstance().getValues().get(0).getActionName(),
+                      new SpecialFieldAction(frame, Printed.getInstance(), Printed.getInstance().getValues().get(0).getFieldValue(), true, Globals.lang(""Marked entries as printed""), ""Marked %0 entries as printed""));
               
               for (SpecialFieldValue prio: Priority.getInstance().getValues()) {
 	              actions.put(prio.getActionName(), prio.getAction(this.frame));
               }
-              
-              for (SpecialFieldValue prio: Rank.getInstance().getValues()) {
-	              actions.put(prio.getActionName(), prio.getAction(this.frame));
+              for (SpecialFieldValue rank: Rank.getInstance().getValues()) {
+	              actions.put(rank.getActionName(), rank.getAction(this.frame));
+              }
+              for (SpecialFieldValue status: ReadStatus.getInstance().getValues()) {
+	              actions.put(status.getActionName(), status.getAction(this.frame));
               }
               
               actions.put(""togglePreview"", new BaseAction() {, @@ -144,6 +144,20 @@ private BibtexFields()
     	dummy.setDisplayable(false);
     }
     add(dummy) ;
+    dummy =  new BibtexSingleField( SpecialFieldsUtils.FIELDNAME_READ , false) ;
+    if (!Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS)) {
+    	dummy.setPrivate();
+    	dummy.setWriteable(false);
+    	dummy.setDisplayable(false);
+    }
+    add(dummy) ;
+    dummy =  new BibtexSingleField( SpecialFieldsUtils.FIELDNAME_PRINTED , false) ;
+    if (!Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS)) {
+    	dummy.setPrivate();
+    	dummy.setWriteable(false);
+    	dummy.setDisplayable(false);
+    }
+    add(dummy) ;
     
     // some semi-standard fields
     dummy = new BibtexSingleField( KEY_FIELD, true ) ;, @@ -27,14 +27,17 @@
 
 import javax.swing.ImageIcon;
 import javax.swing.JLabel;
-
 import javax.swing.SwingConstants;
+
 import net.sf.jabref.external.ExternalFileType;
+
 import org.xnap.commons.gui.shortcut.EmacsKeyBindings;
 
+import net.sf.jabref.specialfields.Printed;
 import net.sf.jabref.specialfields.Priority;
 import net.sf.jabref.specialfields.Quality;
 import net.sf.jabref.specialfields.Rank;
+import net.sf.jabref.specialfields.ReadStatus;
 import net.sf.jabref.specialfields.Relevance;
 import net.sf.jabref.specialfields.SpecialFieldsUtils;
 
@@ -440,6 +443,16 @@ public static void init() {
         lab.setToolTipText(Rank.getInstance().getToolTip());
         tableIcons.put(SpecialFieldsUtils.FIELDNAME_PRIORITY, lab);
         
+        // Read icon used for menu
+        lab = new JLabel(ReadStatus.getInstance().getRepresentingIcon());
+        lab.setToolTipText(ReadStatus.getInstance().getToolTip());
+        tableIcons.put(SpecialFieldsUtils.FIELDNAME_READ, lab);
+        
+        // Print icon used for menu
+        lab = new JLabel(Printed.getInstance().getRepresentingIcon());
+        lab.setToolTipText(Printed.getInstance().getToolTip());
+        tableIcons.put(SpecialFieldsUtils.FIELDNAME_PRINTED, lab);
+        
         //jabRefFont = new Font(""arial"", Font.ITALIC/*+Font.BOLD*/, 20); 
 
         if (Globals.prefs.getBoolean(JabRefPreferences.EDITOR_EMACS_KEYBINDINGS)) {, @@ -68,9 +68,11 @@
 import net.sf.jabref.plugin.PluginInstallerAction;
 import net.sf.jabref.plugin.core.JabRefPlugin;
 import net.sf.jabref.plugin.core.generated._JabRefPlugin.EntryFetcherExtension;
+import net.sf.jabref.specialfields.Printed;
 import net.sf.jabref.specialfields.Priority;
 import net.sf.jabref.specialfields.Quality;
 import net.sf.jabref.specialfields.Rank;
+import net.sf.jabref.specialfields.ReadStatus;
 import net.sf.jabref.specialfields.Relevance;
 import net.sf.jabref.specialfields.SpecialFieldsUtils;
 import net.sf.jabref.sql.importer.DbImportAction;
@@ -225,6 +227,10 @@ void addAction(Action a) {
 				Quality.getInstance().getValues().get(0).getActionName(),
 				Quality.getInstance().getValues().get(0).getMenuString(),
 				Quality.getInstance().getValues().get(0).getToolTipText()),
+		togglePrinted = new GeneralAction(
+				Printed.getInstance().getValues().get(0).getActionName(),
+				Printed.getInstance().getValues().get(0).getMenuString(),
+				Printed.getInstance().getValues().get(0).getToolTipText()),
 //    	priority = new GeneralAction(""setPriority"", ""Set priority"",
 //    			                                            Globals.lang(""Set priority"")),
       manageSelectors = new GeneralAction(""manageSelectors"", ""Manage content selectors""),
@@ -1346,6 +1352,14 @@ private void fillMenu() {
     		  RightClickMenu.populateSpecialFieldMenu(m, Priority.getInstance(), this);
     		  edit.add(m);
     	  }
+    	  if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED)) {
+    		  edit.add(togglePrinted);
+    	  }
+    	  if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ)) {
+    		  m = new JMenu();
+    		  RightClickMenu.populateSpecialFieldMenu(m, ReadStatus.getInstance(), this);
+    		  edit.add(m);
+    	  }
       }
       edit.addSeparator();
       edit.add(manageKeywords);
@@ -1572,6 +1586,12 @@ private void createToolBar() {
     	if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY)) {
     		tlb.add(net.sf.jabref.specialfields.SpecialFieldDropDown.generateSpecialFieldButtonWithDropDown(Priority.getInstance(), this));
     	}
+    	if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED)) {
+    		tlb.addAction(togglePrinted);
+    	}
+    	if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ)) {
+    		tlb.add(net.sf.jabref.specialfields.SpecialFieldDropDown.generateSpecialFieldButtonWithDropDown(ReadStatus.getInstance(), this));
+    	}
     }
 
     tlb.addSeparator();, @@ -437,6 +437,8 @@ private JabRefPreferences() {
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING, SpecialFieldsUtils.PREF_SHOWCOLUMN_RANKING_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_RANKING_COMPACT, SpecialFieldsUtils.PREF_RANKING_COMPACT_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE, SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE_DEFAULT);
+        defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED, SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED_DEFAULT);
+        defaults.put(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ, SpecialFieldsUtils.PREF_SHOWCOLUMN_READ_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS, SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS_DEFAULT);
         defaults.put(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS, SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS_DEFAULT);
 , @@ -25,9 +25,11 @@
 import javax.swing.event.PopupMenuListener;
 
 import net.sf.jabref.groups.*;
+import net.sf.jabref.specialfields.Printed;
 import net.sf.jabref.specialfields.Priority;
 import net.sf.jabref.specialfields.Quality;
 import net.sf.jabref.specialfields.Rank;
+import net.sf.jabref.specialfields.ReadStatus;
 import net.sf.jabref.specialfields.Relevance;
 import net.sf.jabref.specialfields.SpecialField;
 import net.sf.jabref.specialfields.SpecialFieldValue;
@@ -45,6 +47,7 @@
             groupMoveMenu = new JMenu(Globals.lang(""Assign exclusively to group"")), // JZTODO lyrics
             rankingMenu = new JMenu(),
             priorityMenu = new JMenu(),
+            readStatusMenu = new JMenu(),
             typeMenu = new JMenu(Globals.lang(""Change entry type""));
     JMenuItem groupAdd, groupRemove, groupMoveTo;
     JCheckBoxMenuItem
@@ -200,11 +203,19 @@ public void actionPerformed(ActionEvent e) {
         	if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY)) {
         		add(Quality.getInstance().getValues().get(0).getMenuAction(panel.frame));
         	}
+        	if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED)) {
+        		add(Printed.getInstance().getValues().get(0).getMenuAction(panel.frame));
+        	}
 
         	if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY)) {
 		        populateSpecialFieldMenu(this.priorityMenu, Priority.getInstance(), panel.frame);
 		        add(this.priorityMenu);
         	}
+        	
+        	if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ)) {
+		        populateSpecialFieldMenu(this.readStatusMenu, ReadStatus.getInstance(), panel.frame);
+		        add(this.readStatusMenu);
+        	}
 	        
 	        addSeparator();
         }, @@ -54,9 +54,9 @@
     private JCheckBox showOneLetterHeadingForIconColumns;
 
     /*** begin: special fields ***/
-	private JCheckBox specialFieldsEnabled, rankingColumn, compactRankingColumn, qualityColumn, priorityColumn, relevanceColumn;
+	private JCheckBox specialFieldsEnabled, rankingColumn, compactRankingColumn, qualityColumn, priorityColumn, relevanceColumn, printedColumn, readStatusColumn;
 	private JRadioButton syncKeywords, writeSpecialFields;
-	private boolean oldSpecialFieldsEnabled, oldRankingColumn, oldCompcatRankingColumn, oldQualityColumn, oldPriorityColumn, oldRelevanceColumn, oldSyncKeyWords, oldWriteSpecialFields;
+	private boolean oldSpecialFieldsEnabled, oldRankingColumn, oldCompcatRankingColumn, oldQualityColumn, oldPriorityColumn, oldRelevanceColumn, oldPrintedColumn, oldReadStatusColumn, oldSyncKeyWords, oldWriteSpecialFields;
 
     /*** end: special fields ***/
 
@@ -237,6 +237,8 @@ public void stateChanged(ChangeEvent event) {
 				qualityColumn.setEnabled(isEnabled);
 				priorityColumn.setEnabled(isEnabled);
 				relevanceColumn.setEnabled(isEnabled);
+				printedColumn.setEnabled(isEnabled);
+				readStatusColumn.setEnabled(isEnabled);
 				syncKeywords.setEnabled(isEnabled);
 				writeSpecialFields.setEnabled(isEnabled);
 			}
@@ -251,6 +253,8 @@ public void stateChanged(ChangeEvent event) {
 		qualityColumn = new JCheckBox(Globals.lang(""Show quality""));
 		priorityColumn = new JCheckBox(Globals.lang(""Show priority""));
 		relevanceColumn = new JCheckBox(Globals.lang(""Show relevance""));
+		printedColumn = new JCheckBox(Globals.lang(""Show printed status""));
+		readStatusColumn = new JCheckBox(Globals.lang(""Show read status""));
 		
 		// ""sync keywords"" and ""write special"" fields may be configured mutually exclusive only
 		// The implementation supports all combinations (TRUE+TRUE and FALSE+FALSE, even if the latter does not make sense)
@@ -266,7 +270,7 @@ public void stateChanged(ChangeEvent event) {
 		builder.append(pan);
 
 		DefaultFormBuilder specialTableColumnsBuilder = new DefaultFormBuilder(new FormLayout(
-				""8dlu, 8dlu, 8cm, 8dlu, 8dlu, left:pref:grow"", ""pref, pref, pref, pref, pref, pref, pref, pref, pref, pref""));
+				""8dlu, 8dlu, 8cm, 8dlu, 8dlu, left:pref:grow"", ""pref, pref, pref, pref, pref, pref, pref, pref, pref, pref, pref, pref, pref""));
         CellConstraints cc = new CellConstraints();
 		
         specialTableColumnsBuilder.add(specialFieldsEnabled, cc.xyw(1, 1, 3));
@@ -275,10 +279,12 @@ public void stateChanged(ChangeEvent event) {
         specialTableColumnsBuilder.add(relevanceColumn, cc.xyw(2, 4, 2));
         specialTableColumnsBuilder.add(qualityColumn, cc.xyw(2, 5, 2));
         specialTableColumnsBuilder.add(priorityColumn, cc.xyw(2, 6, 2));
-        specialTableColumnsBuilder.add(syncKeywords, cc.xyw(2, 7, 2));
-        specialTableColumnsBuilder.add(writeSpecialFields, cc.xyw(2, 8, 2));
-        specialTableColumnsBuilder.add(showOneLetterHeadingForIconColumns, cc.xyw(1, 9, 5));
-		specialTableColumnsBuilder.add(hlb, cc.xyw(1, 10, 2));
+        specialTableColumnsBuilder.add(printedColumn, cc.xyw(2, 7, 2));
+        specialTableColumnsBuilder.add(readStatusColumn, cc.xyw(2, 8, 2));
+        specialTableColumnsBuilder.add(syncKeywords, cc.xyw(2, 10, 2));
+        specialTableColumnsBuilder.add(writeSpecialFields, cc.xyw(2, 11, 2));
+        specialTableColumnsBuilder.add(showOneLetterHeadingForIconColumns, cc.xyw(1, 12, 4));
+		specialTableColumnsBuilder.add(hlb, cc.xyw(1, 13, 2));
 
 		specialTableColumnsBuilder.add(fileColumn, cc.xyw(5, 1, 2));	
 		specialTableColumnsBuilder.add(pdfColumn, cc.xyw(5, 2, 2));	
@@ -288,7 +294,7 @@ public void stateChanged(ChangeEvent event) {
 		specialTableColumnsBuilder.add(arxivColumn, cc.xyw(5, 6, 2));	
 
 		specialTableColumnsBuilder.add(extraFileColumns, cc.xyw(5, 7, 2));	
-		specialTableColumnsBuilder.add(listOfFileColumnsScrollPane, cc.xywh(5, 8, 2, 3));	
+		specialTableColumnsBuilder.add(listOfFileColumnsScrollPane, cc.xywh(5, 8, 2, 5));	
 
 		builder.append(specialTableColumnsBuilder.getPanel());
 		builder.nextLine();
@@ -360,6 +366,12 @@ public void setValues() {
 		
 		oldRelevanceColumn = _prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE);
         relevanceColumn.setSelected(oldRelevanceColumn);
+        
+        oldPrintedColumn = _prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED);
+        printedColumn.setSelected(oldPrintedColumn);
+        
+        oldReadStatusColumn = _prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ);
+        readStatusColumn.setSelected(oldReadStatusColumn);
 		
 		oldSyncKeyWords = _prefs.getBoolean(SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS);
 		syncKeywords.setSelected(oldSyncKeyWords);
@@ -630,7 +642,9 @@ public void storeSettings() {
 		newCompactRankingColumn = compactRankingColumn.isSelected(),
 		newQualityColumn = qualityColumn.isSelected(), 
 		newPriorityColumn = priorityColumn.isSelected(), 
-		newRelevanceColumn = relevanceColumn.isSelected(), 
+		newRelevanceColumn = relevanceColumn.isSelected(),
+		newPrintedColumn = printedColumn.isSelected(),
+		newReadStatusColumn = readStatusColumn.isSelected(),
 		newSyncKeyWords = syncKeywords.isSelected(), 
 		newWriteSpecialFields = writeSpecialFields.isSelected();
 		
@@ -641,6 +655,8 @@ public void storeSettings() {
 				(oldQualityColumn != newQualityColumn) ||
 				(oldPriorityColumn != newPriorityColumn) ||
 				(oldRelevanceColumn != newRelevanceColumn) ||
+				(oldPrintedColumn != newPrintedColumn) ||
+				(oldReadStatusColumn != newReadStatusColumn) ||
 				(oldSyncKeyWords != newSyncKeyWords) ||
 				(oldWriteSpecialFields != newWriteSpecialFields);
 		if (restartRequired) {
@@ -661,6 +677,8 @@ public void storeSettings() {
 			_prefs.putBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY, newPriorityColumn);
 			_prefs.putBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_QUALITY, newQualityColumn);
 			_prefs.putBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_RELEVANCE, newRelevanceColumn);
+			_prefs.putBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED, newPrintedColumn);
+			_prefs.putBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ, newReadStatusColumn);
 			_prefs.putBoolean(SpecialFieldsUtils.PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS, newSyncKeyWords);
 			_prefs.putBoolean(SpecialFieldsUtils.PREF_SERIALIZESPECIALFIELDS, newWriteSpecialFields);
 		}, @@ -31,13 +31,16 @@
 import net.sf.jabref.Util;
 import net.sf.jabref.specialfields.Priority;
 import net.sf.jabref.specialfields.Rank;
+import net.sf.jabref.specialfields.ReadStatus;
 import net.sf.jabref.specialfields.SpecialFieldValue;
 import net.sf.jabref.specialfields.SpecialFieldsUtils;
 import ca.odell.glazedlists.gui.TableFormat;
 import ca.odell.glazedlists.matchers.Matcher;
+
 import java.awt.Color;
 import java.awt.Graphics;
 import java.awt.image.BufferedImage;
+
 import javax.swing.Icon;
 import javax.swing.ImageIcon;
 import javax.swing.JLabel;
@@ -66,6 +69,8 @@
     PRIORITY = {SpecialFieldsUtils.FIELDNAME_PRIORITY},
     RELEVANCE = {SpecialFieldsUtils.FIELDNAME_RELEVANCE},
     QUALITY = {SpecialFieldsUtils.FIELDNAME_QUALITY},
+    PRINTED = {SpecialFieldsUtils.FIELDNAME_PRINTED},
+    READ = {SpecialFieldsUtils.FIELDNAME_READ},
     FILE = {GUIGlobals.FILE_FIELD};
 
     BasePanel panel;
@@ -236,6 +241,13 @@ else if (iconType != null) {
                 if (rank != null) {
                     o = rank.createLabel();
                 }
+            // Handle read status column special
+            // Extra handling because the icon depends on a FieldValue
+            } else if (iconType[hasField].equals(READ[0])) {
+                SpecialFieldValue status = ReadStatus.getInstance().parse(be.getField(SpecialFieldsUtils.FIELDNAME_READ));
+                if (status != null) {
+                    o = status.createLabel();
+                }
             } else {
                 o = GUIGlobals.getTableIcon(iconType[hasField]);
 
@@ -377,6 +389,10 @@ public void updateTableFormat() {
                 iconCols.put(coln++, QUALITY);
             if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY))
                 iconCols.put(coln++, PRIORITY);
+            if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED))
+                iconCols.put(coln++, PRINTED);
+            if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ))
+                iconCols.put(coln++, READ);
         }
 
         if (Globals.prefs.getBoolean(""fileColumn"")), @@ -135,6 +135,10 @@ private int getSpecialColumnsCount() {
 	            count++;
 	        if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRIORITY))
 	            count++;
+	        if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_PRINTED))
+	            count++;
+	        if (Globals.prefs.getBoolean(SpecialFieldsUtils.PREF_SHOWCOLUMN_READ))
+	            count++;
         }
 
         return count;, @@ -0,0 +1,63 @@
+/*  Copyright (C) 2012 JabRef contributors.
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License along
+    with this program; if not, write to the Free Software Foundation, Inc.,
+    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+*/
+package net.sf.jabref.specialfields;
+
+import java.util.ArrayList;
+
+import javax.swing.ImageIcon;
+
+import net.sf.jabref.GUIGlobals;
+import net.sf.jabref.Globals;
+
+public class Printed extends SpecialField {
+
+	private static Printed INSTANCE;
+
+	public Printed() {
+		ArrayList<SpecialFieldValue> values = new ArrayList<SpecialFieldValue>();
+    	values.add(new SpecialFieldValue(this, ""printed"", ""togglePrinted"", Globals.lang(""Toogle print status""), GUIGlobals.getImage(""printed""), Globals.lang(""Toogle print status"")));
+		this.setValues(values);
+		TEXT_DONE_PATTERN = ""Toggled print status for %0 entries"";
+	}
+	
+	public String getFieldName() {
+		return SpecialFieldsUtils.FIELDNAME_PRINTED;
+	}
+
+	public static Printed getInstance() {
+		if (INSTANCE == null) {
+			INSTANCE = new Printed();
+		}
+		return INSTANCE;
+	}
+	
+	public ImageIcon getRepresentingIcon() {
+		return this.getValues().get(0).getIcon();
+	}
+
+	public String getToolTip() {
+		return this.getValues().get(0).getToolTipText();
+	}
+
+	public String getMenuString() {
+		return Globals.lang(""Printed"");
+	}
+	
+	public boolean isSingleValueField() {
+		return true;
+	}
+
+}, @@ -0,0 +1,65 @@
+/*  Copyright (C) 2012 JabRef contributors.
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License along
+    with this program; if not, write to the Free Software Foundation, Inc.,
+    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+*/
+package net.sf.jabref.specialfields;
+
+import java.util.ArrayList;
+
+import javax.swing.ImageIcon;
+
+import net.sf.jabref.GUIGlobals;
+import net.sf.jabref.Globals;
+
+public class ReadStatus extends SpecialField {
+	
+	private static ReadStatus INSTANCE = null;
+	
+	private ImageIcon icon = new ImageIcon(GUIGlobals.getIconUrl(""readstatus""));
+	
+	public ReadStatus() {
+		ArrayList<SpecialFieldValue> values = new ArrayList<SpecialFieldValue>();
+		values.add(new SpecialFieldValue(this, null, ""clearReadStatus"", Globals.lang(""Clear read status""), null, Globals.lang(""No read status information"")));
+		ImageIcon icon;
+		icon = GUIGlobals.getImage(""readStatusRead"");
+		values.add(new SpecialFieldValue(this, ""read"", ""setReadStatusToRead"", Globals.lang(""Set read status to read""), icon, Globals.lang(""Read status read"")));
+		icon = GUIGlobals.getImage(""readStatusSkimmed"");
+		values.add(new SpecialFieldValue(this, ""skimmed"", ""setReadStatusToSkimmed"", Globals.lang(""Set read status to skimmed""), icon, Globals.lang(""Read status skimmed"")));
+		this.setValues(values);
+		TEXT_DONE_PATTERN = ""Set read status '%0' for %1 entries"";
+	}
+	
+	public static ReadStatus getInstance() {
+		if (INSTANCE == null) {
+			INSTANCE = new ReadStatus();
+		}
+		return INSTANCE;
+	}
+	
+	public String getFieldName() {
+		return SpecialFieldsUtils.FIELDNAME_READ;
+	}
+	
+	public ImageIcon getRepresentingIcon() {
+		return this.icon;
+	}
+	
+	public String getToolTip() {
+		return Globals.lang(""Read status"");
+	}
+	
+	public String getMenuString() {
+		return Globals.lang(""Read status"");
+	}
+}, @@ -30,6 +30,8 @@
 	public final static String FIELDNAME_RANKING = ""ranking"";
 	public final static String FIELDNAME_RELEVANCE = ""relevance"";
 	public final static String FIELDNAME_QUALITY = ""qualityassured"";
+	public final static String FIELDNAME_READ = ""readstatus"";
+	public final static String FIELDNAME_PRINTED = ""printed"";
 
 	public final static String  PREF_SPECIALFIELDSENABLED = ""specialFieldsEnabled"";
 	public final static Boolean PREF_SPECIALFIELDSENABLED_DEFAULT = Boolean.FALSE;
@@ -49,6 +51,12 @@
 	public final static String  PREF_SHOWCOLUMN_QUALITY = ""showQualityColumn"";
 	public final static Boolean PREF_SHOWCOLUMN_QUALITY_DEFAULT = Boolean.FALSE;
 	
+	public final static String  PREF_SHOWCOLUMN_READ = ""showReadColumn"";
+	public final static Boolean PREF_SHOWCOLUMN_READ_DEFAULT = Boolean.FALSE;
+	
+	public final static String  PREF_SHOWCOLUMN_PRINTED = ""showPrintedColumn"";
+	public final static Boolean PREF_SHOWCOLUMN_PRINTED_DEFAULT = Boolean.FALSE;
+	
 	public final static String  PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS = ""autoSyncSpecialFieldsToKeywords"";
 	public final static Boolean PREF_AUTOSYNCSPECIALFIELDSTOKEYWORDS_DEFAULT = Boolean.FALSE;
 	
@@ -114,6 +122,8 @@ public static void syncKeywordsFromSpecialFields(BibtexEntry be, NamedCompound n
 		exportFieldToKeywords(Rank.getInstance(), be, nc);
 		exportFieldToKeywords(Relevance.getInstance(), be, nc);
 		exportFieldToKeywords(Quality.getInstance(), be, nc);
+		exportFieldToKeywords(ReadStatus.getInstance(), be, nc);
+		exportFieldToKeywords(Printed.getInstance(), be, nc);
 	}
 	
 	private static void importKeywordsForField(ArrayList<String> keywordList, SpecialField c, BibtexEntry be, NamedCompound nc) {
@@ -141,6 +151,8 @@ public static void syncSpecialFieldsFromKeywords(BibtexEntry be, NamedCompound c
 		importKeywordsForField(keywordList, Rank.getInstance(), be, ce);
 		importKeywordsForField(keywordList, Quality.getInstance(), be, ce);
 		importKeywordsForField(keywordList, Relevance.getInstance(), be, ce);
+		importKeywordsForField(keywordList, ReadStatus.getInstance(), be, ce);
+		importKeywordsForField(keywordList, Printed.getInstance(), be, ce);
 	}
 	
 	/**
@@ -156,6 +168,10 @@ public static SpecialField getSpecialFieldInstanceFromFieldName(String fieldName
 			return Rank.getInstance();
 		} else if (fieldName.equals(FIELDNAME_RELEVANCE)) {
 			return Relevance.getInstance();
+		} else if (fieldName.equals(FIELDNAME_READ)) {
+			return ReadStatus.getInstance();
+		} else if (fieldName.equals(FIELDNAME_PRINTED)) {
+			return Printed.getInstance();
 		} else {
 			return null;
 		}, @@ -20,7 +20,6 @@
 import java.awt.event.ActionListener;
 import java.awt.event.KeyEvent;
 import java.awt.event.KeyListener;
-
 import java.util.ArrayList;
 import java.util.Enumeration;
 import java.util.HashSet;
@@ -50,9 +49,11 @@
 import net.sf.jabref.Util;
 import net.sf.jabref.autocompleter.AbstractAutoCompleter;
 import net.sf.jabref.gui.AutoCompleteListener;
+import net.sf.jabref.specialfields.Printed;
 import net.sf.jabref.specialfields.Priority;
 import net.sf.jabref.specialfields.Quality;
 import net.sf.jabref.specialfields.Rank;
+import net.sf.jabref.specialfields.ReadStatus;
 import net.sf.jabref.specialfields.Relevance;
 import net.sf.jabref.specialfields.SpecialFieldsUtils;
 import net.sf.jabref.undo.NamedCompound;
@@ -326,6 +327,20 @@ public void actionPerformed(ActionEvent e) {
 	        	if (!clone.isEmpty()) {
 	        		keywordsToRemove.addAll(Relevance.getInstance().getKeyWords());
 	        	}
+	        	
+	        	// Read status
+	        	clone = createClone(keywordsToAdd);
+	        	clone.retainAll(ReadStatus.getInstance().getKeyWords());
+	        	if (!clone.isEmpty()) {
+	        		keywordsToRemove.addAll(ReadStatus.getInstance().getKeyWords());
+	        	}
+	        	
+	        	// Printed
+	        	clone = createClone(keywordsToAdd);
+	        	clone.retainAll(Printed.getInstance().getKeyWords());
+	        	if (!clone.isEmpty()) {
+	        		keywordsToRemove.addAll(Printed.getInstance().getKeyWords());
+	        	}
 	        }
         }
 , @@ -88,6 +88,8 @@ setRelevant=relevance.png
 qualityAssured=button_ok.png
 toggleQualityAssured=button_ok.png
 quality=button_ok.png
+printed=fileprint.png
+togglePrinted=fileprint.png
 rank1=rank1.png
 rank2=rank2.png
 rank3=rank3.png
@@ -99,6 +101,9 @@ rankc2=rankc2.png
 rankc3=rankc3.png
 rankc4=rankc4.png
 rankc5=rankc5.png
+readstatus=read.png
+readStatusRead=read.png
+readStatusSkimmed=readskimmed.png
 priority=priority.png
 red=red.png
 orange=orange.png, None, None, None, ","Added special fields 'Printed' and 'Read status', thereby implementing (at least partially):
- Feature #762 Printed attribute
- Feature #692 Marking of new entries and often read entries
- Feature #685 Highlight new entries that were ""forgotten""
- Feature #602 could add the mark as read feature
- Feature #225 read? checkbox

Printed is just a boolean toggle and for the read field currently the values 'Skimmed' and 'Read' are possible (if you have any suggestions for further possibilities, I'm happy to implement them). The icons are taken from http://www.softicons.com/system-icons/crystal-project-icons-by-everaldo-coelho and should probably be replaced with icons from the same collection as the other currently used ones.",Added special fields 'Printed' and 'Read status'
29,Leonardo Haddad Carlos,"['CHANGELOG', 'src/main/java/net/sf/jabref/BibtexString.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+	- Fix for bug 1240: Accepting string with length of one character (by lhaddad).
 	- Fix for bug 949: Exception properly logged
 	- Fix for bug 950: NullPointerException on ""Manage custom imports""
 	- Feature 850: Keyboard shortcut for 'Cleanup entries' (by eduardogreco), @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2014 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -67,7 +67,7 @@
         }
 
         public static final Type get(String name) {
-        	if (name.length() == 0) {
+        	if (name.length() <= 1) {
         		return OTHER;
         	}
             if (!(name.charAt(1) + """").toUpperCase().equals(, @@ -92,7 +92,8 @@ <h2>Contributions from:</h2>
         Waluyo Adi Siswanto,
 		Eduardo Roberto Greco,
 		Thiago Gomes Toledo,
-		Renato Massao Maeda da Silva</p>
+		Renato Massao Maeda da Silva
+		Leonardo Haddad Carlos</p>
 
         <h2>Thanks to:</h2>
 , ","Fixed bug #1240, about an error thrown when trying to add a string with length of one character.",Fixed bug #1240. 1-char strings working correctly.
30,,['src/main/java/net/sf/jabref/gui/CleanUpAction.java'],"@@ -680,8 +680,8 @@ private void doConvertToBiblatex(BibtexEntry entry, NamedCompound ce) {
     		entry.setField(""month"", null);
     		
     		ce.addEdit(new UndoableFieldChange(entry, ""date"", null, newDate));
-    		ce.addEdit(new UndoableFieldChange(entry, ""date"", oldYear, null));
-    		ce.addEdit(new UndoableFieldChange(entry, ""date"", oldMonth, null));
+    		ce.addEdit(new UndoableFieldChange(entry, ""year"", oldYear, null));
+    		ce.addEdit(new UndoableFieldChange(entry, ""month"", oldMonth, null));
     	}
     }
 , ","When Cleanup/Convert to Biblatex converted year/month fields to a date
field, it used to store erroneous undo information. This change fixes
it.",Fix undoing Cleanup/Convert to Biblatex
31,,"['CHANGELOG', 'src/main/java/net/sf/jabref/FieldComparator.java']","@@ -34,6 +34,7 @@
         - Feature #685 Highlight new entries that were ""forgotten""
         - Feature #602 could add the mark as read feature
         - Feature #225 read? checkbox
+    - Take aliased fields into account when sorting entries
 2.10
     - Made IEEEXploreFetcher author parsing work again.
     - Added a few more characters in the HTML/Unicode to LaTeX conversion., @@ -180,7 +180,7 @@ public int compare(BibtexEntry e1, BibtexEntry e2) {
 
     private Object getField(BibtexEntry entry) {
         for (String aField : field) {
-            Object o = entry.getField(aField);
+            Object o = entry.getFieldOrAlias(aField);
             if (o != null)
                 return o;
         }, ",NaN,Take aliased fields into account when sorting entries
33,Philip Johnson,"['CHANGELOG', 'src/main/java/net/sf/jabref/imports/MedlineHandler.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+    - Feature #809: import pubmed central id (pmc) field from medline
     - Fix undoing Cleanup/Convert to Biblatex
     - Adapted pattern to parse DBLP entries
     - Partial fix for bug 913: fixed export for .ods and .sxc (by yaragg), @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2014 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -38,14 +38,14 @@
 		inMedlineID = false,		inURL=false,
 		inIssue = false,			inPubDate = false,
         inUrl=false, inForename=false, inAbstractText=false, inMedlineDate=false,
-		inPubMedID=false, inDescriptorName=false,inDoi=false,inPii=false,
+		inPubMedID=false, inDescriptorName=false,inDoi=false,inPii=false,inPmc=false,
         inAffiliation=false, inMeshHeader=false, inQualifierName=false,
         inLanguage=false, inPst=false;
     String title="""", journal="""", keywords ="""",author="""",
 		lastName="""",suffix="""",year="""",forename="""", abstractText="""", affiliation="""";
     String month="""",volume="""",lastname="""",initials="""",number="""",page="""",medlineID="""",url="""",MedlineDate="""";
     String series="""",editor="""",booktitle="""",type=""article"",key="""",address="""",
-		pubmedid="""",doi="""",pii="""", majorTopic = """", minorTopics = """", language = """", pst= """";
+        pubmedid="""",doi="""",pii="""", pmc="""",majorTopic = """", minorTopics = """", language = """", pst= """";
     ArrayList<String> authors=new ArrayList<String>();
     TreeSet<String> descriptors = new TreeSet<String>(); // To gather keywords
     int rowNum=0;
@@ -117,6 +117,8 @@ else if(localName.equals(""ArticleId"")){
 					inDoi=true;
 				else if(value.equals(""pii""))
 					inPii=true;
+				else if(value.equals(""pmc""))
+					inPmc=true;
 
 			}
 		}
@@ -194,6 +196,8 @@ public void endElement( String uri, String localName, String qName ) {
 			}
 			if(!pii.equals(""""))
 			    b.setField(""pii"",pii);
+			if(!pmc.equals(""""))
+			    b.setField(""pmc"",pmc);
             if(!affiliation.equals("""")) {
                 b.setField(""institution"",affiliation.replaceAll(""#"", ""\\\\#""));
             }
@@ -212,7 +216,7 @@ public void endElement( String uri, String localName, String qName ) {
 			title="""";
 			journal="""";
 			keywords ="""";
-            doi=""""; pii="""";
+                        doi=""""; pii=""""; pmc="""";
 			year="""";
 			forename="""";
 			lastName="""";
@@ -293,7 +297,9 @@ else if(localName.equals(""ArticleId"")){
 			if(inDoi)
 				inDoi=false;
 			else if(inPii)
-				inPii=false;}
+				inPii=false;
+			else if(inPmc)
+				inPmc=false;}
     }
 
     public void characters( char[] data, int start, int length ) {
@@ -332,6 +338,7 @@ else if(inForename){
 		else if(inMedlineDate){ MedlineDate += new String(data,start,length);}
 		else if(inDoi){ doi=new String(data,start,length);}
 		else if(inPii){ pii=new String(data,start,length);}
+		else if(inPmc){ pmc=new String(data,start,length);}
         else if(inAffiliation){ affiliation = new String(data,start,length);}
     }
 , @@ -67,6 +67,7 @@ <h2>Contributions from:</h2>
         Yara Grassi Gouffon,
         Leonardo Haddad Carlos
         Sascha Hunold,
+        Philip Johnson,
         Bernd Kalbfuss,
         Martin K&auml;hmer,
         Ervin Kolenovic,, ","Import ""pmc"" field into bibtex from pubmed/medline records.  This field is analogous to other pubmed identifiers (pubmed id, doi, pii) and is used in NIH grant applications when listing publications produced by NIH-funded work.

I was working on my grant progress report and realized this change was easy to make, so I went ahead and did it.  Since there was already a feature request, seems others are interested too.",Feature 809: import Pubmed Central ID
34,Brian Quistorff,"['CHANGELOG', 'src/main/java/net/sf/jabref/imports/DOItoBibTeXFetcher.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+    - Fix for bug 1213 (sourceforge): Fix encoding for DOI import
     - Feature #809: import pubmed central id (pmc) field from medline
     - Fix undoing Cleanup/Convert to Biblatex
     - Adapted pattern to parse DBLP entries, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2012 JabRef contributors.
+/*  Copyright (C) 2014 JabRef contributors.
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or, @@ -83,6 +83,7 @@ <h2>Contributions from:</h2>
         Alex Montgomery,
         Saverio Mori,
         Ambrogio Oliva,
+        Brian Quistorff,
         Stephan Rave,
         John Relph,
         Hannes Restel,, ","Get the right encoding for the data from DOI import. Then, for
convenience, also replace the en-dash so that most entries can compile
under latex without modification.
Fixes: http://sourceforge.net/p/jabref/bugs/1213/",Fix encoding for DOI import
36,,"['CHANGELOG', 'src/main/java/net/sf/jabref/imports/HTMLConverter.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,5 @@
 [master]
+	- Fix for bug #1253: Cleanup entries error 2 (by ruy.takata)
     - Fix for bug 1213 (sourceforge): Fix encoding for DOI import
     - Feature #809: import pubmed central id (pmc) field from medline
     - Fix undoing Cleanup/Convert to Biblatex, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2012 JabRef contributors.
+/*  Copyright (C) 2003-2015 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -107,7 +107,7 @@
         //                                 U+00C3 ISOlat1 
         {""196"", ""Auml"", ""\\{\\\\\""\\{A\\}\\}""}, // latin capital letter A with diaeresis, 
         //                                 U+00C4 ISOlat1 
-        {""197"", ""Aring"", ""\\{\\\\AA\\}""}, // latin capital letter A with ring above 
+        {""197"", ""Aring"", ""\\{\\{\\\\AA\\}\\}""}, // latin capital letter A with ring above 
         //                                 = latin capital letter A ring,
         //                                 U+00C5 ISOlat1 
         {""198"", ""AElig"", ""\\{\\\\AE\\}""}, // latin capital letter AE 
@@ -173,7 +173,7 @@
         //                                 U+00E3 ISOlat1 
         {""228"", ""auml"", ""\\{\\\\\""\\{a\\}\\}""}, // latin small letter a with diaeresis, 
         //                                 U+00E4 ISOlat1 
-        {""229"", ""aring"", ""\\{\\\\aa\\}""}, // latin small letter a with ring above 
+        {""229"", ""aring"", ""\\{\\{\\\\aa\\}\\}""}, // latin small letter a with ring above 
         //                                 = latin small letter a ring,
         //                                 U+00E5 ISOlat1 
         {""230"", ""aelig"", ""\\{\\\\ae\\}""}, // latin small letter ae , @@ -101,7 +101,8 @@ <h2>Contributions from:</h2>
         Mattias Ulbrich,
         David Weitzman,
         Seb Wills,
-        John Zedlewski</p>
+        John Zedlewski,
+        Ruy Minoru Ito Takata</p>
 
         <h2>Thanks to:</h2>
 , ","Committer: Ruy Minoru Ito Takata ruy.takata@gmail.com

When using the ""Cleanup entries"" function, the special character Å should be converted to {{\AA}} to preserve the capital when generating the PDF.",Fix for bug #1253: Cleanup entries error 2
37,Nathan Sheffield,['src/main/resources/help/About.html'],"@@ -90,6 +90,7 @@ <h2>Contributions from:</h2>
         Moritz Ringler,
         Andreas Rudert,
         Mark Schenk,
+        Nathan Sheffield,
         Rudolf Seemann,
         Toralf Senger,
         Manuel Siebeneicher,, ","Changes the CrossRef content negotiation method to yield more complete bibtex entries. This fixes an issue with DOI import from papers with many authors, which previously yielded truncated results.",Change DOI importer to use application/x-bibtex
38,,"['CHANGELOG', 'src/main/java/net/sf/jabref/imports/HTMLConverter.java']","@@ -1,4 +1,5 @@
 [master]
+	- Fix for bug #1270: Cleanup entries error 3
     - Fix for bug #919: Accents don't export to RTF (by ruy.takata)
     - Change the CrossRef content negotiation for bibtex DOI import (by sheffien)
     - Fix for bug #1253: Cleanup entries error 2 (by ruy.takata), @@ -188,13 +188,13 @@
         //                                 U+00EA ISOlat1 
         {""235"", ""euml"", ""\\{\\\\\""\\{e\\}\\}""}, // latin small letter e with diaeresis, 
         //                                 U+00EB ISOlat1 
-        {""236"", ""igrave"", ""\\{\\\\`\\{\\\\i\\}\\}""}, // latin small letter i with grave,
+        {""236"", ""igrave"", ""\\{\\\\`\\{i\\}\\}""}, // latin small letter i with grave,
         //                                 U+00EC ISOlat1 
-        {""237"", ""iacute"", ""\\{\\\\'\\{\\\\i\\}\\}""}, // latin small letter i with acute, 
+        {""237"", ""iacute"", ""\\{\\\\'\\{i\\}\\}""}, // latin small letter i with acute, 
         //                                 U+00ED ISOlat1 
-        {""238"", ""icirc"", ""\\{\\\\\\^\\{\\\\i\\}\\}""}, // latin small letter i with circumflex, 
+        {""238"", ""icirc"", ""\\{\\\\\\^\\{i\\}\\}""}, // latin small letter i with circumflex, 
         //                                 U+00EE ISOlat1 
-        {""239"", ""iuml"", ""\\{\\\\\""\\{\\\\i\\}\\}""}, // latin small letter i with diaeresis, 
+        {""239"", ""iuml"", ""\\{\\\\\""\\{i\\}\\}""}, // latin small letter i with diaeresis, 
         //                                 U+00EF ISOlat1 
         {""240"", ""eth"", ""\\{\\\\dh\\}""}, // latin small letter eth, U+00F0 ISOlat1  
         {""241"", ""ntilde"", ""\\{\\\\~\\{n\\}\\}""}, // latin small letter n with tilde, 
@@ -227,6 +227,8 @@
         //                                 U+00FE ISOlat1 
         {""255"", ""yuml"", ""\\{\\\\\""\\{y\\}\\}""}, // latin small letter y with diaeresis, 
         //                                 U+00FF ISOlat1 
+        {""332"", ""Omacro"", ""\\{\\\\=\\{O\\}\\}""}, // the small letter o with macron
+        {""333"", ""omacro"", ""\\{\\\\=\\{o\\}\\}""}, // the big letter O with macron
         {""402"", ""fnof"", ""\\$f\\$""}, // latin small f with hook = function 
         //                                   = florin, U+0192 ISOtech 
 , ","Tests with various accented characters were made. The result was: 
Ç ü é ã á ä à å ç ê ë è ï í ì î Ä Å É æ Æ ô ö ò û ù ÿ Ö Ü ó ú ñ Ñ Ã Á Â À Ð Ê Ë È Í Î Ï Ì Ó Ô Ò õ Õ Ú Û Ù ý Ý ø Ø ï",Fix for bug #919: Accents don't export to RTF
41,Tobias Diez,"['README.md', 'jabref-launch4j.xml']","@@ -128,7 +128,8 @@ To get a list of all targets, use `gradlew tasks`.
 To compile, use the command `gradlew generateSource antTargets.jars`.
 After the build is finished, you can find the executable jar file
 named `JabRef-$VERSION.jar` (where $VERSION is the current version of the
-source tree) in the `build/lib` directory. Enjoy!
+source tree) in the `buildant\lib` directory. Enjoy!
+The setup files are created by invoking the command `gradlew generateSource antTargets.release`.
 
 On Mac OS X you should include the targets osx and osxjar,
 making the correct command `gradlew generateSource antTargets.compile antTargets.unjarlib antTargets.osx antTargets.jars antTargets.osxjar`., @@ -2,7 +2,7 @@
   <dontWrapJar>true</dontWrapJar>
   <headerType>gui</headerType>
   <jar>JabRef-1.1.1.jar</jar>
-  <outfile>.\src\windows\nsis\dist\JabRef.exe</outfile>
+  <outfile>./src/main/resources/windows/nsis/dist/JabRef.exe</outfile>
   <errTitle></errTitle>
   <cmdLine></cmdLine>
   <chdir></chdir>
@@ -12,7 +12,7 @@
   <customProcName>false</customProcName>
   <stayAlive>false</stayAlive>
   <manifest></manifest>
-  <icon>./src/resources/images/JabRef.ico</icon>
+  <icon>./src/main/resources/images/JabRef.ico</icon>
   <jre>
     <path></path>
     <minVersion>1.6.0</minVersion>, ","In order that the Launch4j build task works, some paths in the configuration file have to be changed.",Updated some paths in Launch4j configuration file
42,Tobias Diez,"['CHANGELOG', 'build.gradle', 'build.xml', 'lib/jna-4.1.0.jar', 'lib/licenses.txt', 'src/main/java/net/sf/jabref/JabRef.java', 'src/main/resources/windows/nsis/setup.nsi']","@@ -1,4 +1,5 @@
 [master]
+    - Fix for bug #876: Windows 7/8/10 - Pinning Jabref to the taskbar	
     - Fix for bug #1270: Cleanup entries error 3
     - Fix for bug #919: Accents don't export to RTF (by ruy.takata)
     - Change the CrossRef content negotiation for bibtex DOI import (by sheffien), @@ -77,6 +77,8 @@ dependencies {
 
     compile fileTree(dir: 'lib', includes: ['glazedlists-1.8.0_java15.jar', 'jayatana-1.2.4.jar', 'microba.jar', 'spin.jar'])
 
+    compile 'net.java.dev.jna:jna:4.1.0'
+
     // not available in maven repository
     compile fileTree(dir: 'lib/plugin', includes: ['jpf.jar', 'jpf-boot.jar', 'commons-logging.jar', 'JPFCodeGenerator-rt.jar'])
 , @@ -101,6 +101,7 @@
 		<include name=""jgoodies-looks-2.5.2.jar"" />
 		<include name=""jgoodies-forms-1.6.0.jar"" />
         <include name=""jgoodies/jgoodies-uif-lite.jar"" />
+        <include name=""jna-4.1.0.jar"" />
         <include name=""ritopt/ritopt-0.2.1-bin.jar"" />
 		<include name=""jayatana-1.2.4.jar"" />
 		<include name=""spin.jar"" />, None, @@ -138,6 +138,11 @@ Project: JGoodies Looks
 URL:     http://www.jgoodies.com/downloads/libraries/
 License: BSD
 
+Path:    jna-4.1.0.jar
+Project: Java Native Access (JNA)
+URL:     https://github.com/twall/jna
+License: LGPL 2.1
+
 Path:    microba.jar
 Project: Microba
 URL:     http://microba.sourceforge.net/, @@ -50,6 +50,12 @@
 import net.sf.jabref.remote.RemoteListener;
 import net.sf.jabref.wizard.auximport.AuxCommandLine;
 
+import com.sun.jna.Native;
+import com.sun.jna.NativeLong;
+import com.sun.jna.Pointer;
+import com.sun.jna.WString;
+import com.sun.jna.ptr.PointerByReference;
+
 /**
  * JabRef Main Class - The application gets started here.
  *
@@ -181,9 +187,44 @@ protected JabRef(String[] args) {
 		Globals.NEWLINE = Globals.prefs.get(JabRefPreferences.NEWLINE);
 		Globals.NEWLINE_LENGTH = Globals.NEWLINE.length();
 		
+		
+		// Set application user model id so that pinning JabRef to the Win7/8 taskbar works
+		// Based on http://stackoverflow.com/a/1928830
+		setCurrentProcessExplicitAppUserModelID(""JabRef.""+Globals.VERSION);
+	    //System.out.println(getCurrentProcessExplicitAppUserModelID());
+		
 		openWindow(processArguments(args, true));
 	}
     
+    // Do not use this code in release version, it contains some memory leaks
+    public static String getCurrentProcessExplicitAppUserModelID()
+    {
+      final PointerByReference r = new PointerByReference();
+
+      if (GetCurrentProcessExplicitAppUserModelID(r).longValue() == 0)
+      {
+        final Pointer p = r.getValue();
+
+
+        return p.getString(0, true); // here we leak native memory by lazyness
+      }      
+      return ""N/A"";
+    }
+
+    public static void setCurrentProcessExplicitAppUserModelID(final String appID)
+    {
+      if (SetCurrentProcessExplicitAppUserModelID(new WString(appID)).longValue() != 0)
+        throw new RuntimeException(""unable to set current process explicit AppUserModelID to: "" + appID);
+    }
+
+    private static native NativeLong GetCurrentProcessExplicitAppUserModelID(PointerByReference appID);
+    private static native NativeLong SetCurrentProcessExplicitAppUserModelID(WString appID);
+
+
+    static
+    {
+      Native.register(""shell32"");
+    }
 
 
     public Vector<ParserResult> processArguments(String[] args, boolean initialStartup) {, @@ -26,8 +26,7 @@ Name ""JabRef ${VERSION}""
 !define PRODUCT_NAME ""JabRef""
 !define PRODUCT_UNINST_KEY ""Software\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)""
 !define PRODUCT_LICENSE_FILE ""dist\gpl3.txt""
-
-
+!define AppUserModelId ""JabRef.${VERSION}""
 
 # Variables
 Var StartmenuFolder
@@ -179,6 +178,9 @@ Section ""-Installation actions"" SecInstallation
   ; register JabRef
   WriteRegStr SHCTX ""${REGKEY}"" Path $INSTDIR
   WriteUninstaller $INSTDIR\uninstall.exe
+  ; register application user model id so that JabRef works with Win7 taskbar
+  CreateShortCut ""$INSTDIR\$(^Name).lnk"" ""$INSTDIR\${PRODUCT_EXE}"" """" ""$INSTDIR\JabRef.exe"" 0 SW_SHOWNORMAL
+  WinShell::SetLnkAUMI ""$INSTDIR\$(^Name).lnk"" ""${AppUserModelId}""
   ; create shortcuts to startmenu
   SetOutPath ""$INSTDIR""
   CreateDirectory ""$SMPROGRAMS\$StartmenuFolder""
@@ -212,6 +214,10 @@ Section ""un.JabRef"" un.SecUnProgramFiles
   ; delete executables
   Delete $INSTDIR\${PRODUCT_EXE}
   Delete $INSTDIR\uninstall.exe
+  ; remove application user model id
+  WinShell::UninstAppUserModelId ""${AppUserModelId}""
+  WinShell::UninstShortcut ""$INSTDIR\$(^Name).lnk""
+  Delete ""$INSTDIR\$(^Name).lnk""
   ; delete dir only if empty
   RMDir $INSTDIR
   ; delete start menu entry, ","Previously, JabRef couldn't be pinned to the taskbar ([bug report](https://sourceforge.net/p/jabref/bugs/876/)). The reason is that, by wrapping JabRef with Launch4j, Windows thinks only Java is running and does not recognize JabRef as something separate.

Based on a [stackoverflow question](http://stackoverflow.com/questions/9330209/whats-the-best-way-to-start-java-applications-on-windows-7) the fix proceeds in two stages:
- During the setup, we create a (dummy) shortcut and set the [Application User Model Id](https://msdn.microsoft.com/en-us/library/windows/desktop/dd378459%28v=vs.85%29.aspx). For this, we use the [WinShell plugin](http://nsis.sourceforge.net/WinShell_plug-in) for NSIS.
- At program start, we notify Windows that this JabRef instance has the AppUserModelId specified in the setup. In order to do this, we invoke native commands using the Java Native Access (JNA) library.",Fix for bug #876: Windows 7/8/10 - Pinning Jabref to the taskbar now works
44,Tobias Diez,"['CHANGELOG', 'src/main/java/net/sf/jabref/BasePanel.java', 'src/main/java/net/sf/jabref/JabRefFrame.java', 'src/main/java/net/sf/jabref/JabRefPreferences.java']","@@ -1,4 +1,5 @@
 [master]
+    - Feature: Make it possible to hide the toolbar
     - Fix for bug #1270: Cleanup entries error 3
     - Fix for bug #919: Accents don't export to RTF (by ruy.takata)
     - Change the CrossRef content negotiation for bibtex DOI import (by sheffien), @@ -691,6 +691,12 @@ public void action() {
             }
         });
 
+        // The action for toggling the visibility of the toolbar
+        actions.put(""toggleToolbar"", new BaseAction() {
+            public void action() {
+            	frame.tlb.setVisible(! frame.tlb.isVisible());
+            }
+        });
 
         // action for collecting database strings from user
         actions.put(""dbConnect"", new DbConnectAction(this));, @@ -270,6 +270,9 @@ void addAction(Action a) {
       editStrings = new GeneralAction(""editStrings"", ""Edit strings"",
                                       Globals.lang(""Edit strings""),
                                       prefs.getKey(""Edit strings"")),
+	  toggleToolbar = new GeneralAction(""toggleToolbar"", ""Hide/show toolbar"",
+              Globals.lang(""Hide/show toolbar""),
+	          prefs.getKey(""Hide/show toolbar"")),
       toggleGroups = new GeneralAction(""toggleGroups"",
                                        ""Toggle groups interface"",
                                        Globals.lang(""Toggle groups interface""),
@@ -470,6 +473,8 @@ public void windowClosing(WindowEvent e) {
         
         initActions();
 
+        // Show the toolbar if it was visible at last shutdown:
+        tlb.setVisible(Globals.prefs.getBoolean(""toolbarVisible""));
       
       setBounds(GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds());
       if ( !prefs.getBoolean(""windowMaximised"") ) {
@@ -809,6 +814,7 @@ public void quit() {
       //prefs.putBoolean(""windowMaximised"", (getExtendedState()&MAXIMIZED_BOTH)>0);
       prefs.putBoolean(""windowMaximised"", (getExtendedState() == Frame.MAXIMIZED_BOTH));
       
+      prefs.putBoolean(""toolbarVisible"", tlb.isVisible());
       prefs.putBoolean(""searchPanelVisible"", sidePaneManager.isComponentVisible(""search""));
       // Store divider location for side pane:
       int width = contentPane.getDividerLocation();
@@ -1394,6 +1400,7 @@ private void fillMenu() {
       view.add(increaseFontSize);
       view.add(decreseFontSize);
       view.addSeparator();
+      view.add(toggleToolbar);
       view.add(toggleGroups);
       view.add(togglePreview);
       view.add(switchPreview);
@@ -1649,7 +1656,6 @@ private void createToolBar() {
     //Insets margin = new Insets(0, 0, 0, 0);
     //for (int i=0; i<tlb.getComponentCount(); i++)
     //  ((JButton)tlb.getComponentAtIndex(i)).setMargin(margin);
-
   }
 
   , @@ -373,6 +373,7 @@ private JabRefPreferences() {
         defaults.put(EDIT_GROUP_MEMBERSHIP_MODE, Boolean.FALSE);
         defaults.put(""highlightGroupsMatchingAny"", Boolean.FALSE);
         defaults.put(""highlightGroupsMatchingAll"", Boolean.FALSE);
+        defaults.put(""toolbarVisible"", Boolean.TRUE);
         defaults.put(""searchPanelVisible"", Boolean.FALSE);
         defaults.put(""defaultEncoding"", System.getProperty(""file.encoding""));
         defaults.put(""groupsVisibleRows"", 8);, ","In addition, I would suggest to hide the toolbar by default. ",Add entry under the 'View' menu to hide the toolbar
45,Adam Rehn,"['src/main/java/net/sf/jabref/AppearancePrefsTab.java', 'src/main/java/net/sf/jabref/JabRefPreferences.java', 'src/main/java/net/sf/jabref/gui/MainTable.java']","@@ -36,7 +36,7 @@
     private Font font = GUIGlobals.CURRENTFONT;
     private int oldMenuFontSize;
     private boolean oldOverrideFontSize;
-    private JTextField fontSize;//, customIconThemeFile;
+    private JTextField fontSize, rowPadding;//, customIconThemeFile;
 
     /**
      * Customization of appearance parameters.
@@ -50,6 +50,8 @@ public AppearancePrefsTab(JabRefPreferences prefs) {
         // Font sizes:
         fontSize = new JTextField(5);
 
+        // Row padding size:
+        rowPadding = new JTextField(5);
 
         colorCodes = new JCheckBox(
                    Globals.lang(""Color codes for required and optional fields""));
@@ -77,6 +79,11 @@ public AppearancePrefsTab(JabRefPreferences prefs) {
         builder.appendSeparator(Globals.lang(""Table appearance""));
         //builder.append(antialias);
         //builder.nextLine();
+        JPanel p2 = new JPanel();
+        p2.add(new JLabel(Globals.lang(""Table row height padding"") + "":""));
+        p2.add(rowPadding);
+        builder.append(p2);
+        builder.nextLine();
         builder.append(colorCodes);
         builder.nextLine();
         JButton fontButton = new JButton(Globals.lang(""Set table font""));
@@ -143,6 +150,7 @@ public void setValues() {
         colorCodes.setSelected(_prefs.getBoolean(""tableColorCodesOn""));
         //antialias.setSelected(_prefs.getBoolean(""antialias""));
         fontSize.setText("""" + _prefs.getInt(""menuFontSize""));
+        rowPadding.setText("""" + _prefs.getInt(""tableRowPadding""));
         oldMenuFontSize = _prefs.getInt(""menuFontSize"");
         overrideFonts.setSelected(_prefs.getBoolean(""overrideDefaultFonts""));
         oldOverrideFontSize = overrideFonts.isSelected();
@@ -183,20 +191,41 @@ public void storeSettings() {
         } catch (NumberFormatException ex) {
             ex.printStackTrace();
         }
+        try {
+            int padding = Integer.parseInt(rowPadding.getText());
+                _prefs.putInt(""tableRowPadding"", padding);
+        } catch (NumberFormatException ex) {
+            ex.printStackTrace();
+        }
     }
 
-    public boolean readyToClose() {
+    private boolean validateIntegerField(String fieldName, String fieldValue, String errorTitle)
+    {
         try {
-            // Test if font size is a number:
-            Integer.parseInt(fontSize.getText());
+            // Test if the field value is a number:
+            Integer.parseInt(fieldValue);
         } catch (NumberFormatException ex) {
             JOptionPane.showMessageDialog
                     (null, Globals.lang(""You must enter an integer value in the text field for"") + "" '"" +
-                            Globals.lang(""Menu and label font size"") + ""'"", Globals.lang(""Changed font settings""),
+                            Globals.lang(fieldName) + ""'"", Globals.lang(errorTitle),
                             JOptionPane.ERROR_MESSAGE);
             return false;
         }
         return true;
+    }
+
+    public boolean readyToClose() {
+        // Test if font size is a number:
+        if (validateIntegerField(""Menu and label font size"", fontSize.getText(), ""Changed font settings"") == false) {
+            return false;
+        }
+
+        // Test if row padding is a number:
+        if (validateIntegerField(""Table row height padding"", rowPadding.getText(), ""Changed table appearance settings"") == false) {
+            return false;
+        }
+        
+        return true;
 
     }
 , @@ -396,6 +396,7 @@ private JabRefPreferences() {
         defaults.put(""menuFontFamily"", ""Times"");
         defaults.put(""menuFontStyle"", java.awt.Font.PLAIN);
         defaults.put(""menuFontSize"", 11);
+        defaults.put(""tableRowPadding"", GUIGlobals.TABLE_ROW_PADDING);
         // Main table color settings:
         defaults.put(""tableBackground"", ""255:255:255"");
         defaults.put(""tableReqFieldBackground"", ""230:235:255"");, @@ -525,7 +525,7 @@ public void scrollTo(int y) {
      */
     public void updateFont() {
         setFont(GUIGlobals.CURRENTFONT);
-        setRowHeight(GUIGlobals.TABLE_ROW_PADDING + GUIGlobals.CURRENTFONT.getSize());
+        setRowHeight(Globals.prefs.getInt(""tableRowPadding"") + GUIGlobals.CURRENTFONT.getSize());
     }
 
     public void ensureVisible(int row) {, ","Previously, the padding added to the row height for the main table was hardcoded.
The padding value can now be modified by the user through the preferences dialog.
The old hardcoded value is used as the default value for the new preference.",Added the option to change the table row height padding.
46,Tobias Diez,"['CHANGELOG', 'src/main/java/net/sf/jabref/AppearancePrefsTab.java', 'src/main/java/net/sf/jabref/BasePanel.java', 'src/main/java/net/sf/jabref/EntryEditorTab.java', 'src/main/java/net/sf/jabref/FieldNameLabel.java', 'src/main/java/net/sf/jabref/GUIGlobals.java', 'src/main/java/net/sf/jabref/JabRefFrame.java', 'src/main/java/net/sf/jabref/JabRefPreferences.java', 'src/main/java/net/sf/jabref/SidePaneComponent.java', 'src/main/java/net/sf/jabref/gui/MainTable.java']","@@ -1,4 +1,6 @@
 [master]
+    - Some UI updates (mainly removing unnecessary boundaries)
+    - Feature: Gridlines are now optional (and disabled by default)
     - Fix for bug #1248: Key bindings not modified
     - Fix for bug #876: Windows 7/8/10 - Pinning Jabref to the taskbar
     - Feature: Option to change the table row height padding, @@ -31,7 +31,7 @@
 class AppearancePrefsTab extends JPanel implements PrefsTab {
 
     JabRefPreferences _prefs;
-    private JCheckBox colorCodes, overrideFonts;//, useCustomIconTheme;
+    private JCheckBox colorCodes, overrideFonts, showGrid;//, useCustomIconTheme;
     private ColorSetupPanel colorPanel = new ColorSetupPanel();
     private Font font = GUIGlobals.CURRENTFONT;
     private int oldMenuFontSize;
@@ -59,6 +59,8 @@ public AppearancePrefsTab(JabRefPreferences prefs) {
                   (""Use antialiasing font""));*/
         overrideFonts = new JCheckBox(Globals.lang(""Override default font settings""));
 
+        showGrid = new JCheckBox(Globals.lang(""Show gridlines""));
+        
         //useCustomIconTheme = new JCheckBox(Globals.lang(""Use custom icon theme""));
         //customIconThemeFile = new JTextField();
         FormLayout layout = new FormLayout
@@ -86,6 +88,8 @@ public AppearancePrefsTab(JabRefPreferences prefs) {
         builder.nextLine();
         builder.append(colorCodes);
         builder.nextLine();
+        builder.append(showGrid);
+        builder.nextLine();
         JButton fontButton = new JButton(Globals.lang(""Set table font""));
         builder.append(fontButton);
         builder.nextLine();
@@ -157,6 +161,7 @@ public void setValues() {
         fontSize.setEnabled(overrideFonts.isSelected());
         //useCustomIconTheme.setSelected(_prefs.getBoolean(""useCustomIconTheme""));
         //customIconThemeFile.setText(_prefs.get(""customIconThemeFile""));
+        showGrid.setSelected(_prefs.getBoolean(""tableShowGrid""));
         colorPanel.setValues();
     }
 
@@ -175,6 +180,7 @@ public void storeSettings() {
         _prefs.putBoolean(""overrideDefaultFonts"", overrideFonts.isSelected());
         GUIGlobals.CURRENTFONT = font;
         colorPanel.storeSettings();
+        _prefs.putBoolean(""tableShowGrid"", showGrid.isSelected());
         try {
             int size = Integer.parseInt(fontSize.getText());
             if ((overrideFonts.isSelected() != oldOverrideFontSize) ||
@@ -187,7 +193,6 @@ public void storeSettings() {
                         Globals.lang(""Changed font settings""),
                         JOptionPane.WARNING_MESSAGE);
             }
-
         } catch (NumberFormatException ex) {
             ex.printStackTrace();
         }, @@ -16,6 +16,7 @@
 package net.sf.jabref;
 
 import java.awt.BorderLayout;
+import java.awt.Color;
 import java.awt.Component;
 import java.awt.GridBagConstraints;
 import java.awt.GridBagLayout;
@@ -45,6 +46,7 @@
 import java.util.logging.Logger;
 
 import javax.swing.AbstractAction;
+import javax.swing.BorderFactory;
 import javax.swing.JComponent;
 import javax.swing.JFileChooser;
 import javax.swing.JOptionPane;
@@ -2084,6 +2086,10 @@ protected boolean accept(Component c) {
 
         splitPane.setTopComponent(mainTable.getPane());
 
+        // Remove borders
+        splitPane.setBorder(BorderFactory.createEmptyBorder());
+        setBorder(BorderFactory.createEmptyBorder());
+                
         //setupTable();
         // If an entry is currently being shown, make sure it stays shown,
         // otherwise set the bottom component to null., @@ -26,6 +26,7 @@
 import java.util.List;
 
 import javax.swing.ActionMap;
+import javax.swing.BorderFactory;
 import javax.swing.InputMap;
 import javax.swing.JComponent;
 import javax.swing.JPanel;
@@ -129,7 +130,7 @@ void setupPanel(JabRefFrame frame, BasePanel bPanel, boolean addKeyField,
 
         DefaultFormBuilder builder = new DefaultFormBuilder
                 (new FormLayout(colSpec, rowSpec), panel);
-
+        
         for (int i = 0; i < fields.length; i++) {
             // Create the text area:
             int editorType = BibtexFields.getEditorType(fields[i]);, @@ -30,8 +30,9 @@ public FieldNameLabel(String name) {
       setVerticalAlignment(TOP);
     //setFont(GUIGlobals.fieldNameFont);
     setForeground(GUIGlobals.entryEditorLabelColor);
-      setBorder(BorderFactory.createMatteBorder(1,0,0,0, Color.GRAY));
+    //  setBorder(BorderFactory.createMatteBorder(1,0,0,0, Color.GRAY));
     //setBorder(BorderFactory.createEtchedBorder());
+    setBorder(BorderFactory.createEmptyBorder());
   }
 
   public void paintComponent(Graphics g) {, @@ -78,7 +78,7 @@
 	public static final int
 	SPLIT_PANE_DIVIDER_SIZE = 4,
 	SPLIT_PANE_DIVIDER_LOCATION = 145 + 15, // + 15 for possible scrollbar.
-	TABLE_ROW_PADDING = 4,
+	TABLE_ROW_PADDING = 8,
 	KEYBIND_COL_0 = 200,
 	KEYBIND_COL_1 = 80, // Added to the font size when determining table
 	MAX_CONTENT_SELECTOR_WIDTH = 240; // The max width of the combobox for content selectors., @@ -1797,7 +1797,7 @@ public void addTab(BasePanel bp, File file, boolean raisePanel) {
         } else {
             title = file.getName();
         }
-        tabbedPane.add(title, bp);
+        tabbedPane.add(""<html><div style='padding:2px 5px;'>"" + title + ""</div></html>"", bp);
         tabbedPane.setToolTipTextAt(tabbedPane.getTabCount()-1,
                 file != null ? file.getAbsolutePath() : null);
         if (raisePanel) {, @@ -398,6 +398,7 @@ private JabRefPreferences() {
         defaults.put(""menuFontStyle"", java.awt.Font.PLAIN);
         defaults.put(""menuFontSize"", 11);
         defaults.put(""tableRowPadding"", GUIGlobals.TABLE_ROW_PADDING);
+        defaults.put(""tableShowGrid"", Boolean.FALSE);
         // Main table color settings:
         defaults.put(""tableBackground"", ""255:255:255"");
         defaults.put(""tableReqFieldBackground"", ""230:235:255"");, @@ -21,6 +21,7 @@
 import java.awt.event.ActionListener;
 import java.net.URL;
 
+import javax.swing.BorderFactory;
 import javax.swing.ImageIcon;
 import javax.swing.JButton;
 import javax.swing.JToolBar;
@@ -50,7 +51,7 @@ public SidePaneComponent(SidePaneManager manager, URL icon, String title) {
 		close.addActionListener(new CloseButtonListener());
 		setToolBar(tlb);
 		// setBorder(BorderFactory.createEtchedBorder());
-
+		setBorder(BorderFactory.createEmptyBorder());
 		// setBorder(BorderFactory.createMatteBorder(1,1,1,1,java.awt.Color.green));
 		// setPreferredSize(new java.awt.Dimension
 		// (GUIGlobals.SPLIT_PANE_DIVIDER_LOCATION, 200));, @@ -16,6 +16,7 @@
 package net.sf.jabref.gui;
 
 import java.awt.Color;
+import java.awt.Dimension;
 import java.awt.Rectangle;
 import java.awt.event.ActionEvent;
 import java.awt.event.ActionListener;
@@ -25,6 +26,7 @@
 
 import javax.swing.*;
 import javax.swing.plaf.TableUI;
+import javax.swing.table.DefaultTableCellRenderer;
 import javax.swing.table.TableCellRenderer;
 import javax.swing.table.TableColumnModel;
 
@@ -84,6 +86,7 @@ public MainTable(MainTableFormat tableFormat, EventList<BibtexEntry> list, JabRe
 
         addFocusListener(Globals.focusListener);
         setAutoResizeMode(Globals.prefs.getInt(""autoResizeMode""));
+      
         this.tableFormat = tableFormat;
         this.panel = panel;
         // This SortedList has a Comparator controlled by the TableComparatorChooser
@@ -109,8 +112,16 @@ public MainTable(MainTableFormat tableFormat, EventList<BibtexEntry> list, JabRe
         selectionModel = new EventSelectionModel<BibtexEntry>(sortedForGrouping);
         setSelectionModel(selectionModel);
         pane = new JScrollPane(this);
+        pane.setBorder(BorderFactory.createEmptyBorder());
         pane.getViewport().setBackground(Globals.prefs.getColor(""tableBackground""));
         setGridColor(Globals.prefs.getColor(""gridColor""));
+        if(Globals.prefs.getBoolean(""tableShowGrid""))
+        	setShowGrid(true);
+        else
+        {
+	        setShowGrid(false);
+	        setIntercellSpacing(new Dimension(0, 0));
+        }
 
         this.setTableHeader(new PreventDraggingJTableHeader(this.getColumnModel()));
 
@@ -217,7 +228,7 @@ public JScrollPane getPane() {
     public TableCellRenderer getCellRenderer(int row, int column) {
         
         int score = -3;
-        TableCellRenderer renderer = defRenderer;
+        DefaultTableCellRenderer renderer = defRenderer;
 
         int status = getCellStatus(row, column);
 
@@ -256,14 +267,15 @@ else if (column == 0) {
                 } else
                     renderer = compRenderer;
             }
+            renderer.setHorizontalAlignment( JLabel.CENTER );
         }
         else if (tableColorCodes) {
             if (status == REQUIRED)
                 renderer = reqRenderer;
             else if (status == OPTIONAL)
                 renderer = optRenderer;
             else if (status == BOOLEAN)
-                renderer = getDefaultRenderer(Boolean.class);
+                renderer = (DefaultTableCellRenderer) getDefaultRenderer(Boolean.class);
         }
 
         // For MARKED feature:, ",Cleaned-up version of older pull request https://github.com/JabRef/jabref/pull/43,Add option to hide/show gridlines in the main table
47,Adam Rehn,['src/main/java/net/sf/jabref/SidePaneManager.java'],"@@ -205,10 +205,12 @@ public PreferredIndexSort() {
 		public int compare(SidePaneComponent comp1, SidePaneComponent comp2) {
 			String comp1Name = getComponentName(comp1);
 			String comp2Name = getComponentName(comp2);
-			return Integer.compare(
-					preferredPositions.getOrDefault(comp1Name, 0),
-					preferredPositions.getOrDefault(comp2Name, 0)
-			);
+			
+			// Manually provide default values, since getOrDefault() doesn't exist prior to Java 8
+			int pos1 = (preferredPositions.containsKey(comp1Name) ? preferredPositions.get(comp1Name) : 0);
+			int pos2 = (preferredPositions.containsKey(comp2Name) ? preferredPositions.get(comp2Name) : 0);
+			
+			return Integer.compare(pos1, pos2);
 		}
 	}
 	, ","Side pane panels now feature an up arrow button and a down arrow button immediately to the left of the close button. These buttons allow panes to be swapped with the pane above or below them, respectively.

Whenever the panes are reordered, the current position of each visible pane is recorded in the application preferences, so the user's custom ordering can be preserved when JabRef is next run.",Added the ability to reorder the panels in the side pane.
48,Adam Rehn,"['src/main/java/net/sf/jabref/BasePanel.java', 'src/main/java/net/sf/jabref/export/FileActions.java', 'src/main/java/net/sf/jabref/export/SaveDatabaseAction.java']","@@ -70,6 +70,7 @@
 import net.sf.jabref.export.SaveDatabaseAction;
 import net.sf.jabref.export.SaveException;
 import net.sf.jabref.export.SaveSession;
+import net.sf.jabref.export.FileActions.DatabaseSaveType;
 import net.sf.jabref.export.layout.Layout;
 import net.sf.jabref.export.layout.LayoutHelper;
 import net.sf.jabref.external.AttachFileAction;
@@ -411,9 +412,9 @@ public void action() throws Throwable {
             }
         });
 
-        actions.put(""saveSelectedAs"", new SaveSelectedAction(false));
+        actions.put(""saveSelectedAs"", new SaveSelectedAction(FileActions.DatabaseSaveType.DEFAULT));
         
-        actions.put(""saveSelectedAsPlain"", new SaveSelectedAction(true));
+        actions.put(""saveSelectedAsPlain"", new SaveSelectedAction(FileActions.DatabaseSaveType.PLAIN_BIBTEX));
         
         // The action for copying selected entries.
         actions.put(""copy"", new BaseAction() {
@@ -1696,7 +1697,7 @@ public void runCommand(String _command) {
       //}).start();
     }
 
-    private boolean saveDatabase(File file, boolean selectedOnly, String encoding, boolean savePlainBibtex) throws SaveException {
+    private boolean saveDatabase(File file, boolean selectedOnly, String encoding, FileActions.DatabaseSaveType saveType) throws SaveException {
         SaveSession session;
         frame.block();
         try {
@@ -1705,7 +1706,7 @@ private boolean saveDatabase(File file, boolean selectedOnly, String encoding, b
                                            Globals.prefs, false, false, encoding, false);
             else
                 session = FileActions.savePartOfDatabase(database, metaData, file,
-                                               Globals.prefs, mainTable.getSelectedEntries(), encoding, savePlainBibtex);
+                                               Globals.prefs, mainTable.getSelectedEntries(), encoding, saveType);
 
         } catch (UnsupportedCharsetException ex2) {
             JOptionPane.showMessageDialog(frame, Globals.lang(""Could not save file. ""
@@ -1755,7 +1756,7 @@ private boolean saveDatabase(File file, boolean selectedOnly, String encoding, b
                         JOptionPane.QUESTION_MESSAGE, null, Globals.ENCODINGS, encoding);
                 if (choice != null) {
                     String newEncoding = (String)choice;
-                    return saveDatabase(file, selectedOnly, newEncoding, savePlainBibtex);
+                    return saveDatabase(file, selectedOnly, newEncoding, saveType);
                 } else
                     commit = false;
             } else if (answer == JOptionPane.CANCEL_OPTION)
@@ -3078,10 +3079,10 @@ public void setBackAndForwardEnabledState() {
 
     private class SaveSelectedAction extends BaseAction {
     	
-    	private boolean savePlainBibtex;
+    	private DatabaseSaveType saveType;
     	
-    	public SaveSelectedAction(boolean savePlainBibtex) {
-    		this.savePlainBibtex = savePlainBibtex;
+    	public SaveSelectedAction(DatabaseSaveType saveType) {
+    		this.saveType = saveType;
     	}
     	
         public void action() throws Throwable {
@@ -3097,7 +3098,7 @@ public void action() throws Throwable {
                     Globals.lang(""Save database""), JOptionPane.OK_CANCEL_OPTION)
                    == JOptionPane.OK_OPTION)) {
 
-                saveDatabase(expFile, true, Globals.prefs.get(""defaultEncoding""), savePlainBibtex);
+                saveDatabase(expFile, true, Globals.prefs.get(""defaultEncoding""), saveType);
                 //runCommand(""save"");
                 frame.getFileHistory().newFile(expFile.getPath());
                 frame.output(Globals.lang(""Saved selected to"")+"" '"", @@ -55,7 +55,11 @@
 import ca.odell.glazedlists.SortedList;
 
 public class FileActions {
-
+	
+	public enum DatabaseSaveType {
+		DEFAULT, PLAIN_BIBTEX
+	}
+	
     private static Pattern refPat = Pattern.compile(""(#[A-Za-z]+#)""); // Used to detect string references in strings
     private static BibtexString.Type previousStringType;
 
@@ -357,7 +361,7 @@ public SaveSettings(boolean isSaveOperation, MetaData metaData) {
      * @return A List containing warnings, if any.
      */
     public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData metaData,
-            File file, JabRefPreferences prefs, BibtexEntry[] bes, String encoding, boolean writePlainBibtex) throws SaveException {
+            File file, JabRefPreferences prefs, BibtexEntry[] bes, String encoding, DatabaseSaveType saveType) throws SaveException {
 
         TreeMap<String, BibtexEntryType> types = new TreeMap<String, BibtexEntryType>(); // Map
         // to
@@ -382,7 +386,7 @@ public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData m
             // Define our data stream.
             VerifyingWriter fw = session.getWriter();
 
-            if (!writePlainBibtex) {
+            if (saveType != DatabaseSaveType.PLAIN_BIBTEX) {
             	// Write signature.
             	writeBibFileHeader(fw, encoding);
             }
@@ -425,7 +429,7 @@ public static SaveSession savePartOfDatabase(BibtexDatabase database, MetaData m
             }
 
             // Write meta data.
-            if (!writePlainBibtex && metaData != null) {
+            if (saveType != DatabaseSaveType.PLAIN_BIBTEX && metaData != null) {
                 metaData.writeMetaData(fw);
             }
 , @@ -218,7 +218,7 @@ private boolean saveDatabase(File file, boolean selectedOnly, String encoding) t
                         Globals.prefs, false, false, encoding, false);
             else
                 session = FileActions.savePartOfDatabase(panel.database(), panel.metaData(), file,
-                        Globals.prefs, panel.getSelectedEntries(), encoding, false);
+                        Globals.prefs, panel.getSelectedEntries(), encoding, FileActions.DatabaseSaveType.DEFAULT);
 
         } catch (UnsupportedCharsetException ex2) {
             JOptionPane.showMessageDialog(frame, Globals.lang(""Could not save file. "", ","Adds a new menu option called ""Save selected as plain BibTeX ..."".

This option behaves the same way as the existing ""Save selected as ..."" option, except that the JabRef metadata and signature comment are not written to the resulting output file.",Add the option to save selected entries as plain BibTeX.
49,Adam Rehn,['src/main/java/net/sf/jabref/JabRefFrame.java'],"@@ -1686,7 +1686,7 @@ public void stopShowingSearchResults() {
     protected void initActions() {
         openDatabaseOnlyActions = new LinkedList<Object>();
         openDatabaseOnlyActions.addAll(Arrays.asList(manageSelectors,
-                mergeDatabaseAction, newSubDatabaseAction, close, save, saveAs, saveSelectedAs, undo,
+                mergeDatabaseAction, newSubDatabaseAction, close, save, saveAs, saveSelectedAs, saveSelectedAsPlain, undo,
                 redo, cut, delete, copy, paste, mark, unmark, unmarkAll, editEntry,
                 selectAll, copyKey, copyCiteKey, copyKeyAndTitle, editPreamble, editStrings, toggleGroups, toggleSearch,
                 makeKeyAction, normalSearch,, ","The ""Save selected as plain BibTeX..."" menu option is now correctly enabled and disabled based on whether or not a database is currently open.

I haven't included a CHANGELOG entry, since this commit effectively just corrects a minor oversight on my behalf when adding this menu entry in [a previous pull request](https://github.com/JabRef/jabref/pull/48), but I'm happy to add one if deemed necessary.","Minor UI Fix: Add ""Save selected as plain BibTeX..."" to the list of open database-only actions."
50,wpoely86,['src/main/java/net/sf/jabref/journals/JournalAbbreviations.java'],"@@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2015 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -91,7 +91,7 @@ public String dotsToNodots(String name) {
      * @return The abbreviated name, or null if it couldn't be found.
      */
     public String getAbbreviatedName(String journalName, boolean withDots) {
-        String s = journalName.toLowerCase();
+        String s = journalName.toLowerCase().trim();
         String abbr;
         if (fullNameKeyed.containsKey(s)) {
             abbr = fullNameKeyed.get(s);, ","Some journals put trailing space in the journal names when
exporting a bibtex citation. This causes the abbreviation
to fail. This should fix that.",Trim journal names before looking up the Abbreviation
51,wpoely86,['src/main/resources/resource/journalList.txt'],"None, ","I've used this list of https://github.com/wpoely86/jabref-abbreviations

Created by:
`cat journalList.txt list-abbreviations.txt | LC_COLLATE=C sort | uniq > journalList.txt`",update of the journal list
52,wpoely86,['src/main/resources/resource/journalList.txt'],"None, ",Follow up from #51. I forgot two journals.,Added two journals to abbreviation list
53,Tobias Diez,"['CHANGELOG', 'src/main/java/net/sf/jabref/AdvancedTab.java']","@@ -1,4 +1,5 @@
 [master]
+    - Add some predefined look and feels in preference window
     - Fixes #1131: MacOSX: JabRef minimizes when clicking on x
     - Dropped jayatana version 1.2.4 as version 2.x superseeds it
     - Feature: Trim journal names before looking up the abbreviation, @@ -40,7 +40,8 @@
     JLabel lab;
     JCheckBox useDefault, useRemoteServer, useNativeFileDialogOnMac, filechooserDisableRename,
             useIEEEAbrv, biblatexMode;
-    JTextField className, remoteServerPort;
+    JComboBox<String> className;
+    JTextField remoteServerPort;
     JButton def1 = new JButton(Globals.lang(""Default"")),
         def2 = new JButton(Globals.lang(""Default""));
     JPanel p1 = new JPanel(),
@@ -69,8 +70,17 @@ public AdvancedTab(JabRefPreferences prefs, HelpDialog diag) {
     useIEEEAbrv = new JCheckBox(Globals.lang(""Use IEEE LaTeX abbreviations""));
     biblatexMode = new JCheckBox(Globals.lang(""BibLaTeX mode""));
     remoteServerPort = new JTextField();
-    className = new JTextField(50);
-    final JTextField clName = className;
+    String[] lookAndFeels = {
+    	""com.jgoodies.plaf.plastic.Plastic3DLookAndFeel"",
+    	""com.sun.java.swing.plaf.windows.WindowsLookAndFeel"",
+    	""com.sun.java.swing.plaf.motif.MotifLookAndFeel"",
+    	""javax.swing.plaf.mac.MacLookAndFeel"",
+    	""com.sun.java.swing.plaf.gtk.GTKLookAndFeel"",
+    	""javax.swing.plaf.metal.MetalLookAndFeel""
+    };
+    className = new JComboBox<String>(lookAndFeels);
+    className.setEditable(true);
+    final JComboBox<String> clName = className;
     useDefault.addChangeListener(new ChangeListener() {
         public void stateChanged(ChangeEvent e) {
             clName.setEnabled(((JCheckBox)e.getSource()).isSelected());
@@ -173,7 +183,7 @@ public void setValues() {
         oldUseDef = _prefs.getBoolean(""useDefaultLookAndFeel"");
         oldLnf = _prefs.get(""lookAndFeel"");
         useDefault.setSelected(!oldUseDef);
-        className.setText(oldLnf);
+        className.setSelectedItem(oldLnf);
         className.setEnabled(!oldUseDef);
         useRemoteServer.setSelected(_prefs.getBoolean(""useRemoteServer""));
         oldPort = _prefs.getInt(""remoteServerPort"");
@@ -193,7 +203,7 @@ public void setValues() {
 
     public void storeSettings() {
         _prefs.putBoolean(""useDefaultLookAndFeel"", !useDefault.isSelected());
-        _prefs.put(""lookAndFeel"", className.getText());
+        _prefs.put(""lookAndFeel"", className.getSelectedItem().toString());
         _prefs.putBoolean(""useNativeFileDialogOnMac"", useNativeFileDialogOnMac.isSelected());
         _prefs.putBoolean(""filechooserDisableRename"", filechooserDisableRename.isSelected());
         UIManager.put(""FileChooser.readOnly"", filechooserDisableRename.isSelected());
@@ -228,7 +238,7 @@ public void storeSettings() {
         _prefs.putBoolean(""biblatexMode"", biblatexMode.isSelected());
 
         if ((useDefault.isSelected() == oldUseDef) ||
-            !oldLnf.equals(className.getText())) {
+            !oldLnf.equals(className.getSelectedItem().toString())) {
             JOptionPane.showMessageDialog(null, 
             		Globals.lang(""You have changed the look and feel setting."")
             		.concat("" ""), ","Added some predefined look and feels in preference window (some of them are documented [here](https://sourceforge.net/p/jabref/mailman/message/32703401/), but are not working by default on windows).",Added some predefined look and feels in preference window 
54,Tobias Diez,"['CHANGELOG', 'src/main/java/net/sf/jabref/AdvancedTab.java', 'src/main/java/net/sf/jabref/JabRef.java']","@@ -1,5 +1,6 @@
 [master]
-    - Add some predefined look and feels in preference window
+    - Fix for bug #1278 Crash after changing LookAndFeel (showing a proper error message if L&F is not available)
+    - Adds some predefined look and feels in preference window (lists only available L&Fs)
     - Fixes #1131: MacOSX: JabRef minimizes when clicking on x
     - Dropped jayatana version 1.2.4 as version 2.x superseeds it
     - Feature: Trim journal names before looking up the abbreviation, @@ -16,6 +16,8 @@
 package net.sf.jabref;
 
 import java.awt.BorderLayout;
+import java.util.ArrayList;
+import java.util.List;
 
 import javax.swing.*;
 import javax.swing.event.ChangeEvent;
@@ -70,15 +72,24 @@ public AdvancedTab(JabRefPreferences prefs, HelpDialog diag) {
     useIEEEAbrv = new JCheckBox(Globals.lang(""Use IEEE LaTeX abbreviations""));
     biblatexMode = new JCheckBox(Globals.lang(""BibLaTeX mode""));
     remoteServerPort = new JTextField();
-    String[] lookAndFeels = {
+    String[] possibleLookAndFeels = {
     	""com.jgoodies.plaf.plastic.Plastic3DLookAndFeel"",
     	""com.sun.java.swing.plaf.windows.WindowsLookAndFeel"",
     	""com.sun.java.swing.plaf.motif.MotifLookAndFeel"",
     	""javax.swing.plaf.mac.MacLookAndFeel"",
     	""com.sun.java.swing.plaf.gtk.GTKLookAndFeel"",
     	""javax.swing.plaf.metal.MetalLookAndFeel""
     };
-    className = new JComboBox<String>(lookAndFeels);
+    // Only list L&F which are available
+    List<String> lookAndFeels = new ArrayList<String>();
+    for (String lf : possibleLookAndFeels) {
+    	try {
+    		// Try to find L&F, throws exception if not successful
+    		Class.forName(lf);
+    		lookAndFeels.add(lf);
+    	} catch(ClassNotFoundException e) {}
+    }
+    className = new JComboBox<String>(lookAndFeels.toArray(new String[lookAndFeels.size()]));
     className.setEditable(true);
     final JComboBox<String> clName = className;
     useDefault.addChangeListener(new ChangeListener() {, @@ -614,24 +614,36 @@ protected ParserResult fetch(String fetchCommand) {
     
     private void setLookAndFeel() {
         try {
-            String systemLnF;
-            // * Look first into the Preferences
-            // * Fallback to the System Look & Fell
+            String lookFeel;
+        	String systemLnF = UIManager.getSystemLookAndFeelClassName();
+            
             if (Globals.prefs.getBoolean(""useDefaultLookAndFeel"")) {
-                systemLnF = UIManager.getSystemLookAndFeelClassName();
+            	// Use system Look & Feel by default
+            	lookFeel = systemLnF;
             } else {
-                systemLnF = Globals.prefs.get(""lookAndFeel"");
+            	lookFeel = Globals.prefs.get(""lookAndFeel"");
             }
 
             // At all cost, avoid ending up with the Metal look and feel:
-            if (systemLnF.equals(""javax.swing.plaf.metal.MetalLookAndFeel"")) {
+            if (lookFeel.equals(""javax.swing.plaf.metal.MetalLookAndFeel"")) {
                 Plastic3DLookAndFeel lnf = new Plastic3DLookAndFeel();
                 Plastic3DLookAndFeel.setCurrentTheme(new SkyBluer());
                 com.jgoodies.looks.Options.setPopupDropShadowEnabled(true);
                 UIManager.setLookAndFeel(lnf);
             }
             else {
-                UIManager.setLookAndFeel(systemLnF);
+            	try {
+            		UIManager.setLookAndFeel(lookFeel);
+            	} catch(ClassNotFoundException e) {
+            		// specified look and feel does not exist on the classpath, so use system l&f
+            		UIManager.setLookAndFeel(systemLnF);
+            		// also set system l&f as default
+            		Globals.prefs.put(""lookAndFeel"", systemLnF);
+            		// notify the user
+            		JOptionPane.showMessageDialog(jrf, Globals.lang(""Unable to find the requested Look & Feel and thus the default one is used.""),
+                            Globals.lang(""Warning""),
+                            JOptionPane.WARNING_MESSAGE);
+            	}
             }
         } catch (Exception e) {
             e.printStackTrace();, ","Now a proper error message is shown at start if the L&F is not available.
Moreover, only available L&Fs are listed in the preference window.",Fix for Bug #1278 Crash after changing LookAndFeel
55,,"['src/main/java/net/sf/jabref/JabRefFrame.java', 'src/main/resources/help/About.html']","@@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2012 JabRef contributors.
+/*  Copyright (C) 2003-2015 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or, @@ -87,6 +87,7 @@ <h2>Contributions from:</h2>
         Alex Montgomery,
         Saverio Mori,
         Ambrogio Oliva,
+        Nicolas Pavillon,
         Brian Quistorff,
         Ward Poelmans,
         Stephan Rave,, ","These changes creates a new compilation target for JabRef, in order to make a Mac application bundle which can work with the newer Oracle JVM for Mac (versions 7 and 8), and change the code of the wrapper to integrate the Apple events with the non-deprecated API in com.apple.eawt.

Main changes are:
- Create a new target based on Oracle's appbundler to create a bundle compatible with newer JVMs. (not compatible with Apple's JVM).
- Move the older target to Jabref-legacy.app.
- Remove the old deprecated wrapper OSXAdapter, which does not work with Oracle's JVM.
- Create new wrapper based on com.apple.eawt (compatible with both JVMs).
- Improve the quit behaviour.
- Add support for the Fullscreen feature.

The code changes are compatible with both Oracle's JVMs and Apple legacy one, but the legacy bundle is currently broken as the code requires Java 1.7+. Tested with Apple's JVM (1.6.0_65) and Oracle's JVM (1.8.0_45).",Mac bundle and integration for Java 7
56,,['src/main/java/net/sf/jabref/JabRefFrame.java'],"@@ -449,8 +449,6 @@ public JabRefFrame() {
   private void init() {
 	    tabbedPane = new DragDropPopupPane(manageSelectors, databaseProperties, bibtexKeyPattern);
 
-        macOSXRegistration();
-
         UIManager.put(""FileChooser.readOnly"", Globals.prefs.getBoolean(""filechooserDisableRename""));
 
         MyGlassPane glassPane = new MyGlassPane();
@@ -580,6 +578,11 @@ public void stateChanged(ChangeEvent e) {
                 }
             }
         });
+        
+        //Note: The registration of Apple event is at the end of initialization, because
+        //if the events happen too early (ie when the window is not initialized yet), the
+        //opened (double-clicked) documents are not displayed.
+        macOSXRegistration();
     }
 
     public void setWindowTitle() {, ",Moving the registration of Apple events ensures that double-clicking on a file to open it works even if JabRef is not yet running.,Fix double-click opening of files on Mac
57,The Gitter Badger,['README.md'],"@@ -1,5 +1,7 @@
 # JabRef 2.11 development version
 
+[![Join the chat at https://gitter.im/JabRef/jabref](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/JabRef/jabref?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)
+
 [![Build Status](https://api.travis-ci.org/JabRef/jabref.png?branch=master)](https://travis-ci.org/JabRef/jabref)
 
 This version is a development version. Features may not work as expected., ","### JabRef/jabref now has a Chat Room on Gitter

@simonharrer has just created a chat room. You can visit it here: [https://gitter.im/JabRef/jabref](https://gitter.im/JabRef/jabref?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&content=body_link).

This pull-request adds this badge to your README.md:

[![Gitter](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/JabRef/jabref?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=body_badge)

If my aim is a little off, please [let me know](https://github.com/gitterHQ/readme-badger/issues).

Happy chatting.

PS: [Click here](https://gitter.im/settings/badger/opt-out) if you would prefer not to receive automatic pull-requests from Gitter in future.",Add a Gitter chat badge to README.md
58,,['build.gradle'],"@@ -97,7 +97,7 @@ dependencies {
 // use ant targets with prefix antTargets.XXXXX
 ant.importBuild ""build-wrapper.xml""
 // add jars from this classpath to the classpath for the ant build
-ant.references.jars.setFiles(configurations.compile.asPath.replace("";"","" ""))
+ant.references.jars.setFiles(configurations.compile.asPath.replace("":"","" ""))
 
 sourceCompatibility = 1.6
 mainClassName = ""net.sf.jabref.JabRefMain"", ",NaN,Fixed typo that prevented ant builds
60,Igor Steinmacher,['src/main/resources/resource/Menu_pt_BR.properties'],"@@ -128,6 +128,6 @@ Merge_entries=Unir_entradas
 Open_folder=Abrir_diret\u00f3rio
 Find_unlinked_files...=Encontrar_arquivos_n\u00e3o_referenciados
 
-Hide/show_toolbar=
+Hide/show_toolbar=Mostrar/esconder_barra_de_ferramentas
 
-Fork_me_on_GitHub=
+Fork_me_on_GitHub=Criar_um_fork_no_GitHub, ",NaN,Updating the translation entries from Brazilian Portuguese (pt_BR)
61,Jörg Lenhard,['src/main/java/net/sf/jabref/net/Cookie.java'],"@@ -28,8 +28,11 @@
     private Date expires;
     private String path;
 
+    /**
+     * DateFormats should not be reused among instances (or rather among threads), because they are not thread-safe.
+     * If they are shared, their usage should be synchronized.
+     */
     private final DateFormat expiresFormat1 = new SimpleDateFormat(""E, dd MMM yyyy k:m:s 'GMT'"", Locale.US);
-
     private final DateFormat expiresFormat2 = new SimpleDateFormat(""E, dd-MMM-yyyy k:m:s 'GMT'"", Locale.US);
 
 , ","I ran Findbugs on the source tree, had a look at several of the warnings and fixed those that were fixable from my point of view. When I touched a class, I also tried to eliminate Eclipse warnings if they were present.

This is really just a minor bump in code quality. Many warnings remain to be fixed.",Fixes several FindBugs warnings and improve code quality
62,Jörg Lenhard,['used-libaries.txt'],"@@ -64,7 +64,7 @@ Note:    This should fetch org.jvnet.mimepull:mimepull; maybe that version is br
 Id:      mysql:mysql-connector-java
 Project: MySQL Connector/J
 URL:     http://www.mysql.de/downloads/connector/j/
-License: GPLv2! and Oracle�s FOSS License Exception (http://www.mysql.com/about/legal/licensing/foss-exception/) allowing GPLv3
+License: GPLv2! and Oracle�s FOSS License Exception (http://www.mysql.com/about/legal/licensing/foss-exception/) allowing GPLv3
 
 Id:      net.java.dev.glazedlists:glazedlists_java15
 Project: Glazed Lists
@@ -111,18 +111,16 @@ Project: OpenOffice.org
 URL:     http://www.openoffice.org/api/SDK
 License: LGPL 3.0
 
+Id:      org.swinglabs:swingx
+Project: SwingX
+URL:     https://swingx.java.net/
+License: LGPL 3.0
+
 Path:    org.postgresql:postgresql
 Project: PostgreSQL JDBC Driver
 URL:     http://jdbc.postgresql.org/download.html
 License: BSD
 
-
-
-Path:    lib/jgoodies/com.jgoodies.uif_lite-2.1.4.jar
-Project: com.jgoodies.uif_lite
-URL:     https://github.com/JabRef/com.jgoodies.uif_lite
-License: BSD
-
 Path:    lib/microba.jar
 Project: Microba
 URL:     https://github.com/tdbear/microba, ","This pull request replaces two classes that were contained in a local self-made jgoodies dependency. Thereby, the local dependency can be deleted.
- `SimpleInternalFrame` is replaced by `JXTitledPanel` from the swingx project (This adds a new dependency from maven)
- The `UIFSplitPane` is replaced by the standard swing `JSplitPane`. This is just one step up in the inheritence hierarchy. As far as I can see, there is no visual difference in the result.",Remove local jgoodies dependency
63,Jörg Lenhard,['CHANGELOG'],"@@ -1,4 +1,5 @@
 [master]
+    - Refactored preferences
     - Remove local jgoodies dependency: replace SimpleInteralFrame with swingx JXTitledPanel and UIFSplitPane by JSplitPane
     - Fix several FindBugs warnings
     - Fix for bug #1276: OO styles do not consider editor fields anymore for sorting, ","This pull request started with the target to add some new uni tests, but ended up as a refactoring of `JabRefPreferences`.

Functionwise, it changes nothing, but only refactors the preferences:
- All default preferences are provided as constants and sorted together in the class
- Key bindings are extracted from the preferences and grouped in a separate class. The methods of `JabRefPreferences` relating to key bindings do not change in their signature, but just internally.",Refactor Preferences
64,Jörg Lenhard,['CHANGELOG'],"@@ -1,4 +1,5 @@
 [master]
+    - Update dependencies: jersey, commons.logging, pdfbox, jgoodies, lazedlists, JDBC connectors
     - Refactored preferences
     - Remove local jgoodies dependency: replace SimpleInteralFrame with swingx JXTitledPanel and UIFSplitPane by JSplitPane
     - Fix several FindBugs warnings, ","This pull request updates all dependencies to their newest versions. 

The only dependency for which this is not possible is antlr3. Here the upgrade from 3.4 to 3.5.2 would introduce API-breaking changes.",Update dependencies if possible
65,Jörg Lenhard,"['src/main/java/net/sf/jabref/AdvancedTab.java', 'src/main/java/net/sf/jabref/BasePanel.java', 'src/main/java/net/sf/jabref/BibtexEntryType.java', 'src/main/java/net/sf/jabref/BibtexEntryWriter.java', 'src/main/java/net/sf/jabref/BibtexFields.java', 'src/main/java/net/sf/jabref/EntryEditor.java', 'src/main/java/net/sf/jabref/ExternalTab.java', 'src/main/java/net/sf/jabref/FileTab.java', 'src/main/java/net/sf/jabref/Globals.java', 'src/main/java/net/sf/jabref/JabRef.java', 'src/main/java/net/sf/jabref/JabRefFrame.java', 'src/main/java/net/sf/jabref/MetaData.java', 'src/main/java/net/sf/jabref/TabLabelPattern.java', 'src/main/java/net/sf/jabref/TablePrefsTab.java', 'src/main/java/net/sf/jabref/export/AutoSaveManager.java', 'src/main/java/net/sf/jabref/export/SaveSession.java', 'src/main/java/net/sf/jabref/gui/EntryCustomizationDialog2.java', 'src/main/java/net/sf/jabref/gui/FileListEntryEditor.java', 'src/main/java/net/sf/jabref/imports/ACMPortalFetcher.java', 'src/main/java/net/sf/jabref/imports/AutosaveStartupPrompter.java', 'src/main/java/net/sf/jabref/imports/DOItoBibTeXFetcher.java', 'src/main/java/net/sf/jabref/imports/DiVAtoBibTeXFetcher.java', 'src/main/java/net/sf/jabref/imports/GeneralFetcher.java', 'src/main/java/net/sf/jabref/imports/HTMLConverter.java', 'src/main/java/net/sf/jabref/imports/IEEEXploreFetcher.java', 'src/main/java/net/sf/jabref/imports/OpenDatabaseAction.java', 'src/main/java/net/sf/jabref/imports/fetcher/ISBNtoBibTeXFetcher.java', 'src/main/java/net/sf/jabref/labelPattern/LabelPatternUtil.java', 'src/main/java/net/sf/jabref/plugin/PluginInstaller.java', 'src/main/java/net/sf/jabref/sql/DBStrings.java', 'src/main/java/net/sf/jabref/util/Util.java']","@@ -218,12 +218,12 @@ public void setValues() {
         remoteServerPort.setText(String.valueOf(oldPort));
         useNativeFileDialogOnMac.setSelected(Globals.prefs.getBoolean(JabRefPreferences.USE_NATIVE_FILE_DIALOG_ON_MAC));
         filechooserDisableRename.setSelected(Globals.prefs.getBoolean(JabRefPreferences.FILECHOOSER_DISABLE_RENAME));
-        useIEEEAbrv.setSelected(Globals.prefs.getBoolean(""useIEEEAbrv""));
-        oldBiblMode = Globals.prefs.getBoolean(""biblatexMode"");
+        useIEEEAbrv.setSelected(Globals.prefs.getBoolean(JabRefPreferences.USE_IEEE_ABRV));
+        oldBiblMode = Globals.prefs.getBoolean(JabRefPreferences.BIBLATEX_MODE);
         biblatexMode.setSelected(oldBiblMode);
-        useConvertToEquation.setSelected(Globals.prefs.getBoolean(""useConvertToEquation""));
-        useCaseKeeperOnSearch.setSelected(Globals.prefs.getBoolean(""useCaseKeeperOnSearch""));
-        useUnitFormatterOnSearch.setSelected(Globals.prefs.getBoolean(""useUnitFormatterOnSearch""));
+        useConvertToEquation.setSelected(Globals.prefs.getBoolean(JabRefPreferences.USE_CONVERT_TO_EQUATION));
+        useCaseKeeperOnSearch.setSelected(Globals.prefs.getBoolean(JabRefPreferences.USE_CASE_KEEPER_ON_SEARCH));
+        useUnitFormatterOnSearch.setSelected(Globals.prefs.getBoolean(JabRefPreferences.USE_UNIT_FORMATTER_ON_SEARCH));
     }
 
     @Override
@@ -233,14 +233,14 @@ public void storeSettings() {
         preferences.putBoolean(JabRefPreferences.USE_NATIVE_FILE_DIALOG_ON_MAC, useNativeFileDialogOnMac.isSelected());
         preferences.putBoolean(JabRefPreferences.FILECHOOSER_DISABLE_RENAME, filechooserDisableRename.isSelected());
         UIManager.put(""FileChooser.readOnly"", filechooserDisableRename.isSelected());
-        preferences.putBoolean(""useIEEEAbrv"", useIEEEAbrv.isSelected());
+        preferences.putBoolean(JabRefPreferences.USE_IEEE_ABRV, useIEEEAbrv.isSelected());
         if (useIEEEAbrv.isSelected()) {
             Globals.journalAbbrev = new JournalAbbreviationRepository();
             Globals.journalAbbrev.readJournalListFromResource(Globals.JOURNALS_IEEE_INTERNAL_LIST);
         }
         storeRemoteSettings();
 
-        preferences.putBoolean(""biblatexMode"", biblatexMode.isSelected());
+        preferences.putBoolean(JabRefPreferences.BIBLATEX_MODE, biblatexMode.isSelected());
 
         if ((useDefault.isSelected() == oldUseDef) ||
                 !oldLnf.equals(className.getSelectedItem().toString())) {
@@ -260,9 +260,9 @@ public void storeSettings() {
                     Globals.lang(""BibLaTeX mode""), JOptionPane.WARNING_MESSAGE);
         }
 
-        preferences.putBoolean(""useConvertToEquation"", useConvertToEquation.isSelected());
-        preferences.putBoolean(""useCaseKeeperOnSearch"", useCaseKeeperOnSearch.isSelected());
-        preferences.putBoolean(""useUnitFormatterOnSearch"", useUnitFormatterOnSearch.isSelected());
+        preferences.putBoolean(JabRefPreferences.USE_CONVERT_TO_EQUATION, useConvertToEquation.isSelected());
+        preferences.putBoolean(JabRefPreferences.USE_CASE_KEEPER_ON_SEARCH, useCaseKeeperOnSearch.isSelected());
+        preferences.putBoolean(JabRefPreferences.USE_UNIT_FORMATTER_ON_SEARCH, useUnitFormatterOnSearch.isSelected());
     }
 
     public void storeRemoteSettings() {, @@ -1190,7 +1190,7 @@ public void run() {
                             if (link != null) {
                                 filepath = link.toString();
                             } else {
-                                if (Globals.prefs.getBoolean(""runAutomaticFileSearch"")) {
+                                if (Globals.prefs.getBoolean(JabRefPreferences.RUN_AUTOMATIC_FILE_SEARCH)) {
 
                                     /*  The search can lead to an unexpected 100% CPU usage which is perceived
                                         as a bug, if the search incidentally starts at a directory with lots, @@ -1048,7 +1048,7 @@ public boolean isVisibleAtNewEntryDialog() {
     private static final TreeMap<String, BibtexEntryType> STANDARD_TYPES;
     static {
         // Put the standard entry types into the type map.
-        if (!Globals.prefs.getBoolean(""biblatexMode"")) {
+        if (!Globals.prefs.getBoolean(JabRefPreferences.BIBLATEX_MODE)) {
             BibtexEntryType.ALL_TYPES.put(""article"", BibtexEntryType.ARTICLE);
             BibtexEntryType.ALL_TYPES.put(""inbook"", BibtexEntryType.INBOOK);
             BibtexEntryType.ALL_TYPES.put(""book"", BibtexEntryType.BOOK);, @@ -54,7 +54,7 @@
     private final boolean write;
     private final boolean writeFieldCameCaseName = Globals.prefs.getBoolean(JabRefPreferences.WRITEFIELD_CAMELCASENAME);
     private final boolean writeFieldAddSpaces = Globals.prefs.getBoolean(JabRefPreferences.WRITEFIELD_ADDSPACES);
-    private final boolean includeEmptyFields = Globals.prefs.getBoolean(""includeEmptyFields"");
+    private final boolean includeEmptyFields = Globals.prefs.getBoolean(JabRefPreferences.INCLUDE_EMPTY_FIELDS);
     private final int writeFieldSortStype = Globals.prefs.getInt(JabRefPreferences.WRITEFIELD_SORTSTYLE);
 
 , @@ -266,7 +266,7 @@ private BibtexFields()
      * add a field descriptor for the new field.
      */
     public static void setNumericFieldsFromPrefs() {
-        String[] numFields = Globals.prefs.getStringArray(""numericFields"");
+        String[] numFields = Globals.prefs.getStringArray(JabRefPreferences.NUMERIC_FIELDS);
         if (numFields == null) {
             return;
         }, @@ -228,7 +228,7 @@ private void setupFieldPanels() {
 
         if ((entry.getOptionalFields() != null) && (entry.getOptionalFields().length >= 1)) {
             EntryEditorTab optPan;
-            if (!prefs.getBoolean(""biblatexMode"")) {
+            if (!prefs.getBoolean(JabRefPreferences.BIBLATEX_MODE)) {
                 optPan = new EntryEditorTab(frame, panel, java.util.Arrays.asList(entry.getOptionalFields()), this,
                         false, false, Globals.lang(""Optional fields""));
                 if (optPan.fileListEditor != null) {, @@ -235,12 +235,12 @@ public void setValues() {
         pdfDir.setText(_prefs.get(""pdfDirectory""));
         psDir.setText(_prefs.get(""psDirectory""));
         fileDir.setText(_prefs.get(GUIGlobals.FILE_FIELD + ""Directory""));
-        bibLocationAsFileDir.setSelected(_prefs.getBoolean(""bibLocationAsFileDir""));
-        bibLocAsPrimaryDir.setSelected(_prefs.getBoolean(""bibLocAsPrimaryDir""));
+        bibLocationAsFileDir.setSelected(_prefs.getBoolean(JabRefPreferences.BIB_LOCATION_AS_FILE_DIR));
+        bibLocAsPrimaryDir.setSelected(_prefs.getBoolean(JabRefPreferences.BIB_LOC_AS_PRIMARY_DIR));
         bibLocAsPrimaryDir.setEnabled(bibLocationAsFileDir.isSelected());
-        runAutoFileSearch.setSelected(_prefs.getBoolean(""runAutomaticFileSearch""));
+        runAutoFileSearch.setSelected(_prefs.getBoolean(JabRefPreferences.RUN_AUTOMATIC_FILE_SEARCH));
         regExpTextField.setText(_prefs.get(JabRefPreferences.REG_EXP_SEARCH_EXPRESSION_KEY));
-        allowFileAutoOpenBrowse.setSelected(_prefs.getBoolean(""allowFileAutoOpenBrowse""));
+        allowFileAutoOpenBrowse.setSelected(_prefs.getBoolean(JabRefPreferences.ALLOW_FILE_AUTO_OPEN_BROWSE));
 
         emailSubject.setText(_prefs.get(JabRefPreferences.EMAIL_SUBJECT));
         openFoldersOfAttachedFiles.setSelected(_prefs.getBoolean(JabRefPreferences.OPEN_FOLDERS_OF_ATTACHED_FILES));
@@ -266,11 +266,11 @@ public void storeSettings() {
         _prefs.put(""pdfDirectory"", pdfDir.getText());
         _prefs.put(""psDirectory"", psDir.getText());
         _prefs.put(GUIGlobals.FILE_FIELD + ""Directory"", fileDir.getText());
-        _prefs.putBoolean(""bibLocationAsFileDir"", bibLocationAsFileDir.isSelected());
-        _prefs.putBoolean(""bibLocAsPrimaryDir"", bibLocAsPrimaryDir.isSelected());
+        _prefs.putBoolean(JabRefPreferences.BIB_LOCATION_AS_FILE_DIR, bibLocationAsFileDir.isSelected());
+        _prefs.putBoolean(JabRefPreferences.BIB_LOC_AS_PRIMARY_DIR, bibLocAsPrimaryDir.isSelected());
         _prefs.putBoolean(JabRefPreferences.AUTOLINK_EXACT_KEY_ONLY, matchExactKeyOnly.isSelected());
-        _prefs.putBoolean(""runAutomaticFileSearch"", runAutoFileSearch.isSelected());
-        _prefs.putBoolean(""allowFileAutoOpenBrowse"", allowFileAutoOpenBrowse.isSelected());
+        _prefs.putBoolean(JabRefPreferences.RUN_AUTOMATIC_FILE_SEARCH, runAutoFileSearch.isSelected());
+        _prefs.putBoolean(JabRefPreferences.ALLOW_FILE_AUTO_OPEN_BROWSE, allowFileAutoOpenBrowse.isSelected());
         _prefs.put(JabRefPreferences.EMAIL_SUBJECT, emailSubject.getText());
         _prefs.putBoolean(JabRefPreferences.OPEN_FOLDERS_OF_ATTACHED_FILES, openFoldersOfAttachedFiles.isSelected());
     }, @@ -85,7 +85,7 @@ public FileTab(JabRefFrame frame, JabRefPreferences prefs) {
                 GUIGlobals.getIconUrl(""helpSmall""));
         openLast = new JCheckBox(Globals.lang(""Open last edited databases at startup""));
         backup = new JCheckBox(Globals.lang(""Backup old file when saving""));
-        autoSave = new JCheckBox(Globals.lang(""Autosave""));
+        autoSave = new JCheckBox(Globals.lang(JabRefPreferences.AUTO_SAVE));
         promptBeforeUsingAutoSave = new JCheckBox(Globals.lang(""Prompt before recovering a database from an autosave file""));
         autoSaveInterval = new JSpinner(new SpinnerNumberModel(1, 1, 60, 1));
         valueDelimiter = new JComboBox(new String[] {
@@ -300,12 +300,12 @@ public void setValues() {
         bracesAroundCapitalsFields.setText(_prefs.get(JabRefPreferences.PUT_BRACES_AROUND_CAPITALS));
         nonWrappableFields.setText(_prefs.get(JabRefPreferences.NON_WRAPPABLE_FIELDS));
 
-        autoSave.setSelected(_prefs.getBoolean(""autoSave""));
-        promptBeforeUsingAutoSave.setSelected(_prefs.getBoolean(""promptBeforeUsingAutosave""));
-        autoSaveInterval.setValue(_prefs.getInt(""autoSaveInterval""));
+        autoSave.setSelected(_prefs.getBoolean(JabRefPreferences.AUTO_SAVE));
+        promptBeforeUsingAutoSave.setSelected(_prefs.getBoolean(JabRefPreferences.PROMPT_BEFORE_USING_AUTOSAVE));
+        autoSaveInterval.setValue(_prefs.getInt(JabRefPreferences.AUTO_SAVE_INTERVAL));
         origAutoSaveSetting = autoSave.isSelected();
-        valueDelimiter.setSelectedIndex(_prefs.getInt(""valueDelimiters""));
-        includeEmptyFields.setSelected(_prefs.getBoolean(""includeEmptyFields""));
+        valueDelimiter.setSelectedIndex(_prefs.getInt(JabRefPreferences.VALUE_DELIMITERS2));
+        includeEmptyFields.setSelected(_prefs.getBoolean(JabRefPreferences.INCLUDE_EMPTY_FIELDS));
         camelCase.setSelected(_prefs.getBoolean(JabRefPreferences.WRITEFIELD_CAMELCASENAME));
         sameColumn.setSelected(_prefs.getBoolean(JabRefPreferences.WRITEFIELD_ADDSPACES));
 
@@ -341,7 +341,7 @@ public void storeSettings() {
         _prefs.putBoolean(JabRefPreferences.AUTO_SAVE, autoSave.isSelected());
         _prefs.putBoolean(JabRefPreferences.PROMPT_BEFORE_USING_AUTOSAVE, promptBeforeUsingAutoSave.isSelected());
         _prefs.putInt(JabRefPreferences.AUTO_SAVE_INTERVAL, (Integer) autoSaveInterval.getValue());
-        _prefs.putInt(""valueDelimiters"", valueDelimiter.getSelectedIndex());
+        _prefs.putInt(JabRefPreferences.VALUE_DELIMITERS2, valueDelimiter.getSelectedIndex());
         _prefs.putBoolean(JabRefPreferences.INCLUDE_EMPTY_FIELDS, includeEmptyFields.isSelected());
         _prefs.putBoolean(JabRefPreferences.WRITEFIELD_CAMELCASENAME, camelCase.isSelected());
         _prefs.putBoolean(JabRefPreferences.WRITEFIELD_ADDSPACES, sameColumn.isSelected());, @@ -1298,7 +1298,7 @@ public static void initializeJournalNames() {
         // Read internal lists:
         Globals.journalAbbrev = new JournalAbbreviationRepository();
         Globals.journalAbbrev.readJournalListFromResource(Globals.JOURNALS_FILE_BUILTIN);
-        if (Globals.prefs.getBoolean(""useIEEEAbrv"")) {
+        if (Globals.prefs.getBoolean(JabRefPreferences.USE_IEEE_ABRV)) {
             Globals.journalAbbrev.readJournalListFromResource(JOURNALS_IEEE_INTERNAL_LIST);
         }
 , @@ -801,7 +801,7 @@ else if (!pr.isPostponedAutosaveFound()) {
                 Globals.lang(""Beta version""), JOptionPane.WARNING_MESSAGE);*/
 
         // Start auto save timer:
-        if (Globals.prefs.getBoolean(""autoSave"")) {
+        if (Globals.prefs.getBoolean(JabRefPreferences.AUTO_SAVE)) {
             Globals.startAutoSaveManager(JabRef.jrf);
         }
 , @@ -1432,7 +1432,7 @@ private void fillMenu() {
         search.addSeparator();
         GeneralFetcher generalFetcher = new GeneralFetcher(sidePaneManager, this, fetchers);
         search.add(generalFetcher.getAction());
-        if (prefs.getBoolean(""webSearchVisible"")) {
+        if (prefs.getBoolean(JabRefPreferences.WEB_SEARCH_VISIBLE)) {
             sidePaneManager.register(generalFetcher.getTitle(), generalFetcher);
             sidePaneManager.show(generalFetcher.getTitle());
         }, @@ -204,9 +204,9 @@ public void putData(String key, Vector<String> orderedData) {
         }
 
         // Check if the bib file location should be included, and if so, if it is set:
-        if (Globals.prefs.getBoolean(""bibLocationAsFileDir"") && (getFile() != null)) {
+        if (Globals.prefs.getBoolean(JabRefPreferences.BIB_LOCATION_AS_FILE_DIR) && (getFile() != null)) {
             // Check if we should add it as primary file dir (first in the list) or not:
-            if (Globals.prefs.getBoolean(""bibLocAsPrimaryDir"")) {
+            if (Globals.prefs.getBoolean(JabRefPreferences.BIB_LOC_AS_PRIMARY_DIR)) {
                 dirs.add(0, getFile().getParent());
             } else {
                 dirs.add(getFile().getParent());, @@ -83,11 +83,11 @@ public void storeSettings() {
         if (alwaysAddLetter.isSelected()) {
             Globals.prefs.putBoolean(JabRefPreferences.KEY_GEN_ALWAYS_ADD_LETTER, true);
         } else if (letterStartA.isSelected()) {
-            Globals.prefs.putBoolean(""keyGenFirstLetterA"", true);
+            Globals.prefs.putBoolean(JabRefPreferences.KEY_GEN_FIRST_LETTER_A, true);
             Globals.prefs.putBoolean(JabRefPreferences.KEY_GEN_ALWAYS_ADD_LETTER, false);
         }
         else {
-            Globals.prefs.putBoolean(""keyGenFirstLetterA"", false);
+            Globals.prefs.putBoolean(JabRefPreferences.KEY_GEN_FIRST_LETTER_A, false);
             Globals.prefs.putBoolean(JabRefPreferences.KEY_GEN_ALWAYS_ADD_LETTER, false);
         }
 , @@ -323,7 +323,7 @@ public void storeSettings() {
         if (((newVal != null) && (oldVal == null))
                 || ((newVal == null) && (oldVal != null))
                 || ((newVal != null) && !newVal.equals(oldVal))) {
-            _prefs.put(""numericFields"", newVal);
+            _prefs.put(JabRefPreferences.NUMERIC_FIELDS, newVal);
             BibtexFields.setNumericFieldsFromPrefs();
         }
 , @@ -18,6 +18,7 @@
 import net.sf.jabref.JabRefFrame;
 import net.sf.jabref.BasePanel;
 import net.sf.jabref.Globals;
+import net.sf.jabref.JabRefPreferences;
 
 import java.util.Timer;
 import java.util.TimerTask;
@@ -47,7 +48,7 @@ public void startAutoSaveTimer() {
 
         TimerTask task = new AutoSaveTask();
         t = new Timer();
-        long interval = 60000 * Globals.prefs.getInt(""autoSaveInterval"");
+        long interval = 60000 * Globals.prefs.getInt(JabRefPreferences.AUTO_SAVE_INTERVAL);
         t.scheduleAtFixedRate(task, interval, interval);
     }
 , @@ -15,6 +15,7 @@
 */
 package net.sf.jabref.export;
 
+import net.sf.jabref.JabRefPreferences;
 import net.sf.jabref.util.FileBasedLock;
 import net.sf.jabref.util.FileUtil;
 import net.sf.jabref.Globals;
@@ -62,7 +63,7 @@ public SaveSession(File file, String encoding, boolean backup) throws IOExceptio
             UnsupportedCharsetException {
         this.file = file;
         tmp = File.createTempFile(SaveSession.TEMP_PREFIX, SaveSession.TEMP_SUFFIX);
-        useLockFile = Globals.prefs.getBoolean(""useLockFiles"");
+        useLockFile = Globals.prefs.getBoolean(JabRefPreferences.USE_LOCK_FILES);
         this.backup = backup;
         this.encoding = encoding;
         writer = new VerifyingWriter(new FileOutputStream(tmp), encoding);, @@ -71,7 +71,7 @@ private void initGui() {
         Container pane = getContentPane();
         pane.setLayout(new BorderLayout());
 
-        biblatexMode = Globals.prefs.getBoolean(""biblatexMode"");
+        biblatexMode = Globals.prefs.getBoolean(JabRefPreferences.BIBLATEX_MODE);
 
         JPanel main = new JPanel(), buttons = new JPanel(), right = new JPanel();
         main.setLayout(new BorderLayout());, @@ -278,7 +278,7 @@ public void setEntry(FileListEntry entry) {
     }
 
     public void setVisible(boolean visible, boolean openBrowse) {
-        openBrowseWhenShown = openBrowse && Globals.prefs.getBoolean(""allowFileAutoOpenBrowse"");
+        openBrowseWhenShown = openBrowse && Globals.prefs.getBoolean(JabRefPreferences.ALLOW_FILE_AUTO_OPEN_BROWSE);
         if (visible) {
             okPressed = false;
         }, @@ -15,19 +15,37 @@
 */
 package net.sf.jabref.imports;
 
-import java.awt.*;
-import java.io.*;
+import java.awt.Dimension;
+import java.awt.GridLayout;
+import java.io.BufferedInputStream;
+import java.io.BufferedReader;
+import java.io.BufferedWriter;
+import java.io.File;
+import java.io.FileInputStream;
+import java.io.FileWriter;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.InputStreamReader;
 import java.net.ConnectException;
 import java.net.MalformedURLException;
 import java.net.URL;
-import java.util.*;
+import java.util.Collection;
+import java.util.LinkedHashMap;
+import java.util.Map;
+import java.util.NoSuchElementException;
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 
-import javax.swing.*;
+import javax.swing.ButtonGroup;
+import javax.swing.JCheckBox;
+import javax.swing.JLabel;
+import javax.swing.JOptionPane;
+import javax.swing.JPanel;
+import javax.swing.JRadioButton;
 
 import net.sf.jabref.BibtexEntry;
 import net.sf.jabref.Globals;
+import net.sf.jabref.JabRefPreferences;
 import net.sf.jabref.OutputPrinter;
 import net.sf.jabref.gui.FetcherPreviewDialog;
 
@@ -176,12 +194,12 @@ public void getEntries(Map<String, Boolean> selection, ImportInspector inspector
                         title = convertHTMLChars(title);
 
                         // Unit formatting
-                        if (Globals.prefs.getBoolean(""useUnitFormatterOnSearch"")) {
+                        if (Globals.prefs.getBoolean(JabRefPreferences.USE_UNIT_FORMATTER_ON_SEARCH)) {
                             title = unitFormatter.format(title);
                         }
 
                         // Case keeping
-                        if (Globals.prefs.getBoolean(""useCaseKeeperOnSearch"")) {
+                        if (Globals.prefs.getBoolean(JabRefPreferences.USE_CASE_KEEPER_ON_SEARCH)) {
                             title = caseKeeper.format(title);
                         }
                         entry.setField(""title"", title);, @@ -54,7 +54,7 @@ public void run() {
         for (File file : files) {
             File fileToLoad = file;
             boolean tryingAutosave;
-            if (Globals.prefs.getBoolean(""promptBeforeUsingAutosave"")) {
+            if (Globals.prefs.getBoolean(JabRefPreferences.PROMPT_BEFORE_USING_AUTOSAVE)) {
                 int answer = JOptionPane.showConfirmDialog(null, ""<html>"" +
                         Globals.lang(""An autosave file was found for this database. This could indicate "")
                         + Globals.lang(""that JabRef didn't shut down cleanly last time the file was used."") + ""<br>"", @@ -14,19 +14,20 @@
 */
 package net.sf.jabref.imports;
 
-import java.io.IOException;
 import java.io.FileNotFoundException;
+import java.io.IOException;
 import java.io.UnsupportedEncodingException;
 import java.net.MalformedURLException;
 import java.net.URL;
 import java.net.URLConnection;
 import java.net.URLEncoder;
-import javax.swing.JOptionPane;
 
+import javax.swing.JOptionPane;
 import javax.swing.JPanel;
 
 import net.sf.jabref.BibtexEntry;
 import net.sf.jabref.Globals;
+import net.sf.jabref.JabRefPreferences;
 import net.sf.jabref.OutputPrinter;
 import net.sf.jabref.util.Util;
 
@@ -135,12 +136,12 @@ private BibtexEntry getEntryFromDOI(String doi, OutputPrinter status) {
             if (title != null) {
 
                 // Unit formatting
-                if (Globals.prefs.getBoolean(""useUnitFormatterOnSearch"")) {
+                if (Globals.prefs.getBoolean(JabRefPreferences.USE_UNIT_FORMATTER_ON_SEARCH)) {
                     title = unitFormatter.format(title);
                 }
 
                 // Case keeping
-                if (Globals.prefs.getBoolean(""useCaseKeeperOnSearch"")) {
+                if (Globals.prefs.getBoolean(JabRefPreferences.USE_CASE_KEEPER_ON_SEARCH)) {
                     title = caseKeeper.format(title);
                 }
                 entry.setField(""title"", title);, @@ -14,19 +14,20 @@
 */
 package net.sf.jabref.imports;
 
-import java.io.IOException;
 import java.io.FileNotFoundException;
+import java.io.IOException;
 import java.io.UnsupportedEncodingException;
 import java.net.MalformedURLException;
 import java.net.URL;
 import java.net.URLConnection;
 import java.net.URLEncoder;
-import javax.swing.JOptionPane;
 
+import javax.swing.JOptionPane;
 import javax.swing.JPanel;
 
 import net.sf.jabref.BibtexEntry;
 import net.sf.jabref.Globals;
+import net.sf.jabref.JabRefPreferences;
 import net.sf.jabref.OutputPrinter;
 import net.sf.jabref.util.Util;
 
@@ -96,12 +97,12 @@ public boolean processQuery(String query, ImportInspector inspector, OutputPrint
             String title = entry.getField(""title"");
             if (title != null) {
                 // Unit formatting
-                if (Globals.prefs.getBoolean(""useUnitFormatterOnSearch"")) {
+                if (Globals.prefs.getBoolean(JabRefPreferences.USE_UNIT_FORMATTER_ON_SEARCH)) {
                     title = unitFormatter.format(title);
                 }
 
                 // Case keeping
-                if (Globals.prefs.getBoolean(""useCaseKeeperOnSearch"")) {
+                if (Globals.prefs.getBoolean(JabRefPreferences.USE_CASE_KEEPER_ON_SEARCH)) {
                     title = caseKeeper.format(title);
                 }
                 entry.setField(""title"", title);, @@ -88,7 +88,7 @@ public GeneralFetcher(SidePaneManager p0, JabRefFrame frame, final List<EntryFet
                 optionsPanel.add(new JPanel(), String.valueOf(i));*/
         }
         fetcherChoice = new JComboBox(choices);
-        int defaultFetcher = Globals.prefs.getInt(""selectedFetcherIndex"");
+        int defaultFetcher = Globals.prefs.getInt(JabRefPreferences.SELECTED_FETCHER_INDEX);
         if (defaultFetcher >= fetcherArray.length) {
             defaultFetcher = 0;
         }
@@ -123,7 +123,7 @@ public Component getListCellRendererComponent(JList jList, Object o, int i, bool
             @Override
             public void actionPerformed(ActionEvent actionEvent) {
                 activeFetcher = fetcherArray[fetcherChoice.getSelectedIndex()];
-                Globals.prefs.putInt(""selectedFetcherIndex"", fetcherChoice.getSelectedIndex());
+                Globals.prefs.putInt(JabRefPreferences.SELECTED_FETCHER_INDEX, fetcherChoice.getSelectedIndex());
                 if (activeFetcher.getHelpPage() != null) {
                     help.setHelpFile(activeFetcher.getHelpPage());
                     helpBut.setEnabled(true);
@@ -328,13 +328,13 @@ public void actionPerformed(ActionEvent e) {
     @Override
     public void componentClosing() {
         super.componentClosing();
-        Globals.prefs.putBoolean(""webSearchVisible"", Boolean.FALSE);
+        Globals.prefs.putBoolean(JabRefPreferences.WEB_SEARCH_VISIBLE, Boolean.FALSE);
     }
 
     @Override
     public void componentOpening() {
         super.componentOpening();
-        Globals.prefs.putBoolean(""webSearchVisible"", Boolean.TRUE);
+        Globals.prefs.putBoolean(JabRefPreferences.WEB_SEARCH_VISIBLE, Boolean.TRUE);
     }
 
 , @@ -20,8 +20,9 @@
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 
-import net.sf.jabref.export.layout.LayoutFormatter;
 import net.sf.jabref.Globals;
+import net.sf.jabref.JabRefPreferences;
+import net.sf.jabref.export.layout.LayoutFormatter;
 
 public class HTMLConverter implements LayoutFormatter {
 
@@ -790,7 +791,7 @@ public String format(String text) {
         // Deal with the form <sup>k</sup>and <sub>k</sub>
         // If the result is in text or equation form can be controlled
         // From the ""Advanced settings"" tab
-        if (Globals.prefs.getBoolean(""useConvertToEquation"")) {
+        if (Globals.prefs.getBoolean(JabRefPreferences.USE_CONVERT_TO_EQUATION)) {
             text = text.replaceAll(""<[ ]?sup>([^<]+)</sup>"", ""\\$\\^\\{$1\\}\\$"");
             text = text.replaceAll(""<[ ]?sub>([^<]+)</sub>"", ""\\$_\\{$1\\}\\$"");
         } else {, @@ -351,7 +351,7 @@ private BibtexEntry cleanup(BibtexEntry entry) {
             // Replace general expressions
             title = title.replaceAll(""/[sS]pl ([^/]+)/"", ""\\$\\\\$1\\$"");
             // Deal with subscripts and superscripts       
-            if (Globals.prefs.getBoolean(""useConvertToEquation"")) {
+            if (Globals.prefs.getBoolean(JabRefPreferences.USE_CONVERT_TO_EQUATION)) {
                 title = title.replaceAll(""/sup ([^/]+)/"", ""\\$\\^\\{$1\\}\\$"");
                 title = title.replaceAll(""/sub ([^/]+)/"", ""\\$_\\{$1\\}\\$"");
                 title = title.replaceAll(""\\(sup\\)([^(]+)\\(/sup\\)"", ""\\$\\^\\{$1\\}\\$"");
@@ -367,12 +367,12 @@ private BibtexEntry cleanup(BibtexEntry entry) {
             title = title.replaceAll(""\\\\infin"", ""\\\\infty"");
 
             // Unit formatting
-            if (Globals.prefs.getBoolean(""useUnitFormatterOnSearch"")) {
+            if (Globals.prefs.getBoolean(JabRefPreferences.USE_UNIT_FORMATTER_ON_SEARCH)) {
                 title = unitFormatter.format(title);
             }
 
             // Automatic case keeping
-            if (Globals.prefs.getBoolean(""useCaseKeeperOnSearch"")) {
+            if (Globals.prefs.getBoolean(JabRefPreferences.USE_CASE_KEEPER_ON_SEARCH)) {
                 title = caseKeeper.format(title);
             }
             // Write back
@@ -513,7 +513,7 @@ private BibtexEntry cleanup(BibtexEntry entry) {
                 fullName = fullName.replace("" - "", ""-""); //IEE Proceedings-
 
                 fullName = fullName.trim();
-                if (Globals.prefs.getBoolean(""useIEEEAbrv"")) {
+                if (Globals.prefs.getBoolean(JabRefPreferences.USE_IEEE_ABRV)) {
                     fullName = Globals.journalAbbrev.getMedlineAbbreviation(fullName).or(fullName);
                 }
             }
@@ -566,7 +566,7 @@ private BibtexEntry cleanup(BibtexEntry entry) {
             // Replace general expressions
             abstr = abstr.replaceAll(""/[sS]pl ([^/]+)/"", ""\\$\\\\$1\\$"");
             // Deal with subscripts and superscripts       
-            if (Globals.prefs.getBoolean(""useConvertToEquation"")) {
+            if (Globals.prefs.getBoolean(JabRefPreferences.USE_CONVERT_TO_EQUATION)) {
                 abstr = abstr.replaceAll(""/sup ([^/]+)/"", ""\\$\\^\\{$1\\}\\$"");
                 abstr = abstr.replaceAll(""/sub ([^/]+)/"", ""\\$_\\{$1\\}\\$"");
                 abstr = abstr.replaceAll(""\\(sup\\)([^(]+)\\(/sup\\)"", ""\\$\\^\\{$1\\}\\$"");, @@ -179,7 +179,7 @@ public void openIt(File file, boolean raisePanel) {
             frame.output(Globals.lang(""Opening"") + "": '"" + file.getPath() + ""'"");
             boolean tryingAutosave = false;
             boolean autoSaveFound = AutoSaveManager.newerAutoSaveExists(file);
-            if (autoSaveFound && !Globals.prefs.getBoolean(""promptBeforeUsingAutosave"")) {
+            if (autoSaveFound && !Globals.prefs.getBoolean(JabRefPreferences.PROMPT_BEFORE_USING_AUTOSAVE)) {
                 // We have found a newer autosave, and the preferences say we should load
                 // it without prompting, so we replace the fileToLoad:
                 fileToLoad = AutoSaveManager.getAutoSaveFile(file);, @@ -27,6 +27,7 @@
 
 import net.sf.jabref.BibtexEntry;
 import net.sf.jabref.Globals;
+import net.sf.jabref.JabRefPreferences;
 import net.sf.jabref.OutputPrinter;
 import net.sf.jabref.imports.BibtexParser;
 import net.sf.jabref.imports.CaseKeeper;
@@ -100,12 +101,12 @@ public boolean processQuery(String query, ImportInspector inspector, OutputPrint
             String title = entry.getField(""title"");
             if (title != null) {
                 // Unit formatting
-                if (Globals.prefs.getBoolean(""useUnitFormatterOnSearch"")) {
+                if (Globals.prefs.getBoolean(JabRefPreferences.USE_UNIT_FORMATTER_ON_SEARCH)) {
                     title = unitFormatter.format(title);
                 }
 
                 // Case keeping
-                if (Globals.prefs.getBoolean(""useCaseKeeperOnSearch"")) {
+                if (Globals.prefs.getBoolean(JabRefPreferences.USE_CASE_KEEPER_ON_SEARCH)) {
                     title = caseKeeper.format(title);
                 }
                 entry.setField(""title"", title);, @@ -526,7 +526,7 @@ public static BibtexEntry makeLabel(MetaData metaData, BibtexDatabase database,
             occurences--; // No change, so we can accept one dupe.
         }
 
-        boolean alwaysAddLetter = Globals.prefs.getBoolean(JabRefPreferences.KEY_GEN_ALWAYS_ADD_LETTER), firstLetterA = Globals.prefs.getBoolean(""keyGenFirstLetterA"");
+        boolean alwaysAddLetter = Globals.prefs.getBoolean(JabRefPreferences.KEY_GEN_ALWAYS_ADD_LETTER), firstLetterA = Globals.prefs.getBoolean(JabRefPreferences.KEY_GEN_FIRST_LETTER_A);
 
         if (!alwaysAddLetter && (occurences == 0)) {
             // No dupes found, so we can just go ahead., @@ -17,6 +17,7 @@
 
 import ca.odell.glazedlists.BasicEventList;
 import ca.odell.glazedlists.EventList;
+import net.sf.jabref.JabRefPreferences;
 import net.sf.jabref.net.URLDownload;
 import net.sf.jabref.JabRefFrame;
 import net.sf.jabref.Globals;
@@ -349,13 +350,13 @@ public boolean accept(File file, String s) {
      * @param filename The path to the file to delete.
      */
     private static void schedulePluginForDeletion(String filename) {
-        String[] oldValues = Globals.prefs.getStringArray(""deletePlugins"");
+        String[] oldValues = Globals.prefs.getStringArray(JabRefPreferences.DELETE_PLUGINS);
         String[] newValues = oldValues == null ? new String[1] : new String[oldValues.length + 1];
         if (oldValues != null) {
             System.arraycopy(oldValues, 0, newValues, 0, oldValues.length);
         }
         newValues[newValues.length - 1] = filename;
-        Globals.prefs.putStringArray(""deletePlugins"", newValues);
+        Globals.prefs.putStringArray(JabRefPreferences.DELETE_PLUGINS, newValues);
     }
 
     /**, @@ -128,9 +128,9 @@ public void isConfigValid(boolean configValid) {
      * Store these db strings into JabRef preferences.
      */
     public void storeToPreferences() {
-        Globals.prefs.put(""dbConnectServerType"", getServerType());
-        Globals.prefs.put(""dbConnectHostname"", getServerHostname());
-        Globals.prefs.put(""dbConnectDatabase"", getDatabase());
-        Globals.prefs.put(""dbConnectUsername"", getUsername());
+        Globals.prefs.put(JabRefPreferences.DB_CONNECT_SERVER_TYPE, getServerType());
+        Globals.prefs.put(JabRefPreferences.DB_CONNECT_HOSTNAME, getServerHostname());
+        Globals.prefs.put(JabRefPreferences.DB_CONNECT_DATABASE, getDatabase());
+        Globals.prefs.put(JabRefPreferences.DB_CONNECT_USERNAME, getUsername());
     }
 }, @@ -211,7 +211,7 @@ public static String checkLegalKey(String key) {
         if (key == null) {
             return null;
         }
-        if (!JabRefPreferences.getInstance().getBoolean(""enforceLegalBibtexKey"")) {
+        if (!JabRefPreferences.getInstance().getBoolean(JabRefPreferences.ENFORCE_LEGAL_BIBTEX_KEY)) {
             // User doesn't want us to enforce legal characters. We must still look
             // for whitespace and some characters such as commas, since these would
             // interfere with parsing:, ","I checked all the usage of strings for getting or setting preferences and replaced them by a the usage of a constant, if one existed. This gives some more static checking and consistency throughout the project. Changes are limited to `src/main/java`. 

Again this changes nothing functionwise, but only improves code quality.",Replace usages of preferences by string through constants
66,Stefano,['src/main/java/net/sf/jabref/imports/INSPIREBibtexFilterReader.java'],"@@ -57,11 +57,11 @@ private String readpreLine() throws IOException {
             if (l == null) {
                 return null;
             }
-            if (l.indexOf(""<pre>"") != -1) {
+            if (l.contains(""<pre>"")) {
                 pre = true;
                 l = in.readLine();
             }
-            if (l.indexOf(""</pre>"") != -1) {
+            if (l.contains(""</pre>"")) {
                 pre = false;
             }
         } while (!pre);, ","Due to a change in the html output of the INSPIRE search, JabRef was no more able to distinguish the interesting output from the rest of the page. It was due to a missing newline character.",fixed incompatibility with INSPIRE output page
67,Stefano,['src/main/java/net/sf/jabref/imports/INSPIREFetcher.java'],"@@ -47,7 +47,7 @@
  */
 public class INSPIREFetcher implements EntryFetcher {
 
-    private static final String INSPIRE_HOST = ""inspirebeta.net"";
+    private static final String INSPIRE_HOST = ""inspirehep.net"";
 
 
     public INSPIREFetcher() {, ",NaN,deprecated url
69,Stefano,['CHANGELOG'],"@@ -11,6 +11,7 @@
     - JabRef metadata (""jabref-meta"") @comments are now always written in alphabetical order
     - Switch vom antlr2 grammar to antlr4 for capturing the search expressions. Should be backwards compatible.
     - Changed html description of search expressions, expressing the conditional logic more explicitly with brackets.
+    - Fixed INSPIRE searches compatibility problem (by Stefano Gariazzo).
 2.11 beta 3
     - New MacOSX integration
     - Two releases for MacOSX: OSX-Java6 for Apple Java 1.6 and OSX for Oracle Java 1.7+, ",NaN,Update CHANGELOG
70,Stefano,['src/main/resources/help/About.html'],"@@ -66,6 +66,7 @@ <h2>Contributions from:</h2>
         Brian Van Essen,
         Michael Falkenthal,
         Alexis Gallagher,
+        Stefano Gariazzo,
         David Gleich,
         Eduardo Roberto Greco,
         Yara Grassi Gouffon,, ",NaN,Update About.html
71,Jörg Lenhard,['src/main/java/net/sf/jabref/JabRef.java'],"@@ -80,13 +80,6 @@
     private boolean graphicFailure = false;
     private JabRefCLI cli;
     private SplashScreenLifecycle splashScreen = new SplashScreenLifecycle();
-    
-    //initialize logging system
-    static {
-        LogFactory factory = LogFactory.getFactory();
-        //tell commons logging to default to Java's internal logging implementation
-        factory.setAttribute(""org.apache.commons.logging.Log"", ""org.apache.commons.logging.impl.Jdk14Logger"");
-    }
 
     public void start(String[] args) {
         JabRefPreferences prefs = JabRefPreferences.getInstance();, ","This pull request streamlines the usage of logging APIs in JabRef. All direct usages of `java.util.logging` are now replaced by usages of `commons.logging`. Internally, `commons.logging` is configured to default to `java.util.logging`, so nothing is fundamentally changed. `java.util.logging` is still needed in a single class, `CacheableHandler`, to access the actual log for display in the UI. This is not possible directly with `commons.logging` and requires the usage of the underlying logging API.

The major benefits are of this pull request are:
- All classes use the same mechanism for logging
- Many log messages have been checked and improved if possible
- It is now easier to switch out the internal logging implementation ",Streamline logging
72,Jörg Lenhard,['build.gradle'],"@@ -76,9 +76,9 @@ dependencies {
     
     compile 'org.swinglabs:swingx:1.6.1'
 
-    compile 'org.apache.pdfbox:pdfbox:1.8.+'
-    compile 'org.apache.pdfbox:fontbox:1.8.+'
-    compile 'org.apache.pdfbox:jempbox:1.8.+'
+    compile 'org.apache.pdfbox:pdfbox:1.8.10'
+    compile 'org.apache.pdfbox:fontbox:1.8.10'
+    compile 'org.apache.pdfbox:jempbox:1.8.10'
 
     compile 'commons-cli:commons-cli:1.3.1'
 , ",I think it should be fine to enable flexible updates for new patch versions of pdfbox.,Bump pdfbox dependency versions
73,Stefan Kolb,['TODO'],"@@ -1,28 +0,0 @@
-
-Chris:
-------
-  * Think about synchronizing XMP.
-  * Document data schema used (BibteXmp)
-  * Add build.xml target to export standalone XMPUtil for the CLI.
-  * Allow search relativ to bibtex-file
-  * Plugin-System may crash...
-  
-Morten:
-
-* Encoding used for reading URLs. URLDownload.java
-
-* Look into whether incremental search could be made more persistent when search panel loses focus.
-* Problem: when looking at group with hiding non-hits, newly created entry doesn't appear in entry editor.
-
-* Plugins like SVN plugin might need hooks for performing actions before a database is
-  closed, and may need the ability to cancel the closing, and to avoid questions about
-  saving changes.
-
-* Enable ""Open spires entry"" (""openSpires"" action)? Think about better integration of this?
-  Look into which viewer is used.
-* Add ""Copy all externally linked files for this set of entries""-feature.
-  Basic functionality in AccessLinksForEntries.
-* Problem setting today with Microba calendar.
-
-* [POSTPONE] Icon selection for external file types: - select arbitrary images from disk?
-, ","This information should be tracked inside the bug tracker.
In case the information is still needed, there is now a bug report at https://sourceforge.net/p/jabref/bugs/1292/.",Removes old TODO file
74,Jörg Lenhard,"['src/main/java/net/sf/jabref/export/layout/format/CreateDocBookAuthors.java', 'src/main/java/net/sf/jabref/export/layout/format/HTMLChars.java', 'src/main/java/net/sf/jabref/export/layout/format/RTFChars.java', 'src/main/java/net/sf/jabref/export/layout/format/XMLChars.java', 'src/main/java/net/sf/jabref/mods/MODSEntry.java', 'src/main/java/net/sf/jabref/msbib/MSBibEntry.java', 'src/test/java/net/sf/jabref/export/layout/HTMLCharsTest.java', 'src/test/java/net/sf/jabref/export/layout/LayoutEntryTest.java', 'src/test/java/net/sf/jabref/export/layout/RTFCharsTest.java']","@@ -49,7 +49,7 @@
 public class CreateDocBookAuthors implements LayoutFormatter
 {
 
-    private static final XMLCharFormatter xc = new XMLCharFormatter();
+    private static final XMLChars xc = new XMLChars();
 
 
     @Override, @@ -22,7 +22,7 @@
 /**
  * This formatter escapes characters so they are suitable for HTML.
  */
-public class HTMLCharFormatter implements LayoutFormatter {
+public class HTMLChars implements LayoutFormatter {
     
     private static final HtmlCharsMap HTML_CHARS = new HtmlCharsMap();
 , @@ -35,7 +35,7 @@
  *
  *   5.) Replace --- by \emdash and -- by \endash.
  */
-public class RTFCharFormatter implements LayoutFormatter {
+public class RTFChars implements LayoutFormatter {
 
     // Instantiate logger:
     private static final Log LOGGER = LogFactory.getLog(LayoutFormatter.class);, @@ -45,7 +45,7 @@
 /**
  * Changes {\^o} or {\^{o}} to ?
  */
-public class XMLCharFormatter implements LayoutFormatter {
+public class XMLChars implements LayoutFormatter {
 
     private final static XmlCharsMap XML_CHARS = new XmlCharsMap();
     , @@ -29,7 +29,7 @@
 import net.sf.jabref.BibtexEntry;
 import net.sf.jabref.BibtexEntryType;
 import net.sf.jabref.export.layout.LayoutFormatter;
-import net.sf.jabref.export.layout.format.XMLCharFormatter;
+import net.sf.jabref.export.layout.format.XMLChars;
 
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
@@ -83,7 +83,7 @@ public MODSEntry(BibtexEntry bibtex) {
     }
 
     private void populateFromBibtex(BibtexEntry bibtex) {
-        LayoutFormatter chars = new XMLCharFormatter();
+        LayoutFormatter chars = new XMLChars();
         if (bibtex.getField(""title"") != null) {
             if (CHARFORMAT) {
                 title = chars.format(bibtex.getField(""title""));
@@ -149,7 +149,7 @@ private void populateExtensionFields(BibtexEntry e) {
 
     private List<PersonName> getAuthors(String authors) {
         List<PersonName> result = new LinkedList<PersonName>();
-        LayoutFormatter chars = new XMLCharFormatter();
+        LayoutFormatter chars = new XMLChars();
 
         if (!authors.contains("" and "")) {
             if (CHARFORMAT) {, @@ -34,7 +34,7 @@
 import net.sf.jabref.BibtexEntryType;
 import net.sf.jabref.BibtexFields;
 import net.sf.jabref.export.layout.LayoutFormatter;
-import net.sf.jabref.export.layout.format.XMLCharFormatter;
+import net.sf.jabref.export.layout.format.XMLChars;
 import net.sf.jabref.mods.PageNumbers;
 import net.sf.jabref.mods.PersonName;
 
@@ -566,7 +566,7 @@ private String format(String value)
             return null;
         }
         String result = null;
-        LayoutFormatter chars = new XMLCharFormatter();
+        LayoutFormatter chars = new XMLChars();
         result = chars.format(value);
         return result;
     }, @@ -1,6 +1,6 @@
 package net.sf.jabref.export.layout;
 
-import net.sf.jabref.export.layout.format.HTMLCharFormatter;
+import net.sf.jabref.export.layout.format.HTMLChars;
 
 import org.junit.Assert;
 import org.junit.Test;
@@ -12,7 +12,7 @@
     @Test
     public void testBasicFormat() {
 
-        LayoutFormatter layout = new HTMLCharFormatter();
+        LayoutFormatter layout = new HTMLChars();
 
         Assert.assertEquals("""", layout.format(""""));
 
@@ -36,7 +36,7 @@ public void testBasicFormat() {
     @Test
     public void testLaTeXHighlighting() {
 
-        LayoutFormatter layout = new HTMLCharFormatter();
+        LayoutFormatter layout = new HTMLChars();
 
         Assert.assertEquals(""<em>hallo</em>"", layout.format(""\\emph{hallo}""));
         Assert.assertEquals(""<em>hallo</em>"", layout.format(""{\\emph hallo}""));, @@ -105,7 +105,7 @@ public void testNoHighlighting() throws Exception {
         // define the highlighting settings
         Globals.prefs.putBoolean(""caseSensitiveSearch"", false);
 
-        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLCharFormatter]{\\abstract}\\end{abstract}</font>"", mBTE, new ArrayList<String>());
+        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLChars]{\\abstract}\\end{abstract}</font>"", mBTE, new ArrayList<String>());
         String expecting = ""<font face=\""arial\""><BR><BR><b>Abstract: </b> In this paper, we initiate a formal study of security on Android: Google's new open-source platform for mobile devices. Tags: Paper android google Open-Source Devices</font>"";
 
         Assert.assertEquals(expecting, result);
@@ -126,7 +126,7 @@ public void testHighlightingOneWordCaseInsesitive() throws Exception {
         // define the highlighting settings
         Globals.prefs.putBoolean(""caseSensitiveSearch"", false);
 
-        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLCharFormatter]{\\abstract}\\end{abstract}</font>"", mBTE, words);
+        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLChars]{\\abstract}\\end{abstract}</font>"", mBTE, words);
         String containing = ""<span style=\""background-color:#3399FF;\"">Google</span>"";
 
         // check
@@ -149,7 +149,7 @@ public void testHighlightingTwoWordsCaseInsesitive() throws Exception {
         // define the highlighting settings
         Globals.prefs.putBoolean(""caseSensitiveSearch"", false);
 
-        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLCharFormatter]{\\abstract}\\end{abstract}</font>"", mBTE, words);
+        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLChars]{\\abstract}\\end{abstract}</font>"", mBTE, words);
 
         String containing = ""<span style=\""background-color:#3399FF;\"">Android</span>"";
         String containing2 = ""<span style=\""background-color:#3399FF;\"">study</span>"";
@@ -174,7 +174,7 @@ public void testHighlightingOneWordCaseSesitive() throws Exception {
         // define the highlighting settings
         Globals.prefs.putBoolean(""caseSensitiveSearch"", true);
 
-        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLCharFormatter]{\\abstract}\\end{abstract}</font>"", mBTE, words);
+        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLChars]{\\abstract}\\end{abstract}</font>"", mBTE, words);
         String expected = ""<font face=\""arial\""><BR><BR><b>Abstract: </b> In this paper, we initiate a formal study of security on Android: Google's new open-source platform for mobile devices. Tags: Paper android <span style=\""background-color:#3399FF;\"">google</span> Open-Source Devices</font>"";
 
         // check
@@ -199,7 +199,7 @@ public void testHighlightingMoreWordsCaseSesitive() throws Exception {
         Globals.prefs.putBoolean(""caseSensitiveSearch"", false);
 
         String highlightColor = ""#3399FF;"";
-        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLCharFormatter]{\\abstract}\\end{abstract}</font>"", mBTE, words);
+        String result = this.layout(""<font face=\""arial\"">\\begin{abstract}<BR><BR><b>Abstract: </b> \\format[HTMLChars]{\\abstract}\\end{abstract}</font>"", mBTE, words);
         String expected = ""<font face=\""arial\""><BR><BR><b>Abstract: </b> In this paper, we initiate a formal <span style=\""background-color:"" + highlightColor + ""\"">study</span> of security on <span style=\""background-color:"" + highlightColor + ""\"">Android</span>: Google's new <span style=\""background-color:"" + highlightColor + ""\"">open</span>-source platform for mobile devices. Tags: Paper <span style=\""background-color:"" + highlightColor + ""\"">android</span> google <span style=\""background-color:"" + highlightColor + ""\"">Open</span>-Source Devices</font>"";
 
         // check, @@ -1,6 +1,6 @@
 package net.sf.jabref.export.layout;
 
-import net.sf.jabref.export.layout.format.RTFCharFormatter;
+import net.sf.jabref.export.layout.format.RTFChars;
 
 import org.junit.Assert;
 import org.junit.Ignore;
@@ -13,7 +13,7 @@
     @Test
     public void testBasicFormat() {
 
-        LayoutFormatter layout = new RTFCharFormatter();
+        LayoutFormatter layout = new RTFChars();
 
         Assert.assertEquals("""", layout.format(""""));
 
@@ -29,7 +29,7 @@ public void testBasicFormat() {
     @Test
     public void testLaTeXHighlighting() {
 
-        LayoutFormatter layout = new RTFCharFormatter();
+        LayoutFormatter layout = new RTFChars();
 
         Assert.assertEquals(""{\\i hallo}"", layout.format(""\\emph{hallo}""));
         Assert.assertEquals(""{\\i hallo}"", layout.format(""{\\emph hallo}""));
@@ -44,7 +44,7 @@ public void testLaTeXHighlighting() {
     @Test
     @Ignore
     public void testComplicated() {
-        LayoutFormatter layout = new RTFCharFormatter();
+        LayoutFormatter layout = new RTFChars();
 
         Assert.assertEquals(""R\\u233eflexions sur le timing de la quantit\\u233e \\u230ae should be \\u230ae"", layout.format(""Réflexions sur le timing de la quantité \\ae should be æ""));
 
@@ -55,7 +55,7 @@ public void testComplicated() {
     @Ignore
     public void testSpecialCharacters() {
 
-        LayoutFormatter layout = new RTFCharFormatter();
+        LayoutFormatter layout = new RTFChars();
 
         Assert.assertEquals(""\\u243o"", layout.format(""\\'{o}"")); // ó
         Assert.assertEquals(""\\'f2"", layout.format(""\\`{o}"")); // ò, ",This pull request reduces the infamous Globals class to one third of its size. This is achieved by extracting every variable or method that is only used once to the position of its usage. In the case of char maps several map classes have been extracted.,Refactor Globals
75,Stefan Kolb,['src/main/java/net/sf/jabref/PreambleEditor.java'],"@@ -37,7 +37,6 @@ public PreambleEditor(JabRefFrame baseFrame,
             BasePanel panel, BibtexDatabase base,
             JabRefPreferences prefs) {
         super(baseFrame);
-        JabRefFrame baseFrame1 = baseFrame;
         this.panel = panel;
         this.base = base;
         this.prefs = prefs;, ",Some minor code style cleanups.,Code style
76,Stefan Kolb,['external-libraries.txt'],"None, ","`libaries -> libraries`.
I think `external` is more appropriate here. ",Fix typo and propose renaming
77,Stefan Kolb,"['src/main/java/net/sf/jabref/FileSortTab.java', 'src/main/java/net/sf/jabref/JabRef.java', 'src/main/java/net/sf/jabref/JabRefFrame.java', 'src/main/java/net/sf/jabref/export/layout/LayoutEntry.java', 'src/main/java/net/sf/jabref/groups/GroupSelector.java', 'src/main/java/net/sf/jabref/gui/MainTableSelectionListener.java', 'src/main/java/net/sf/jabref/imports/CopacImporter.java', 'src/main/java/net/sf/jabref/util/XMPUtil.java', 'src/test/java/net/sf/jabref/AuthorListTest.java', 'src/test/java/net/sf/jabref/bst/BibtexNameFormatterTest.java', 'src/test/java/net/sf/jabref/bst/TestVM.java', 'src/test/java/net/sf/jabref/export/layout/format/CompositeFormatTest.java', 'src/test/java/net/sf/jabref/imports/BibtexParserTest.java', 'src/test/java/net/sf/jabref/imports/OAI2ImportTest.java', 'src/test/java/net/sf/jabref/util/UtilFindFileTest.java', 'src/test/java/net/sf/jabref/util/XMPSchemaBibtexTest.java', 'src/test/java/net/sf/jabref/util/XMPUtilTest.java']","@@ -182,124 +182,123 @@ public void actionPerformed(ActionEvent e) {
             builder.nextLine();
         }
 
-        { // EXPORT SORT ORDER
-          // create Components
-            exportInOriginalOrder = new JRadioButton(Globals.lang(""Export entries in their original order""));
-            exportInTableOrder = new JRadioButton(Globals.lang(""Export in current table sort order""));
-            exportInSpecifiedOrder = new JRadioButton(Globals.lang(""Export entries ordered as specified""));
-
-            ButtonGroup bg = new ButtonGroup();
-            bg.add(exportInOriginalOrder);
-            bg.add(exportInTableOrder);
-            bg.add(exportInSpecifiedOrder);
-
-            ActionListener listener = new ActionListener() {
-
-                @Override
-                public void actionPerformed(ActionEvent e) {
-                    boolean selected = e.getSource() == exportInSpecifiedOrder;
-                    exportPriSort.setEnabled(selected);
-                    exportPriField.setEnabled(selected);
-                    exportPriDesc.setEnabled(selected);
-                    exportSecSort.setEnabled(selected);
-                    exportSecField.setEnabled(selected);
-                    exportSecDesc.setEnabled(selected);
-                    exportTerSort.setEnabled(selected);
-                    exportTerField.setEnabled(selected);
-                    exportTerDesc.setEnabled(selected);
+        // EXPORT SORT ORDER
+        // create Components
+        exportInOriginalOrder = new JRadioButton(Globals.lang(""Export entries in their original order""));
+        exportInTableOrder = new JRadioButton(Globals.lang(""Export in current table sort order""));
+        exportInSpecifiedOrder = new JRadioButton(Globals.lang(""Export entries ordered as specified""));
+
+        ButtonGroup bg = new ButtonGroup();
+        bg.add(exportInOriginalOrder);
+        bg.add(exportInTableOrder);
+        bg.add(exportInSpecifiedOrder);
+
+        ActionListener listener = new ActionListener() {
+
+            @Override
+            public void actionPerformed(ActionEvent e) {
+                boolean selected = e.getSource() == exportInSpecifiedOrder;
+                exportPriSort.setEnabled(selected);
+                exportPriField.setEnabled(selected);
+                exportPriDesc.setEnabled(selected);
+                exportSecSort.setEnabled(selected);
+                exportSecField.setEnabled(selected);
+                exportSecDesc.setEnabled(selected);
+                exportTerSort.setEnabled(selected);
+                exportTerField.setEnabled(selected);
+                exportTerDesc.setEnabled(selected);
+            }
+        };
+        exportInOriginalOrder.addActionListener(listener);
+        exportInTableOrder.addActionListener(listener);
+        exportInSpecifiedOrder.addActionListener(listener);
+
+        ArrayList<String> v = new ArrayList<String>(Arrays.asList(BibtexFields.getAllFieldNames()));
+        v.add(BibtexFields.KEY_FIELD);
+        Collections.sort(v);
+        String[] allPlusKey = v.toArray(new String[v.size()]);
+        exportPriSort = new JComboBox(allPlusKey);
+        exportSecSort = new JComboBox(allPlusKey);
+        exportTerSort = new JComboBox(allPlusKey);
+
+        exportPriField = new JTextField(10);
+        exportSecField = new JTextField(10);
+        exportTerField = new JTextField(10);
+
+        exportPriSort.insertItemAt(Globals.lang(""<select>""), 0);
+        exportSecSort.insertItemAt(Globals.lang(""<select>""), 0);
+        exportTerSort.insertItemAt(Globals.lang(""<select>""), 0);
+
+        exportPriSort.addActionListener(new ActionListener() {
+
+            @Override
+            public void actionPerformed(ActionEvent e) {
+                if (exportPriSort.getSelectedIndex() > 0) {
+                    exportPriField.setText(exportPriSort.getSelectedItem().toString());
+                    exportPriSort.setSelectedIndex(0);
                 }
-            };
-            exportInOriginalOrder.addActionListener(listener);
-            exportInTableOrder.addActionListener(listener);
-            exportInSpecifiedOrder.addActionListener(listener);
-
-            ArrayList<String> v = new ArrayList<String>(Arrays.asList(BibtexFields.getAllFieldNames()));
-            v.add(BibtexFields.KEY_FIELD);
-            Collections.sort(v);
-            String[] allPlusKey = v.toArray(new String[v.size()]);
-            exportPriSort = new JComboBox(allPlusKey);
-            exportSecSort = new JComboBox(allPlusKey);
-            exportTerSort = new JComboBox(allPlusKey);
-
-            exportPriField = new JTextField(10);
-            exportSecField = new JTextField(10);
-            exportTerField = new JTextField(10);
-
-            exportPriSort.insertItemAt(Globals.lang(""<select>""), 0);
-            exportSecSort.insertItemAt(Globals.lang(""<select>""), 0);
-            exportTerSort.insertItemAt(Globals.lang(""<select>""), 0);
-
-            exportPriSort.addActionListener(new ActionListener() {
-
-                @Override
-                public void actionPerformed(ActionEvent e) {
-                    if (exportPriSort.getSelectedIndex() > 0) {
-                        exportPriField.setText(exportPriSort.getSelectedItem().toString());
-                        exportPriSort.setSelectedIndex(0);
-                    }
+            }
+        });
+        exportSecSort.addActionListener(new ActionListener() {
+
+            @Override
+            public void actionPerformed(ActionEvent e) {
+                if (exportSecSort.getSelectedIndex() > 0) {
+                    exportSecField.setText(exportSecSort.getSelectedItem().toString());
+                    exportSecSort.setSelectedIndex(0);
                 }
-            });
-            exportSecSort.addActionListener(new ActionListener() {
-
-                @Override
-                public void actionPerformed(ActionEvent e) {
-                    if (exportSecSort.getSelectedIndex() > 0) {
-                        exportSecField.setText(exportSecSort.getSelectedItem().toString());
-                        exportSecSort.setSelectedIndex(0);
-                    }
+            }
+        });
+        exportTerSort.addActionListener(new ActionListener() {
+
+            @Override
+            public void actionPerformed(ActionEvent e) {
+                if (exportTerSort.getSelectedIndex() > 0) {
+                    exportTerField.setText(exportTerSort.getSelectedItem().toString());
+                    exportTerSort.setSelectedIndex(0);
                 }
-            });
-            exportTerSort.addActionListener(new ActionListener() {
-
-                @Override
-                public void actionPerformed(ActionEvent e) {
-                    if (exportTerSort.getSelectedIndex() > 0) {
-                        exportTerField.setText(exportTerSort.getSelectedItem().toString());
-                        exportTerSort.setSelectedIndex(0);
-                    }
-                }
-            });
-
-            exportPriDesc = new JCheckBox(Globals.lang(""Descending""));
-            exportSecDesc = new JCheckBox(Globals.lang(""Descending""));
-            exportTerDesc = new JCheckBox(Globals.lang(""Descending""));
-
-            // create GUI
-            JLabel lab;
-
-            builder.appendSeparator(Globals.lang(""Export sort order""));
-            builder.append(exportInOriginalOrder, 1);
-            builder.nextLine();
-            builder.append(exportInTableOrder, 1);
-            builder.nextLine();
-            builder.append(exportInSpecifiedOrder, 1);
-            builder.nextLine();
-
-            // Create a new panel with its own FormLayout for these items:
-            FormLayout layout2 = new FormLayout(
-                    ""right:pref, 8dlu, fill:pref, 4dlu, fill:60dlu, 4dlu, left:pref"", """");
-            DefaultFormBuilder builder2 = new DefaultFormBuilder(layout2);
-            lab = new JLabel(Globals.lang(""Primary sort criterion""));
-            builder2.append(lab);
-            builder2.append(exportPriSort);
-            builder2.append(exportPriField);
-            builder2.append(exportPriDesc);
-            builder2.nextLine();
-            lab = new JLabel(Globals.lang(""Secondary sort criterion""));
-            builder2.append(lab);
-            builder2.append(exportSecSort);
-            builder2.append(exportSecField);
-            builder2.append(exportSecDesc);
-            builder2.nextLine();
-            lab = new JLabel(Globals.lang(""Tertiary sort criterion""));
-            builder2.append(lab);
-            builder2.append(exportTerSort);
-            builder2.append(exportTerField);
-            builder2.append(exportTerDesc);
-
-            builder.append(builder2.getPanel());
-            builder.nextLine();
-        }
+            }
+        });
+
+        exportPriDesc = new JCheckBox(Globals.lang(""Descending""));
+        exportSecDesc = new JCheckBox(Globals.lang(""Descending""));
+        exportTerDesc = new JCheckBox(Globals.lang(""Descending""));
+
+        // create GUI
+        JLabel lab;
+
+        builder.appendSeparator(Globals.lang(""Export sort order""));
+        builder.append(exportInOriginalOrder, 1);
+        builder.nextLine();
+        builder.append(exportInTableOrder, 1);
+        builder.nextLine();
+        builder.append(exportInSpecifiedOrder, 1);
+        builder.nextLine();
+
+        // Create a new panel with its own FormLayout for these items:
+        FormLayout layout2 = new FormLayout(
+                ""right:pref, 8dlu, fill:pref, 4dlu, fill:60dlu, 4dlu, left:pref"", """");
+        DefaultFormBuilder builder2 = new DefaultFormBuilder(layout2);
+        lab = new JLabel(Globals.lang(""Primary sort criterion""));
+        builder2.append(lab);
+        builder2.append(exportPriSort);
+        builder2.append(exportPriField);
+        builder2.append(exportPriDesc);
+        builder2.nextLine();
+        lab = new JLabel(Globals.lang(""Secondary sort criterion""));
+        builder2.append(lab);
+        builder2.append(exportSecSort);
+        builder2.append(exportSecField);
+        builder2.append(exportSecDesc);
+        builder2.nextLine();
+        lab = new JLabel(Globals.lang(""Tertiary sort criterion""));
+        builder2.append(lab);
+        builder2.append(exportTerSort);
+        builder2.append(exportTerField);
+        builder2.append(exportTerDesc);
+
+        builder.append(builder2.getPanel());
+        builder.nextLine();
 
         // COMBINE EVERYTHING
         JPanel pan = builder.getPanel();
@@ -351,18 +350,16 @@ public void setValues() {
             exportInTableOrder.setSelected(true);
         }
 
-        {
-            boolean selected = _prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER);
-            exportPriSort.setEnabled(selected);
-            exportPriField.setEnabled(selected);
-            exportPriDesc.setEnabled(selected);
-            exportSecSort.setEnabled(selected);
-            exportSecField.setEnabled(selected);
-            exportSecDesc.setEnabled(selected);
-            exportTerSort.setEnabled(selected);
-            exportTerField.setEnabled(selected);
-            exportTerDesc.setEnabled(selected);
-        }
+        boolean selected = _prefs.getBoolean(JabRefPreferences.EXPORT_IN_SPECIFIED_ORDER);
+        exportPriSort.setEnabled(selected);
+        exportPriField.setEnabled(selected);
+        exportPriDesc.setEnabled(selected);
+        exportSecSort.setEnabled(selected);
+        exportSecField.setEnabled(selected);
+        exportSecDesc.setEnabled(selected);
+        exportTerSort.setEnabled(selected);
+        exportTerField.setEnabled(selected);
+        exportTerDesc.setEnabled(selected);
 
         exportPriField.setText(_prefs.get(JabRefPreferences.EXPORT_PRIMARY_SORT_FIELD));
         exportSecField.setText(_prefs.get(JabRefPreferences.EXPORT_SECONDARY_SORT_FIELD));, @@ -395,19 +395,16 @@ private static void setCurrentProcessExplicitAppUserModelID(final String appID)
 
                     //read in the export format, take default format if no format entered
                     switch (data.length) {
-                    case (3): {
+                    case (3):
                         formatName = data[2];
                         break;
-                    }
-                    case (2): {
-                        //default ExportFormat: HTML table (with Abstract & BibTeX)
-                        formatName = ""tablerefsabsbib"";
-                        break;
-                    }
-                    default: {
-                        System.err.println(Globals.lang(""Output file missing"").concat("". \n \t "").concat(""Usage"").concat("": "") + JabRefCLI.getExportMatchesSyntax());
-                        return null; // TODO replace with optional one day
-                    }
+                        case (2):
+                            //default ExportFormat: HTML table (with Abstract & BibTeX)
+                            formatName = ""tablerefsabsbib"";
+                            break;
+                        default:
+                            System.err.println(Globals.lang(""Output file missing"").concat("". \n \t "").concat(""Usage"").concat("": "") + JabRefCLI.getExportMatchesSyntax());
+                            return null; // TODO replace with optional one day
                     } //end switch
 
                     //export new database, @@ -652,7 +652,7 @@ public void stateChanged(ChangeEvent e) {
                 Method method = macreg.getMethod(""registerMacEvents"", JabRefFrame.class);
                 method.invoke(macreg.newInstance(), this);
             } catch (Exception e) {
-                System.err.println(""Exception ("" + e.getClass().toString() + ""): "" + e.getMessage());
+                System.err.println(""Exception ("" + e.getClass() + ""): "" + e.getMessage());
             }
         }
     }, @@ -278,7 +278,7 @@ public String doLayout(BibtexEntry bibtex, BibtexDatabase database, ArrayList<St
         case LayoutHelper.IS_FIELD_END:
         case LayoutHelper.IS_GROUP_END:
             return """";
-        case LayoutHelper.IS_OPTION_FIELD: {
+        case LayoutHelper.IS_OPTION_FIELD:
             String fieldEntry;
 
             if (text.equals(""bibtextype"")) {
@@ -309,14 +309,12 @@ public String doLayout(BibtexEntry bibtex, BibtexDatabase database, ArrayList<St
             }
 
             return fieldEntry;
-        }
-        case LayoutHelper.IS_ENCODING_NAME: {
-            // Printing the encoding name is not supported in entry layouts, only
-            // in begin/end layouts. This prevents breakage if some users depend
-            // on a field called ""encoding"". We simply return this field instead:
-            return BibtexDatabase.getResolvedField(""encoding"", bibtex, database);
-        }
-        default:
+            case LayoutHelper.IS_ENCODING_NAME:
+                // Printing the encoding name is not supported in entry layouts, only
+                // in begin/end layouts. This prevents breakage if some users depend
+                // on a field called ""encoding"". We simply return this field instead:
+                return BibtexDatabase.getResolvedField(""encoding"", bibtex, database);
+            default:
             return """";
         }
     }, @@ -677,10 +677,10 @@ private void updateGroupContent(GroupTreeNode node) {
         for (BibtexEntry entry : entries) {
             // Sort according to current state of the entries
             if (group.contains(entry)) {
-                LOGGER.info(""Removing entry "" + entry.toString());
+                LOGGER.info(""Removing entry "" + entry);
                 toRemove.add(entry);
             } else {
-                LOGGER.info(""Adding entry "" + entry.toString());
+                LOGGER.info(""Adding entry "" + entry);
                 toAdd.add(entry);
             }
         }
@@ -722,7 +722,7 @@ public void updateGroupContentIfEnabled(boolean deletion) {
     }
 
     private void annotationEvent(GroupTreeNode node) {
-        LOGGER.info(""Performing annotation "" + node.toString());
+        LOGGER.info(""Performing annotation "" + node);
         if (editModeIndicator) {
             updateGroupContent(node);
             panel.markBaseChanged();, @@ -346,70 +346,68 @@ public void run() {
                         return; // There is an icon, but the field is not set.
                     }
 
-                    {
-                        // See if this is a simple file link field, or if it is a file-list
-                        // field that can specify a list of links:
-                        if (fieldName.equals(GUIGlobals.FILE_FIELD)) {
-
-                            // We use a FileListTableModel to parse the field content:
-                            FileListTableModel fileList = new FileListTableModel();
-                            fileList.setContent((String) link);
-
-                            FileListEntry flEntry = null;
-                            // If there are one or more links of the correct type,
-                            // open the first one:
-                            if (!listOfFileTypes.isEmpty()) {
-                                for (int i = 0; i < fileList.getRowCount(); i++) {
-                                    flEntry = fileList.getEntry(i);
-                                    boolean correctType = false;
-                                    for (String listOfFileType : listOfFileTypes) {
-                                        if (flEntry.getType().toString().equals(listOfFileType)) {
-                                            correctType = true;
-                                        }
+                    // See if this is a simple file link field, or if it is a file-list
+                    // field that can specify a list of links:
+                    if (fieldName.equals(GUIGlobals.FILE_FIELD)) {
+
+                        // We use a FileListTableModel to parse the field content:
+                        FileListTableModel fileList = new FileListTableModel();
+                        fileList.setContent((String) link);
+
+                        FileListEntry flEntry = null;
+                        // If there are one or more links of the correct type,
+                        // open the first one:
+                        if (!listOfFileTypes.isEmpty()) {
+                            for (int i = 0; i < fileList.getRowCount(); i++) {
+                                flEntry = fileList.getEntry(i);
+                                boolean correctType = false;
+                                for (String listOfFileType : listOfFileTypes) {
+                                    if (flEntry.getType().toString().equals(listOfFileType)) {
+                                        correctType = true;
                                     }
-                                    if (correctType) {
-                                        break;
-                                    }
-                                    flEntry = null;
                                 }
-                            }
-                            //If there are no file types specified, consider all files.
-                            else if (fileList.getRowCount() > 0) {
-                                flEntry = fileList.getEntry(0);
-                            }
-                            if (flEntry != null) {
-                                //                            if (fileList.getRowCount() > 0) {
-                                //                                FileListEntry flEntry = fileList.getEntry(0);
-
-                                ExternalFileMenuItem item = new ExternalFileMenuItem
-                                        (panel.frame(), entry, """",
-                                                flEntry.getLink(), flEntry.getType().getIcon(),
-                                                panel.metaData(), flEntry.getType());
-                                boolean success = item.openLink();
-                                if (!success) {
-                                    panel.output(Globals.lang(""Unable to open link.""));
+                                if (correctType) {
+                                    break;
                                 }
+                                flEntry = null;
                             }
-                        } else {
-                            try {
-                                Util.openExternalViewer(panel.metaData(), (String) link, fieldName);
-                            } catch (IOException ex) {
-                                panel.output(Globals.lang(""Unable to open link.""));
-                            }
+                        }
+                        //If there are no file types specified, consider all files.
+                        else if (fileList.getRowCount() > 0) {
+                            flEntry = fileList.getEntry(0);
+                        }
+                        if (flEntry != null) {
+                            //                            if (fileList.getRowCount() > 0) {
+                            //                                FileListEntry flEntry = fileList.getEntry(0);
 
-                            /*ExternalFileType type = Globals.prefs.getExternalFileTypeByMimeType(""text/html"");
                             ExternalFileMenuItem item = new ExternalFileMenuItem
                                     (panel.frame(), entry, """",
-                                    (String)link, type.getIcon(),
-                                    panel.metaData(), type);
+                                            flEntry.getLink(), flEntry.getType().getIcon(),
+                                            panel.metaData(), flEntry.getType());
                             boolean success = item.openLink();
                             if (!success) {
                                 panel.output(Globals.lang(""Unable to open link.""));
-                            } */
-                            //Util.openExternalViewer(panel.metaData(), (String)link, fieldName);
+                            }
+                        }
+                    } else {
+                        try {
+                            Util.openExternalViewer(panel.metaData(), (String) link, fieldName);
+                        } catch (IOException ex) {
+                            panel.output(Globals.lang(""Unable to open link.""));
                         }
 
+                        /*ExternalFileType type = Globals.prefs.getExternalFileTypeByMimeType(""text/html"");
+                        ExternalFileMenuItem item = new ExternalFileMenuItem
+                                (panel.frame(), entry, """",
+                                (String)link, type.getIcon(),
+                                panel.metaData(), type);
+                        boolean success = item.openLink();
+                        if (!success) {
+                            panel.output(Globals.lang(""Unable to open link.""));
+                        } */
+                        //Util.openExternalViewer(panel.metaData(), (String)link, fieldName);
                     }
+
                     //catch (IOException ex) {
                     //    panel.output(Globals.lang(""Error"") + "": "" + ex.getMessage());
                     //}, @@ -91,35 +91,34 @@ public boolean isRecognizedFormat(InputStream stream) throws IOException {
 
         List<String> entries = new LinkedList<String>();
 
-        { // Preprocess entries
-            String str;
-            StringBuffer sb = new StringBuffer();
+        // Preprocess entries
+        String str;
+        StringBuffer sb = new StringBuffer();
 
-            while ((str = in.readLine()) != null) {
+        while ((str = in.readLine()) != null) {
 
-                if (str.length() < 4) {
-                    continue;
-                }
+            if (str.length() < 4) {
+                continue;
+            }
 
-                String code = str.substring(0, 4);
+            String code = str.substring(0, 4);
 
-                if (code.equals(""    "")) {
-                    sb.append("" "").append(str.trim());
-                } else {
+            if (code.equals(""    "")) {
+                sb.append("" "").append(str.trim());
+            } else {
 
-                    // begining of a new item
-                    if (str.substring(0, 4).equals(""TI- "")) {
-                        if (sb.length() > 0) {
-                            entries.add(sb.toString());
-                        }
-                        sb = new StringBuffer();
+                // begining of a new item
+                if (str.substring(0, 4).equals(""TI- "")) {
+                    if (sb.length() > 0) {
+                        entries.add(sb.toString());
                     }
-                    sb.append('\n').append(str);
+                    sb = new StringBuffer();
                 }
+                sb.append('\n').append(str);
             }
-            if (sb.length() > 0) {
-                entries.add(sb.toString());
-            }
+        }
+        if (sb.length() > 0) {
+            entries.add(sb.toString());
         }
 
         List<BibtexEntry> results = new LinkedList<BibtexEntry>();, @@ -1211,7 +1211,7 @@ public static void main(String[] args) throws IOException,
         case 0:
             XMPUtil.usage();
             break;
-        case 1: {
+        case 1:
 
             if (args[0].endsWith("".pdf"")) {
                 // Read from pdf and write as BibTex
@@ -1245,64 +1245,61 @@ public static void main(String[] args) throws IOException,
                 XMPUtil.usage();
             }
             break;
-        }
-        case 2: {
-            if (args[0].equals(""-x"") && args[1].endsWith("".pdf"")) {
-                // Read from pdf and write as BibTex
-                XMPMetadata meta = XMPUtil.readRawXMP(new File(args[1]));
-
-                if (meta == null) {
-                    System.err
-                            .println(""The given pdf does not contain any XMP-metadata."");
-                } else {
-                    XMLUtil.save(meta.getXMPDocument(), System.out, ""UTF-8"");
+            case 2:
+                if (args[0].equals(""-x"") && args[1].endsWith("".pdf"")) {
+                    // Read from pdf and write as BibTex
+                    XMPMetadata meta = XMPUtil.readRawXMP(new File(args[1]));
+
+                    if (meta == null) {
+                        System.err
+                                .println(""The given pdf does not contain any XMP-metadata."");
+                    } else {
+                        XMLUtil.save(meta.getXMPDocument(), System.out, ""UTF-8"");
+                    }
+                    break;
                 }
-                break;
-            }
 
-            if (args[0].endsWith("".bib"") && args[1].endsWith("".pdf"")) {
-                ParserResult result = BibtexParser
-                        .parse(new FileReader(args[0]));
+                if (args[0].endsWith("".bib"") && args[1].endsWith("".pdf"")) {
+                    ParserResult result = BibtexParser
+                            .parse(new FileReader(args[0]));
 
-                Collection<BibtexEntry> entries = result.getDatabase()
-                        .getEntries();
+                    Collection<BibtexEntry> entries = result.getDatabase()
+                            .getEntries();
 
-                if (entries.isEmpty()) {
-                    System.err.println(""Could not find BibtexEntry in ""
-                            + args[0]);
-                } else {
-                    XMPUtil.writeXMP(new File(args[1]), entries, result
-                            .getDatabase(), false);
-                    System.out.println(""XMP written."");
+                    if (entries.isEmpty()) {
+                        System.err.println(""Could not find BibtexEntry in ""
+                                + args[0]);
+                    } else {
+                        XMPUtil.writeXMP(new File(args[1]), entries, result
+                                .getDatabase(), false);
+                        System.out.println(""XMP written."");
+                    }
+                    break;
                 }
-                break;
-            }
 
-            XMPUtil.usage();
-            break;
-        }
-        case 3: {
-            if (!args[1].endsWith("".bib"") && !args[2].endsWith("".pdf"")) {
                 XMPUtil.usage();
                 break;
-            }
+            case 3:
+                if (!args[1].endsWith("".bib"") && !args[2].endsWith("".pdf"")) {
+                    XMPUtil.usage();
+                    break;
+                }
 
-            ParserResult result = BibtexParser.parse(new FileReader(args[1]));
+                ParserResult result = BibtexParser.parse(new FileReader(args[1]));
 
-            BibtexEntry e = result.getDatabase().getEntryByKey(args[0]);
+                BibtexEntry e = result.getDatabase().getEntryByKey(args[0]);
 
-            if (e == null) {
-                System.err.println(""Could not find BibtexEntry "" + args[0]
-                        + "" in "" + args[0]);
-            } else {
-                XMPUtil.writeXMP(new File(args[2]), e, result.getDatabase());
+                if (e == null) {
+                    System.err.println(""Could not find BibtexEntry "" + args[0]
+                            + "" in "" + args[0]);
+                } else {
+                    XMPUtil.writeXMP(new File(args[2]), e, result.getDatabase());
 
-                System.out.println(""XMP written."");
-            }
-            break;
-        }
+                    System.out.println(""XMP written."");
+                }
+                break;
 
-        default:
+            default:
             XMPUtil.usage();
         }
     }, @@ -39,71 +39,69 @@ public void testGetAuthorList() {
     @Test
     public void testFixAuthor_firstNameFirstCommas() {
 
-        { // No Commas
-            Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", true, false));
-            Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", false, false));
+        // No Commas
+        Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", true, false));
+        Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", false, false));
 
-            Assert.assertEquals(""John Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"",
-                    false, false));
-            Assert.assertEquals(""J. Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"", true,
-                    false));
-
-            // Check caching
-            Assert.assertTrue(AuthorList.fixAuthor_firstNameFirstCommas(
-                    ""John von Neumann and John Smith and Black Brown, Peter"", true, false).equals(AuthorList
-                    .fixAuthor_firstNameFirstCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
-                            + ""John Smith and Black Brown, Peter"", true, false)));
-
-            Assert.assertEquals(""John Smith and Peter Black Brown"", AuthorList
-                    .fixAuthor_firstNameFirstCommas(""John Smith and Black Brown, Peter"", false, false));
-            Assert.assertEquals(""J. Smith and P. Black Brown"", AuthorList.fixAuthor_firstNameFirstCommas(
-                    ""John Smith and Black Brown, Peter"", true, false));
-
-            // Method description is different than code -> additional comma
-            // there
-            Assert.assertEquals(""John von Neumann, John Smith and Peter Black Brown"", AuthorList
-                    .fixAuthor_firstNameFirstCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", false, false));
-            Assert.assertEquals(""J. von Neumann, J. Smith and P. Black Brown"", AuthorList
-                    .fixAuthor_firstNameFirstCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", true, false));
-
-            Assert.assertEquals(""J. P. von Neumann"", AuthorList.fixAuthor_firstNameFirstCommas(
-                    ""John Peter von Neumann"", true, false));
-        }
-        { // Oxford Commas
-            Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", true, true));
-            Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", false, true));
-
-            Assert.assertEquals(""John Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"",
-                    false, true));
-            Assert.assertEquals(""J. Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"", true,
-                    true));
+        Assert.assertEquals(""John Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"",
+                false, false));
+        Assert.assertEquals(""J. Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"", true,
+                false));
 
-            // Check caching
-            Assert.assertTrue(AuthorList.fixAuthor_firstNameFirstCommas(
-                    ""John von Neumann and John Smith and Black Brown, Peter"", true, true).equals(AuthorList
-                    .fixAuthor_firstNameFirstCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
-                            + ""John Smith and Black Brown, Peter"", true, true)));
+        // Check caching
+        Assert.assertTrue(AuthorList.fixAuthor_firstNameFirstCommas(
+                ""John von Neumann and John Smith and Black Brown, Peter"", true, false).equals(AuthorList
+                .fixAuthor_firstNameFirstCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
+                        + ""John Smith and Black Brown, Peter"", true, false)));
 
-            Assert.assertEquals(""John Smith and Peter Black Brown"", AuthorList
-                    .fixAuthor_firstNameFirstCommas(""John Smith and Black Brown, Peter"", false, true));
-            Assert.assertEquals(""J. Smith and P. Black Brown"", AuthorList.fixAuthor_firstNameFirstCommas(
-                    ""John Smith and Black Brown, Peter"", true, true));
+        Assert.assertEquals(""John Smith and Peter Black Brown"", AuthorList
+                .fixAuthor_firstNameFirstCommas(""John Smith and Black Brown, Peter"", false, false));
+        Assert.assertEquals(""J. Smith and P. Black Brown"", AuthorList.fixAuthor_firstNameFirstCommas(
+                ""John Smith and Black Brown, Peter"", true, false));
+
+        // Method description is different than code -> additional comma
+        // there
+        Assert.assertEquals(""John von Neumann, John Smith and Peter Black Brown"", AuthorList
+                .fixAuthor_firstNameFirstCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", false, false));
+        Assert.assertEquals(""J. von Neumann, J. Smith and P. Black Brown"", AuthorList
+                .fixAuthor_firstNameFirstCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", true, false));
+
+        Assert.assertEquals(""J. P. von Neumann"", AuthorList.fixAuthor_firstNameFirstCommas(
+                ""John Peter von Neumann"", true, false));
+        // Oxford Commas
+        Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", true, true));
+        Assert.assertEquals("""", AuthorList.fixAuthor_firstNameFirstCommas("""", false, true));
+
+        Assert.assertEquals(""John Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"",
+                false, true));
+        Assert.assertEquals(""J. Smith"", AuthorList.fixAuthor_firstNameFirstCommas(""John Smith"", true,
+                true));
 
-            // Method description is different than code -> additional comma
-            // there
-            Assert.assertEquals(""John von Neumann, John Smith, and Peter Black Brown"", AuthorList
-                    .fixAuthor_firstNameFirstCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", false, true));
-            Assert.assertEquals(""J. von Neumann, J. Smith, and P. Black Brown"", AuthorList
-                    .fixAuthor_firstNameFirstCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", true, true));
+        // Check caching
+        Assert.assertTrue(AuthorList.fixAuthor_firstNameFirstCommas(
+                ""John von Neumann and John Smith and Black Brown, Peter"", true, true).equals(AuthorList
+                .fixAuthor_firstNameFirstCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
+                        + ""John Smith and Black Brown, Peter"", true, true)));
 
-            Assert.assertEquals(""J. P. von Neumann"", AuthorList.fixAuthor_firstNameFirstCommas(
-                    ""John Peter von Neumann"", true, true));
+        Assert.assertEquals(""John Smith and Peter Black Brown"", AuthorList
+                .fixAuthor_firstNameFirstCommas(""John Smith and Black Brown, Peter"", false, true));
+        Assert.assertEquals(""J. Smith and P. Black Brown"", AuthorList.fixAuthor_firstNameFirstCommas(
+                ""John Smith and Black Brown, Peter"", true, true));
+
+        // Method description is different than code -> additional comma
+        // there
+        Assert.assertEquals(""John von Neumann, John Smith, and Peter Black Brown"", AuthorList
+                .fixAuthor_firstNameFirstCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", false, true));
+        Assert.assertEquals(""J. von Neumann, J. Smith, and P. Black Brown"", AuthorList
+                .fixAuthor_firstNameFirstCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", true, true));
+
+        Assert.assertEquals(""J. P. von Neumann"", AuthorList.fixAuthor_firstNameFirstCommas(
+                ""John Peter von Neumann"", true, true));
 
-        }
     }
 
     @Test
@@ -163,39 +161,38 @@ public void testFixAuthor_lastNameFirstCommas() {
             Assert.assertEquals(""von Neumann, J. P."", AuthorList.fixAuthor_lastNameFirstCommas(
                     ""John Peter von Neumann"", true, false));
         }
-        { // Oxford Commas
-            Assert.assertEquals("""", AuthorList.fixAuthor_lastNameFirstCommas("""", true, true));
-            Assert.assertEquals("""", AuthorList.fixAuthor_lastNameFirstCommas("""", false, true));
-
-            Assert.assertEquals(""Smith, John"", AuthorList.fixAuthor_lastNameFirstCommas(""John Smith"",
-                    false, true));
-            Assert.assertEquals(""Smith, J."", AuthorList.fixAuthor_lastNameFirstCommas(""John Smith"", true,
-                    true));
+        // Oxford Commas
+        Assert.assertEquals("""", AuthorList.fixAuthor_lastNameFirstCommas("""", true, true));
+        Assert.assertEquals("""", AuthorList.fixAuthor_lastNameFirstCommas("""", false, true));
 
-            String a = AuthorList.fixAuthor_lastNameFirstCommas(
-                    ""John von Neumann and John Smith and Black Brown, Peter"", true, true);
-            String b = AuthorList.fixAuthor_lastNameFirstCommas(""John von Neumann""
-                    + (0 == 1 ? """" : "" and "") + ""John Smith and Black Brown, Peter"", true, true);
+        Assert.assertEquals(""Smith, John"", AuthorList.fixAuthor_lastNameFirstCommas(""John Smith"",
+                false, true));
+        Assert.assertEquals(""Smith, J."", AuthorList.fixAuthor_lastNameFirstCommas(""John Smith"", true,
+                true));
 
-            // Check caching
-            Assert.assertEquals(a, b);
-            Assert.assertTrue(a.equals(b));
+        String a = AuthorList.fixAuthor_lastNameFirstCommas(
+                ""John von Neumann and John Smith and Black Brown, Peter"", true, true);
+        String b = AuthorList.fixAuthor_lastNameFirstCommas(""John von Neumann""
+                + (0 == 1 ? """" : "" and "") + ""John Smith and Black Brown, Peter"", true, true);
 
-            Assert.assertEquals(""Smith, John and Black Brown, Peter"", AuthorList
-                    .fixAuthor_lastNameFirstCommas(""John Smith and Black Brown, Peter"", false, true));
-            Assert.assertEquals(""Smith, J. and Black Brown, P."", AuthorList.fixAuthor_lastNameFirstCommas(
-                    ""John Smith and Black Brown, Peter"", true, true));
-
-            Assert.assertEquals(""von Neumann, John, Smith, John, and Black Brown, Peter"", AuthorList
-                    .fixAuthor_lastNameFirstCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", false, true));
-            Assert.assertEquals(""von Neumann, J., Smith, J., and Black Brown, P."", AuthorList
-                    .fixAuthor_lastNameFirstCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", true, true));
+        // Check caching
+        Assert.assertEquals(a, b);
+        Assert.assertTrue(a.equals(b));
 
-            Assert.assertEquals(""von Neumann, J. P."", AuthorList.fixAuthor_lastNameFirstCommas(
-                    ""John Peter von Neumann"", true, true));
-        }
+        Assert.assertEquals(""Smith, John and Black Brown, Peter"", AuthorList
+                .fixAuthor_lastNameFirstCommas(""John Smith and Black Brown, Peter"", false, true));
+        Assert.assertEquals(""Smith, J. and Black Brown, P."", AuthorList.fixAuthor_lastNameFirstCommas(
+                ""John Smith and Black Brown, Peter"", true, true));
+
+        Assert.assertEquals(""von Neumann, John, Smith, John, and Black Brown, Peter"", AuthorList
+                .fixAuthor_lastNameFirstCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", false, true));
+        Assert.assertEquals(""von Neumann, J., Smith, J., and Black Brown, P."", AuthorList
+                .fixAuthor_lastNameFirstCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", true, true));
+
+        Assert.assertEquals(""von Neumann, J. P."", AuthorList.fixAuthor_lastNameFirstCommas(
+                ""John Peter von Neumann"", true, true));
     }
 
     @Test
@@ -260,34 +257,32 @@ public void testFixAuthor_lastNameFirst() {
     @Test
     public void testFixAuthor_lastNameOnlyCommas() {
 
-        { // No comma before and
-            Assert.assertEquals("""", AuthorList.fixAuthor_lastNameOnlyCommas("""", false));
-            Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""John Smith"", false));
-            Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""Smith, Jr, John"", false));
+        // No comma before and
+        Assert.assertEquals("""", AuthorList.fixAuthor_lastNameOnlyCommas("""", false));
+        Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""John Smith"", false));
+        Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""Smith, Jr, John"", false));
+
+        Assert.assertTrue(AuthorList.fixAuthor_lastNameOnlyCommas(
+                ""John von Neumann and John Smith and Black Brown, Peter"", false).equals(AuthorList
+                .fixAuthor_lastNameOnlyCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
+                        + ""John Smith and Black Brown, Peter"", false)));
+
+        Assert.assertEquals(""von Neumann, Smith and Black Brown"", AuthorList
+                .fixAuthor_lastNameOnlyCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", false));
+        // Oxford Comma
+        Assert.assertEquals("""", AuthorList.fixAuthor_lastNameOnlyCommas("""", true));
+        Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""John Smith"", true));
+        Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""Smith, Jr, John"", true));
 
-            Assert.assertTrue(AuthorList.fixAuthor_lastNameOnlyCommas(
-                    ""John von Neumann and John Smith and Black Brown, Peter"", false).equals(AuthorList
-                    .fixAuthor_lastNameOnlyCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
-                            + ""John Smith and Black Brown, Peter"", false)));
+        Assert.assertTrue(AuthorList.fixAuthor_lastNameOnlyCommas(
+                ""John von Neumann and John Smith and Black Brown, Peter"", true).equals(AuthorList
+                .fixAuthor_lastNameOnlyCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
+                        + ""John Smith and Black Brown, Peter"", true)));
 
-            Assert.assertEquals(""von Neumann, Smith and Black Brown"", AuthorList
-                    .fixAuthor_lastNameOnlyCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", false));
-        }
-        { // Oxford Comma
-            Assert.assertEquals("""", AuthorList.fixAuthor_lastNameOnlyCommas("""", true));
-            Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""John Smith"", true));
-            Assert.assertEquals(""Smith"", AuthorList.fixAuthor_lastNameOnlyCommas(""Smith, Jr, John"", true));
-
-            Assert.assertTrue(AuthorList.fixAuthor_lastNameOnlyCommas(
-                    ""John von Neumann and John Smith and Black Brown, Peter"", true).equals(AuthorList
-                    .fixAuthor_lastNameOnlyCommas(""John von Neumann"" + (0 == 1 ? """" : "" and "")
-                            + ""John Smith and Black Brown, Peter"", true)));
-
-            Assert.assertEquals(""von Neumann, Smith, and Black Brown"", AuthorList
-                    .fixAuthor_lastNameOnlyCommas(
-                            ""John von Neumann and John Smith and Black Brown, Peter"", true));
-        }
+        Assert.assertEquals(""von Neumann, Smith, and Black Brown"", AuthorList
+                .fixAuthor_lastNameOnlyCommas(
+                        ""John von Neumann and John Smith and Black Brown, Peter"", true));
     }
 
     @Test
@@ -397,24 +392,22 @@ public void testGetAuthorsNatbib() {
     @Test
     public void testGetAuthorsLastOnly() {
 
-        { // No comma before and
-            Assert.assertEquals("""", AuthorList.getAuthorList("""").getAuthorsLastOnly(false));
-            Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""John Smith"").getAuthorsLastOnly(false));
-            Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""Smith, Jr, John"").getAuthorsLastOnly(
-                    false));
+        // No comma before and
+        Assert.assertEquals("""", AuthorList.getAuthorList("""").getAuthorsLastOnly(false));
+        Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""John Smith"").getAuthorsLastOnly(false));
+        Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""Smith, Jr, John"").getAuthorsLastOnly(
+                false));
 
-            Assert.assertEquals(""von Neumann, Smith and Black Brown"", AuthorList.getAuthorList(
-                    ""John von Neumann and John Smith and Black Brown, Peter"").getAuthorsLastOnly(false));
-        }
-        { // Oxford comma
-            Assert.assertEquals("""", AuthorList.getAuthorList("""").getAuthorsLastOnly(true));
-            Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""John Smith"").getAuthorsLastOnly(true));
-            Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""Smith, Jr, John"").getAuthorsLastOnly(
-                    true));
-
-            Assert.assertEquals(""von Neumann, Smith, and Black Brown"", AuthorList.getAuthorList(
-                    ""John von Neumann and John Smith and Black Brown, Peter"").getAuthorsLastOnly(true));
-        }
+        Assert.assertEquals(""von Neumann, Smith and Black Brown"", AuthorList.getAuthorList(
+                ""John von Neumann and John Smith and Black Brown, Peter"").getAuthorsLastOnly(false));
+        // Oxford comma
+        Assert.assertEquals("""", AuthorList.getAuthorList("""").getAuthorsLastOnly(true));
+        Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""John Smith"").getAuthorsLastOnly(true));
+        Assert.assertEquals(""Smith"", AuthorList.getAuthorList(""Smith, Jr, John"").getAuthorsLastOnly(
+                true));
+
+        Assert.assertEquals(""von Neumann, Smith, and Black Brown"", AuthorList.getAuthorList(
+                ""John von Neumann and John Smith and Black Brown, Peter"").getAuthorsLastOnly(true));
     }
 
     @Test
@@ -445,30 +438,29 @@ public void testGetAuthorsLastFirst() {
             al = AuthorList.getAuthorList(""John Peter von Neumann"");
             Assert.assertEquals(""von Neumann, J. P."", al.getAuthorsLastFirst(true, false));
         }
-        { // Oxford comma
-            AuthorList al;
+        // Oxford comma
+        AuthorList al;
 
-            al = AuthorList.getAuthorList("""");
-            Assert.assertEquals("""", al.getAuthorsLastFirst(true, true));
-            Assert.assertEquals("""", al.getAuthorsLastFirst(false, true));
+        al = AuthorList.getAuthorList("""");
+        Assert.assertEquals("""", al.getAuthorsLastFirst(true, true));
+        Assert.assertEquals("""", al.getAuthorsLastFirst(false, true));
 
-            al = AuthorList.getAuthorList(""John Smith"");
-            Assert.assertEquals(""Smith, John"", al.getAuthorsLastFirst(false, true));
-            Assert.assertEquals(""Smith, J."", al.getAuthorsLastFirst(true, true));
+        al = AuthorList.getAuthorList(""John Smith"");
+        Assert.assertEquals(""Smith, John"", al.getAuthorsLastFirst(false, true));
+        Assert.assertEquals(""Smith, J."", al.getAuthorsLastFirst(true, true));
 
-            al = AuthorList.getAuthorList(""John Smith and Black Brown, Peter"");
-            Assert.assertEquals(""Smith, John and Black Brown, Peter"", al.getAuthorsLastFirst(false, true));
-            Assert.assertEquals(""Smith, J. and Black Brown, P."", al.getAuthorsLastFirst(true, true));
+        al = AuthorList.getAuthorList(""John Smith and Black Brown, Peter"");
+        Assert.assertEquals(""Smith, John and Black Brown, Peter"", al.getAuthorsLastFirst(false, true));
+        Assert.assertEquals(""Smith, J. and Black Brown, P."", al.getAuthorsLastFirst(true, true));
 
-            al = AuthorList.getAuthorList(""John von Neumann and John Smith and Black Brown, Peter"");
-            Assert.assertEquals(""von Neumann, John, Smith, John, and Black Brown, Peter"", al
-                    .getAuthorsLastFirst(false, true));
-            Assert.assertEquals(""von Neumann, J., Smith, J., and Black Brown, P."", al.getAuthorsLastFirst(
-                    true, true));
+        al = AuthorList.getAuthorList(""John von Neumann and John Smith and Black Brown, Peter"");
+        Assert.assertEquals(""von Neumann, John, Smith, John, and Black Brown, Peter"", al
+                .getAuthorsLastFirst(false, true));
+        Assert.assertEquals(""von Neumann, J., Smith, J., and Black Brown, P."", al.getAuthorsLastFirst(
+                true, true));
 
-            al = AuthorList.getAuthorList(""John Peter von Neumann"");
-            Assert.assertEquals(""von Neumann, J. P."", al.getAuthorsLastFirst(true, true));
-        }
+        al = AuthorList.getAuthorList(""John Peter von Neumann"");
+        Assert.assertEquals(""von Neumann, J. P."", al.getAuthorsLastFirst(true, true));
     }
 
     @Test, @@ -54,20 +54,18 @@ public void warn(String s) {
             }));
         }
 
-        {
-            AuthorList al = AuthorList
-                    .getAuthorList(""Charles Louis Xavier Joseph de la Vall{\\'e}e Poussin"");
+        AuthorList al = AuthorList
+                .getAuthorList(""Charles Louis Xavier Joseph de la Vall{\\'e}e Poussin"");
 
-            Assert.assertEquals(""dlVP"", BibtexNameFormatter.formatName(al.getAuthor(0), ""{v{}}{l{}}"",
-                    new Warn() {
+        Assert.assertEquals(""dlVP"", BibtexNameFormatter.formatName(al.getAuthor(0), ""{v{}}{l{}}"",
+                new Warn() {
 
-                        @Override
-                        public void warn(String s) {
-                            Assert.fail(s);
-                        }
+                    @Override
+                    public void warn(String s) {
+                        Assert.fail(s);
                     }
-                    ));
-        }
+                }
+                ));
 
         assertNameFormatA(""Meyer, J?"", ""Jonathan Meyer and Charles Louis Xavier Joseph de la Vall{\\'e}e Poussin"");
         assertNameFormatB(""J.~Meyer"", ""Jonathan Meyer and Charles Louis Xavier Joseph de la Vall{\\'e}e Poussin"");
@@ -122,12 +120,10 @@ public void testConsumeToMatchingBrace() {
                     .toCharArray(), 12));
             Assert.assertEquals(""{WORLD}"", sb.toString());
         }
-        {
-            StringBuffer sb = new StringBuffer();
-            Assert.assertEquals(10, BibtexNameFormatter.consumeToMatchingBrace(sb, ""{HE{L{}L}O} {WORLD}""
-                    .toCharArray(), 0));
-            Assert.assertEquals(""{HE{L{}L}O}"", sb.toString());
-        }
+        StringBuffer sb = new StringBuffer();
+        Assert.assertEquals(10, BibtexNameFormatter.consumeToMatchingBrace(sb, ""{HE{L{}L}O} {WORLD}""
+                .toCharArray(), 0));
+        Assert.assertEquals(""{HE{L{}L}O}"", sb.toString());
     }
 
     @Test, @@ -110,26 +110,24 @@ public void testVMExecuteSimple() throws RecognitionException, IOException {
             vm.run(v);
             Assert.assertEquals(new Integer(5), vm.getIntegers().get(""variable.a""));
         }
-        {
-            VM vm = new VM(""FUNCTION {a}{ #5 #5 = "" + ""#1 #2 = "" + ""#3 #4 < "" + ""#4 #3 < ""
-                    + ""#4 #4 < "" + ""#3 #4 > "" + ""#4 #3 > "" + ""#4 #4 > "" + ""\""H\"" \""H\"" = ""
-                    + ""\""H\"" \""Ha\"" = } "" + ""EXECUTE {a}"");
+        VM vm = new VM(""FUNCTION {a}{ #5 #5 = "" + ""#1 #2 = "" + ""#3 #4 < "" + ""#4 #3 < ""
+                + ""#4 #4 < "" + ""#3 #4 > "" + ""#4 #3 > "" + ""#4 #4 > "" + ""\""H\"" \""H\"" = ""
+                + ""\""H\"" \""Ha\"" = } "" + ""EXECUTE {a}"");
 
-            Vector<BibtexEntry> v = new Vector<BibtexEntry>();
-            vm.run(v);
+        Vector<BibtexEntry> v = new Vector<BibtexEntry>();
+        vm.run(v);
 
-            Assert.assertEquals(VM.FALSE, vm.getStack().pop());
-            Assert.assertEquals(VM.TRUE, vm.getStack().pop());
-            Assert.assertEquals(VM.FALSE, vm.getStack().pop());
-            Assert.assertEquals(VM.TRUE, vm.getStack().pop());
-            Assert.assertEquals(VM.FALSE, vm.getStack().pop());
-            Assert.assertEquals(VM.FALSE, vm.getStack().pop());
-            Assert.assertEquals(VM.FALSE, vm.getStack().pop());
-            Assert.assertEquals(VM.TRUE, vm.getStack().pop());
-            Assert.assertEquals(VM.FALSE, vm.getStack().pop());
-            Assert.assertEquals(VM.TRUE, vm.getStack().pop());
-            Assert.assertEquals(0, vm.getStack().size());
-        }
+        Assert.assertEquals(VM.FALSE, vm.getStack().pop());
+        Assert.assertEquals(VM.TRUE, vm.getStack().pop());
+        Assert.assertEquals(VM.FALSE, vm.getStack().pop());
+        Assert.assertEquals(VM.TRUE, vm.getStack().pop());
+        Assert.assertEquals(VM.FALSE, vm.getStack().pop());
+        Assert.assertEquals(VM.FALSE, vm.getStack().pop());
+        Assert.assertEquals(VM.FALSE, vm.getStack().pop());
+        Assert.assertEquals(VM.TRUE, vm.getStack().pop());
+        Assert.assertEquals(VM.FALSE, vm.getStack().pop());
+        Assert.assertEquals(VM.TRUE, vm.getStack().pop());
+        Assert.assertEquals(0, vm.getStack().size());
     }
 
     @Test
@@ -166,17 +164,15 @@ public void testVMArithmetic() throws RecognitionException, IOException {
             Assert.assertEquals(2, vm.getStack().pop());
             Assert.assertEquals(0, vm.getStack().size());
         }
-        {
-            VM vm = new VM(""FUNCTION {test} { "" + ""#1 \""HELLO\"" + #5 #2 - }"" + ""EXECUTE {test}"");
+        VM vm = new VM(""FUNCTION {test} { "" + ""#1 \""HELLO\"" + #5 #2 - }"" + ""EXECUTE {test}"");
 
-            Vector<BibtexEntry> v = new Vector<BibtexEntry>();
+        Vector<BibtexEntry> v = new Vector<BibtexEntry>();
 
-            try {
-                vm.run(v);
-                Assert.fail();
-            } catch (VMException ignored) {
+        try {
+            vm.run(v);
+            Assert.fail();
+        } catch (VMException ignored) {
 
-            }
         }
     }
 
@@ -191,40 +187,36 @@ public void testNumNames() throws RecognitionException, IOException {
             Assert.assertEquals(2, vm.getStack().pop());
             Assert.assertEquals(0, vm.getStack().size());
         }
-        {
-            VM vm = new VM(""FUNCTION {test} { \""Johnny Foo { and } Mary Bar\"" num.names$ }""
-                    + ""EXECUTE {test}"");
+        VM vm = new VM(""FUNCTION {test} { \""Johnny Foo { and } Mary Bar\"" num.names$ }""
+                + ""EXECUTE {test}"");
 
-            Vector<BibtexEntry> v = new Vector<BibtexEntry>();
-            vm.run(v);
-            Assert.assertEquals(1, vm.getStack().pop());
-            Assert.assertEquals(0, vm.getStack().size());
-        }
+        Vector<BibtexEntry> v = new Vector<BibtexEntry>();
+        vm.run(v);
+        Assert.assertEquals(1, vm.getStack().pop());
+        Assert.assertEquals(0, vm.getStack().size());
     }
 
     @Test
     public void testVMStringOps1() throws RecognitionException, IOException {
-        {
-            VM vm = new VM(
-                    ""FUNCTION {test} { \""H\"" \""allo\"" * \""Johnny\"" add.period$ \""Johnny.\"" add.period$""
-                            + ""\""Johnny!\"" add.period$ \""Johnny?\"" add.period$ \""Johnny} }}}\"" add.period$""
-                            + ""\""Johnny!}\"" add.period$ \""Johnny?}\"" add.period$ \""Johnny.}\"" add.period$ }""
-                            + ""EXECUTE {test}""
-                    );
+        VM vm = new VM(
+                ""FUNCTION {test} { \""H\"" \""allo\"" * \""Johnny\"" add.period$ \""Johnny.\"" add.period$""
+                        + ""\""Johnny!\"" add.period$ \""Johnny?\"" add.period$ \""Johnny} }}}\"" add.period$""
+                        + ""\""Johnny!}\"" add.period$ \""Johnny?}\"" add.period$ \""Johnny.}\"" add.period$ }""
+                        + ""EXECUTE {test}""
+                );
 
-            Vector<BibtexEntry> v = new Vector<BibtexEntry>();
-            vm.run(v);
-            Assert.assertEquals(""Johnny.}"", vm.getStack().pop());
-            Assert.assertEquals(""Johnny?}"", vm.getStack().pop());
-            Assert.assertEquals(""Johnny!}"", vm.getStack().pop());
-            Assert.assertEquals(""Johnny.}"", vm.getStack().pop());
-            Assert.assertEquals(""Johnny?"", vm.getStack().pop());
-            Assert.assertEquals(""Johnny!"", vm.getStack().pop());
-            Assert.assertEquals(""Johnny."", vm.getStack().pop());
-            Assert.assertEquals(""Johnny."", vm.getStack().pop());
-            Assert.assertEquals(""Hallo"", vm.getStack().pop());
-            Assert.assertEquals(0, vm.getStack().size());
-        }
+        Vector<BibtexEntry> v = new Vector<BibtexEntry>();
+        vm.run(v);
+        Assert.assertEquals(""Johnny.}"", vm.getStack().pop());
+        Assert.assertEquals(""Johnny?}"", vm.getStack().pop());
+        Assert.assertEquals(""Johnny!}"", vm.getStack().pop());
+        Assert.assertEquals(""Johnny.}"", vm.getStack().pop());
+        Assert.assertEquals(""Johnny?"", vm.getStack().pop());
+        Assert.assertEquals(""Johnny!"", vm.getStack().pop());
+        Assert.assertEquals(""Johnny."", vm.getStack().pop());
+        Assert.assertEquals(""Johnny."", vm.getStack().pop());
+        Assert.assertEquals(""Hallo"", vm.getStack().pop());
+        Assert.assertEquals(0, vm.getStack().size());
     }
 
     @Test
@@ -363,14 +355,12 @@ public void testVMChrToInt() throws RecognitionException, IOException {
             Assert.assertEquals(72, vm.getStack().pop());
             Assert.assertEquals(0, vm.getStack().size());
         }
-        {
-            VM vm = new VM(""FUNCTION {test} { \""H\"" chr.to.int$ int.to.chr$ }"" + ""EXECUTE {test}"");
+        VM vm = new VM(""FUNCTION {test} { \""H\"" chr.to.int$ int.to.chr$ }"" + ""EXECUTE {test}"");
 
-            Vector<BibtexEntry> v = new Vector<BibtexEntry>();
-            vm.run(v);
-            Assert.assertEquals(""H"", vm.getStack().pop());
-            Assert.assertEquals(0, vm.getStack().size());
-        }
+        Vector<BibtexEntry> v = new Vector<BibtexEntry>();
+        vm.run(v);
+        Assert.assertEquals(""H"", vm.getStack().pop());
+        Assert.assertEquals(0, vm.getStack().size());
     }
 
     @Test
@@ -520,21 +510,19 @@ public void testFormatName() throws RecognitionException, IOException {
             Assert.assertEquals(""de~la Vall{\\'e}e~Poussin, C.~L. X.~J?"", vm.getStack().pop());
             Assert.assertEquals(0, vm.getStack().size());
         }
-        {
-            VM vm = new VM(""ENTRY  { author }  { }  { label } ""
-                    + ""FUNCTION {presort} { cite$ 'sort.key$ := } "" + ""ITERATE { presort } "" + ""READ ""
-                    + ""SORT "" + ""FUNCTION {format}{ author #2 \""{vv~}{ll}{, jj}{, f}?\"" format.name$ }""
-                    + ""ITERATE {format}"");
+        VM vm = new VM(""ENTRY  { author }  { }  { label } ""
+                + ""FUNCTION {presort} { cite$ 'sort.key$ := } "" + ""ITERATE { presort } "" + ""READ ""
+                + ""SORT "" + ""FUNCTION {format}{ author #2 \""{vv~}{ll}{, jj}{, f}?\"" format.name$ }""
+                + ""ITERATE {format}"");
 
-            Vector<BibtexEntry> v = new Vector<BibtexEntry>();
-            v.add(t1BibtexEntry());
-            v
-                    .add(TestVM.bibtexString2BibtexEntry(""@book{test, author=\""Jonathan Meyer and Charles Louis Xavier Joseph de la Vall{\\'e}e Poussin\""}""));
-            vm.run(v);
-            Assert.assertEquals(""de~la Vall{\\'e}e~Poussin, C.~L. X.~J?"", vm.getStack().pop());
-            Assert.assertEquals(""Annabi, H?"", vm.getStack().pop());
-            Assert.assertEquals(0, vm.getStack().size());
-        }
+        Vector<BibtexEntry> v = new Vector<BibtexEntry>();
+        v.add(t1BibtexEntry());
+        v
+                .add(TestVM.bibtexString2BibtexEntry(""@book{test, author=\""Jonathan Meyer and Charles Louis Xavier Joseph de la Vall{\\'e}e Poussin\""}""));
+        vm.run(v);
+        Assert.assertEquals(""de~la Vall{\\'e}e~Poussin, C.~L. X.~J?"", vm.getStack().pop());
+        Assert.assertEquals(""Annabi, H?"", vm.getStack().pop());
+        Assert.assertEquals(0, vm.getStack().size());
     }
 
     @Test, @@ -43,15 +43,13 @@ public String format(String fieldText) {
             Assert.assertEquals(""BAff"", f.format(""f""));
         }
 
-        {
-            LayoutFormatter f = new CompositeFormat(new AuthorOrgSci(),
-                    new NoSpaceBetweenAbbreviations());
-            LayoutFormatter first = new AuthorOrgSci();
-            LayoutFormatter second = new NoSpaceBetweenAbbreviations();
+        LayoutFormatter f = new CompositeFormat(new AuthorOrgSci(),
+                new NoSpaceBetweenAbbreviations());
+        LayoutFormatter first = new AuthorOrgSci();
+        LayoutFormatter second = new NoSpaceBetweenAbbreviations();
 
-            Assert.assertEquals(second.format(first.format(""John Flynn and Sabine Gartska"")), f.format(""John Flynn and Sabine Gartska""));
-            Assert.assertEquals(second.format(first.format(""Sa Makridakis and Sa Ca Wheelwright and Va Ea McGee"")), f.format(""Sa Makridakis and Sa Ca Wheelwright and Va Ea McGee""));
-        }
+        Assert.assertEquals(second.format(first.format(""John Flynn and Sabine Gartska"")), f.format(""John Flynn and Sabine Gartska""));
+        Assert.assertEquals(second.format(first.format(""Sa Makridakis and Sa Ca Wheelwright and Va Ea McGee"")), f.format(""Sa Makridakis and Sa Ca Wheelwright and Va Ea McGee""));
     }
 
 }, @@ -123,10 +123,9 @@ public void testFromString() throws Exception {
             Assert.assertEquals(0, c.size());
 
         }
-        { // Error
-            Collection<BibtexEntry> c = BibtexParser.fromString(""@@article@@{{{{{{}"");
-            Assert.assertEquals(null, c);
-        }
+        // Error
+        Collection<BibtexEntry> c = BibtexParser.fromString(""@@article@@{{{{{{}"");
+        Assert.assertEquals(null, c);
 
     }
 , @@ -167,14 +167,12 @@ public void testOnline() throws InterruptedException {
             Thread.sleep(20000);
         }
 
-        {
-            OAI2Fetcher fetcher = new OAI2Fetcher();
-            be = fetcher.importOai2Entry(""0709.3040"");
-            Assert.assertNotNull(be);
+        OAI2Fetcher fetcher = new OAI2Fetcher();
+        be = fetcher.importOai2Entry(""0709.3040"");
+        Assert.assertNotNull(be);
 
-            Assert.assertEquals(""2007"", be.getField(""year""));
-            Assert.assertEquals(""#sep#"", be.getField(""month""));
-        }
+        Assert.assertEquals(""2007"", be.getField(""year""));
+        Assert.assertEquals(""#sep#"", be.getField(""month""));
 
     }
 }, @@ -127,37 +127,35 @@ public void testFindPdfInMultiple() throws IOException {
                     .getAbsolutePath());
         }
 
-        {
-            String[] dirsToSearch = new String[]{root.getAbsolutePath() + ""/pdfs/"",
-                    root.getAbsolutePath()};
-            String pdf = UtilFindFiles.findPdf(entry, ""pdf"", dirsToSearch);
-            AssertUtil.assertEqualPaths(""sub/HipKro03-sub.pdf"", pdf);
+        String[] dirsToSearch = new String[]{root.getAbsolutePath() + ""/pdfs/"",
+                root.getAbsolutePath()};
+        String pdf = UtilFindFiles.findPdf(entry, ""pdf"", dirsToSearch);
+        AssertUtil.assertEqualPaths(""sub/HipKro03-sub.pdf"", pdf);
 
-            File fullPath = FileUtil.expandFilename(pdf, dirsToSearch);
-            Assert.assertNotNull(fullPath);
-            Assert.assertTrue(fullPath.exists());
-            AssertUtil.assertEqualPaths(root.getAbsolutePath() + ""/pdfs/sub/HipKro03-sub.pdf"", fullPath
-                    .getAbsolutePath());
+        File fullPath = FileUtil.expandFilename(pdf, dirsToSearch);
+        Assert.assertNotNull(fullPath);
+        Assert.assertTrue(fullPath.exists());
+        AssertUtil.assertEqualPaths(root.getAbsolutePath() + ""/pdfs/sub/HipKro03-sub.pdf"", fullPath
+                .getAbsolutePath());
 
-            String tmp = dirsToSearch[1];
-            dirsToSearch[1] = dirsToSearch[0];
-            dirsToSearch[0] = tmp;
+        String tmp = dirsToSearch[1];
+        dirsToSearch[1] = dirsToSearch[0];
+        dirsToSearch[0] = tmp;
 
-            fullPath = FileUtil.expandFilename(pdf, dirsToSearch);
-            Assert.assertNotNull(fullPath);
-            Assert.assertTrue(fullPath.exists());
-            AssertUtil.assertEqualPaths(root.getAbsolutePath() + ""/pdfs/sub/HipKro03-sub.pdf"", fullPath
-                    .getAbsolutePath());
+        fullPath = FileUtil.expandFilename(pdf, dirsToSearch);
+        Assert.assertNotNull(fullPath);
+        Assert.assertTrue(fullPath.exists());
+        AssertUtil.assertEqualPaths(root.getAbsolutePath() + ""/pdfs/sub/HipKro03-sub.pdf"", fullPath
+                .getAbsolutePath());
 
-            fullPath = FileUtil.expandFilename(pdf, new String[]{dirsToSearch[0]});
-            Assert.assertNull(fullPath);
+        fullPath = FileUtil.expandFilename(pdf, new String[]{dirsToSearch[0]});
+        Assert.assertNull(fullPath);
 
-            fullPath = FileUtil.expandFilename(pdf, new String[]{dirsToSearch[1]});
-            Assert.assertNotNull(fullPath);
-            Assert.assertTrue(fullPath.exists());
-            AssertUtil.assertEqualPaths(root.getAbsolutePath() + ""/pdfs/sub/HipKro03-sub.pdf"", fullPath
-                    .getAbsolutePath());
-        }
+        fullPath = FileUtil.expandFilename(pdf, new String[]{dirsToSearch[1]});
+        Assert.assertNotNull(fullPath);
+        Assert.assertTrue(fullPath.exists());
+        AssertUtil.assertEqualPaths(root.getAbsolutePath() + ""/pdfs/sub/HipKro03-sub.pdf"", fullPath
+                .getAbsolutePath());
 
     }
 , @@ -157,11 +157,10 @@ public void testSetGetBagListString() throws IOException {
             Assert.assertTrue(l.get(0).equals(""Tom DeMarco""));
             Assert.assertTrue(l.get(1).equals(""Tom DeMarco""));
         }
-        { // Removes both
-            bibtex.removeBagValue(""author"", ""Tom DeMarco"");
-            List<String> l = bibtex.getBagList(""author"");
-            Assert.assertEquals(0, l.size());
-        }
+        // Removes both
+        bibtex.removeBagValue(""author"", ""Tom DeMarco"");
+        List<String> l = bibtex.getBagList(""author"");
+        Assert.assertEquals(0, l.size());
     }
 
     @Test
@@ -200,11 +199,10 @@ public void testGetSequenceListString() throws IOException {
             Assert.assertTrue(l.get(0).equals(""Kent Beck""));
             Assert.assertTrue(l.get(1).equals(""Kent Beck""));
         }
-        { // Remvoes all
-            bibtex.removeSequenceValue(""author"", ""Kent Beck"");
-            List<String> l = bibtex.getSequenceList(""author"");
-            Assert.assertEquals(0, l.size());
-        }
+        // Remvoes all
+        bibtex.removeSequenceValue(""author"", ""Kent Beck"");
+        List<String> l = bibtex.getSequenceList(""author"");
+        Assert.assertEquals(0, l.size());
     }
 
     @Test, @@ -351,28 +351,27 @@ public void testPrivacyFilter() throws IOException, TransformerException {
 
             Assert.assertEquals(expectedFields, x.getAllFields());
         }
-        { // First set:
-            prefs.putBoolean(""useXmpPrivacyFilter"", true);
-            prefs
-                    .putStringArray(
-                            JabRefPreferences.XMP_PRIVACY_FILTERS,
-                            new String[] {""author;title;note;booktitle;year;owner;timestamp""});
+        // First set:
+        prefs.putBoolean(""useXmpPrivacyFilter"", true);
+        prefs
+                .putStringArray(
+                        JabRefPreferences.XMP_PRIVACY_FILTERS,
+                        new String[] {""author;title;note;booktitle;year;owner;timestamp""});
 
-            BibtexEntry e = t1BibtexEntry();
+        BibtexEntry e = t1BibtexEntry();
 
-            XMPUtil.writeXMP(pdfFile, e, null);
+        XMPUtil.writeXMP(pdfFile, e, null);
 
-            List<BibtexEntry> l = XMPUtil.readXMP(pdfFile.getAbsoluteFile());
-            Assert.assertEquals(1, l.size());
-            BibtexEntry x = l.get(0);
-            Set<String> ts = x.getAllFields();
-            Assert.assertEquals(8, ts.size());
+        List<BibtexEntry> l = XMPUtil.readXMP(pdfFile.getAbsoluteFile());
+        Assert.assertEquals(1, l.size());
+        BibtexEntry x = l.get(0);
+        Set<String> ts = x.getAllFields();
+        Assert.assertEquals(8, ts.size());
 
-            ts.contains(""bibtextype"");
-            ts.contains(""bibtexkey"");
-            ts.contains(""year"");
-            ts.contains(""url"");
-        }
+        ts.contains(""bibtextype"");
+        ts.contains(""bibtexkey"");
+        ts.contains(""year"");
+        ts.contains(""url"");
 
     }
 
@@ -538,25 +537,23 @@ public void testReadWriteXMP() throws Exception {
     @Test
     public void testNewlineHandling() throws Exception {
 
-        {
-            String bibtex = ""<bibtex:title>\nHallo\nWorld \nthis \n is\n\nnot \n\nan \n\n exercise \n \n.\n \n\n</bibtex:title>\n""
-                    + ""<bibtex:tabs>\nHallo\tWorld \tthis \t is\t\tnot \t\tan \t\n exercise \t \n.\t \n\t</bibtex:tabs>\n""
-                    + ""<bibtex:abstract>\n\nAbstract preserve\n\t Whitespace\n\n</bibtex:abstract>"";
+        String bibtex = ""<bibtex:title>\nHallo\nWorld \nthis \n is\n\nnot \n\nan \n\n exercise \n \n.\n \n\n</bibtex:title>\n""
+                + ""<bibtex:tabs>\nHallo\tWorld \tthis \t is\t\tnot \t\tan \t\n exercise \t \n.\t \n\t</bibtex:tabs>\n""
+                + ""<bibtex:abstract>\n\nAbstract preserve\n\t Whitespace\n\n</bibtex:abstract>"";
 
-            writeManually(pdfFile, XMPUtilTest.bibtexXPacket(XMPUtilTest.bibtexDescription(bibtex)));
+        writeManually(pdfFile, XMPUtilTest.bibtexXPacket(XMPUtilTest.bibtexDescription(bibtex)));
 
-            List<BibtexEntry> l = XMPUtil.readXMP(pdfFile.getAbsoluteFile());
-            Assert.assertEquals(1, l.size());
-            BibtexEntry e = l.get(0);
+        List<BibtexEntry> l = XMPUtil.readXMP(pdfFile.getAbsoluteFile());
+        Assert.assertEquals(1, l.size());
+        BibtexEntry e = l.get(0);
 
-            Assert.assertNotNull(e);
-            Assert.assertEquals(""Hallo World this is not an exercise ."", e
-                    .getField(""title""));
-            Assert.assertEquals(""Hallo World this is not an exercise ."", e
-                    .getField(""tabs""));
-            Assert.assertEquals(""\n\nAbstract preserve\n\t Whitespace\n\n"", e
-                    .getField(""abstract""));
-        }
+        Assert.assertNotNull(e);
+        Assert.assertEquals(""Hallo World this is not an exercise ."", e
+                .getField(""title""));
+        Assert.assertEquals(""Hallo World this is not an exercise ."", e
+                .getField(""tabs""));
+        Assert.assertEquals(""\n\nAbstract preserve\n\t Whitespace\n\n"", e
+                .getField(""abstract""));
     }
 
     /**
@@ -735,92 +732,91 @@ public void testSimpleUpdate() throws Exception {
             }
         }
 
-        { // Now alter the Bibtex entry, write it and do all the checks again
-            BibtexEntry toSet = t1BibtexEntry();
-            toSet.setField(""author"", ""Pokemon!"");
-
-            XMPUtil.writeXMP(pdfFile, toSet, null);
-
-            List<BibtexEntry> l = XMPUtil.readXMP(pdfFile.getAbsoluteFile());
-            Assert.assertEquals(1, l.size());
-            BibtexEntry e = l.get(0);
-
-            assertEqualsBibtexEntry(toSet, e);
+        // Now alter the Bibtex entry, write it and do all the checks again
+        BibtexEntry toSet = t1BibtexEntry();
+        toSet.setField(""author"", ""Pokemon!"");
 
-            // This is what we really want to test: Is the rest of the
-            // descriptions still there?
+        XMPUtil.writeXMP(pdfFile, toSet, null);
 
-            PDDocument document = null;
-            try {
-                document = PDDocument.load(pdfFile.getAbsoluteFile());
-                if (document.isEncrypted()) {
-                    throw new IOException(
-                            ""Error: Cannot read metadata from encrypted document."");
-                }
-                PDDocumentCatalog catalog = document.getDocumentCatalog();
-                PDMetadata metaRaw = catalog.getMetadata();
+        List<BibtexEntry> l = XMPUtil.readXMP(pdfFile.getAbsoluteFile());
+        Assert.assertEquals(1, l.size());
+        BibtexEntry e = l.get(0);
 
-                XMPMetadata meta;
-                if (metaRaw != null) {
-                    meta = new XMPMetadata(XMLUtil.parse(metaRaw
-                            .createInputStream()));
-                } else {
-                    meta = new XMPMetadata();
-                }
-                meta.addXMLNSMapping(XMPSchemaBibtex.NAMESPACE,
-                        XMPSchemaBibtex.class);
+        assertEqualsBibtexEntry(toSet, e);
 
-                List<XMPSchema> schemas = meta.getSchemas();
+        // This is what we really want to test: Is the rest of the
+        // descriptions still there?
 
-                Assert.assertEquals(4, schemas.size());
+        PDDocument document = null;
+        try {
+            document = PDDocument.load(pdfFile.getAbsoluteFile());
+            if (document.isEncrypted()) {
+                throw new IOException(
+                        ""Error: Cannot read metadata from encrypted document."");
+            }
+            PDDocumentCatalog catalog = document.getDocumentCatalog();
+            PDMetadata metaRaw = catalog.getMetadata();
 
-                schemas = meta
-                        .getSchemasByNamespaceURI(XMPSchemaBibtex.NAMESPACE);
-                Assert.assertEquals(1, schemas.size());
+            XMPMetadata meta;
+            if (metaRaw != null) {
+                meta = new XMPMetadata(XMLUtil.parse(metaRaw
+                        .createInputStream()));
+            } else {
+                meta = new XMPMetadata();
+            }
+            meta.addXMLNSMapping(XMPSchemaBibtex.NAMESPACE,
+                    XMPSchemaBibtex.class);
 
-                schemas = meta
-                        .getSchemasByNamespaceURI(XMPSchemaDublinCore.NAMESPACE);
-                Assert.assertEquals(1, schemas.size());
-                XMPSchemaDublinCore dc = (XMPSchemaDublinCore) schemas.get(0);
-                Assert.assertEquals(""application/pdf"", dc.getFormat());
+            List<XMPSchema> schemas = meta.getSchemas();
 
-                schemas = meta
-                        .getSchemasByNamespaceURI(XMPSchemaBasic.NAMESPACE);
-                Assert.assertEquals(1, schemas.size());
-                XMPSchemaBasic bs = (XMPSchemaBasic) schemas.get(0);
-                Assert.assertEquals(""Acrobat PDFMaker 7.0.7"", bs.getCreatorTool());
+            Assert.assertEquals(4, schemas.size());
 
-                Calendar c = Calendar.getInstance();
-                c.clear();
-                c.set(Calendar.YEAR, 2006);
-                c.set(Calendar.MONTH, 7);
-                c.set(Calendar.DATE, 7);
-                c.set(Calendar.HOUR, 14);
-                c.set(Calendar.MINUTE, 44);
-                c.set(Calendar.SECOND, 24);
-                c.setTimeZone(TimeZone.getTimeZone(""GMT+2""));
-
-                Calendar other = bs.getCreateDate();
+            schemas = meta
+                    .getSchemasByNamespaceURI(XMPSchemaBibtex.NAMESPACE);
+            Assert.assertEquals(1, schemas.size());
 
-                Assert.assertEquals(c.get(Calendar.YEAR), other.get(Calendar.YEAR));
-                Assert.assertEquals(c.get(Calendar.MONTH), other.get(Calendar.MONTH));
-                Assert.assertEquals(c.get(Calendar.DATE), other.get(Calendar.DATE));
-                Assert.assertEquals(c.get(Calendar.HOUR), other.get(Calendar.HOUR));
-                Assert.assertEquals(c.get(Calendar.MINUTE), other.get(Calendar.MINUTE));
-                Assert.assertEquals(c.get(Calendar.SECOND), other.get(Calendar.SECOND));
-                Assert.assertTrue(c.getTimeZone().hasSameRules(other.getTimeZone()));
+            schemas = meta
+                    .getSchemasByNamespaceURI(XMPSchemaDublinCore.NAMESPACE);
+            Assert.assertEquals(1, schemas.size());
+            XMPSchemaDublinCore dc = (XMPSchemaDublinCore) schemas.get(0);
+            Assert.assertEquals(""application/pdf"", dc.getFormat());
 
-                schemas = meta
-                        .getSchemasByNamespaceURI(XMPSchemaMediaManagement.NAMESPACE);
-                Assert.assertEquals(1, schemas.size());
-                XMPSchemaMediaManagement mm = (XMPSchemaMediaManagement) schemas
-                        .get(0);
-                Assert.assertEquals(""17"", mm.getSequenceList(""xapMM:VersionID"").get(0));
+            schemas = meta
+                    .getSchemasByNamespaceURI(XMPSchemaBasic.NAMESPACE);
+            Assert.assertEquals(1, schemas.size());
+            XMPSchemaBasic bs = (XMPSchemaBasic) schemas.get(0);
+            Assert.assertEquals(""Acrobat PDFMaker 7.0.7"", bs.getCreatorTool());
+
+            Calendar c = Calendar.getInstance();
+            c.clear();
+            c.set(Calendar.YEAR, 2006);
+            c.set(Calendar.MONTH, 7);
+            c.set(Calendar.DATE, 7);
+            c.set(Calendar.HOUR, 14);
+            c.set(Calendar.MINUTE, 44);
+            c.set(Calendar.SECOND, 24);
+            c.setTimeZone(TimeZone.getTimeZone(""GMT+2""));
+
+            Calendar other = bs.getCreateDate();
+
+            Assert.assertEquals(c.get(Calendar.YEAR), other.get(Calendar.YEAR));
+            Assert.assertEquals(c.get(Calendar.MONTH), other.get(Calendar.MONTH));
+            Assert.assertEquals(c.get(Calendar.DATE), other.get(Calendar.DATE));
+            Assert.assertEquals(c.get(Calendar.HOUR), other.get(Calendar.HOUR));
+            Assert.assertEquals(c.get(Calendar.MINUTE), other.get(Calendar.MINUTE));
+            Assert.assertEquals(c.get(Calendar.SECOND), other.get(Calendar.SECOND));
+            Assert.assertTrue(c.getTimeZone().hasSameRules(other.getTimeZone()));
+
+            schemas = meta
+                    .getSchemasByNamespaceURI(XMPSchemaMediaManagement.NAMESPACE);
+            Assert.assertEquals(1, schemas.size());
+            XMPSchemaMediaManagement mm = (XMPSchemaMediaManagement) schemas
+                    .get(0);
+            Assert.assertEquals(""17"", mm.getSequenceList(""xapMM:VersionID"").get(0));
 
-            } finally {
-                if (document != null) {
-                    document.close();
-                }
+        } finally {
+            if (document != null) {
+                document.close();
             }
         }
     }
@@ -1288,44 +1284,42 @@ public void testCommandLineSinglePdf() throws Exception {
 
             assertEqualsBibtexEntry(e, x);
         }
-        {
-            // Write XMP to file
-            BibtexEntry e = t1BibtexEntry();
+        // Write XMP to file
+        BibtexEntry e = t1BibtexEntry();
 
-            XMPUtil.writeXMP(pdfFile, e, null);
+        XMPUtil.writeXMP(pdfFile, e, null);
 
-            ByteArrayOutputStream s = new ByteArrayOutputStream();
-            PrintStream oldOut = System.out;
-            System.setOut(new PrintStream(s));
-            XMPUtil.main(new String[] {""-x"", pdfFile.getAbsolutePath()});
-            System.setOut(oldOut);
-            s.close();
-            String xmp = s.toString();
+        ByteArrayOutputStream s = new ByteArrayOutputStream();
+        PrintStream oldOut = System.out;
+        System.setOut(new PrintStream(s));
+        XMPUtil.main(new String[] {""-x"", pdfFile.getAbsolutePath()});
+        System.setOut(oldOut);
+        s.close();
+        String xmp = s.toString();
 
             /* Test minimal syntaxical completeness */
-            Assert.assertTrue(xmp.indexOf(""xpacket"") > 0);
-            Assert.assertTrue(xmp.indexOf(""adobe:ns:meta"") > 0);
-            Assert.assertTrue((xmp
-                    .indexOf(""<bibtex:bibtexkey>canh05</bibtex:bibtexkey>"") > 0)
-                    || (xmp.indexOf(""bibtex:bibtexkey="") > 0));
-            Assert.assertTrue(xmp.indexOf(""<rdf:li>K. Crowston</rdf:li>"") > 0);
-            Assert.assertTrue((xmp.indexOf(""id='W5M0MpCehiHzreSzNTczkc9d'?>"") > 0)
-                    || (xmp.indexOf(""id=\""W5M0MpCehiHzreSzNTczkc9d\""?>"") > 0));
-            Assert.assertTrue((xmp
-                    .indexOf(""xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#'"") > 0)
-                    || (xmp
-                    .indexOf(""xmlns:rdf=\""http://www.w3.org/1999/02/22-rdf-syntax-ns#\"""") > 0));
-            Assert.assertTrue(xmp.indexOf(""<rdf:Description"") > 0);
-            Assert.assertTrue((xmp.indexOf(""<?xpacket end='w'?>"") > 0)
-                    || (xmp.indexOf(""<?xpacket end=\""w\""?>"") > 0));
+        Assert.assertTrue(xmp.indexOf(""xpacket"") > 0);
+        Assert.assertTrue(xmp.indexOf(""adobe:ns:meta"") > 0);
+        Assert.assertTrue((xmp
+                .indexOf(""<bibtex:bibtexkey>canh05</bibtex:bibtexkey>"") > 0)
+                || (xmp.indexOf(""bibtex:bibtexkey="") > 0));
+        Assert.assertTrue(xmp.indexOf(""<rdf:li>K. Crowston</rdf:li>"") > 0);
+        Assert.assertTrue((xmp.indexOf(""id='W5M0MpCehiHzreSzNTczkc9d'?>"") > 0)
+                || (xmp.indexOf(""id=\""W5M0MpCehiHzreSzNTczkc9d\""?>"") > 0));
+        Assert.assertTrue((xmp
+                .indexOf(""xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#'"") > 0)
+                || (xmp
+                .indexOf(""xmlns:rdf=\""http://www.w3.org/1999/02/22-rdf-syntax-ns#\"""") > 0));
+        Assert.assertTrue(xmp.indexOf(""<rdf:Description"") > 0);
+        Assert.assertTrue((xmp.indexOf(""<?xpacket end='w'?>"") > 0)
+                || (xmp.indexOf(""<?xpacket end=\""w\""?>"") > 0));
 
             /* Test contents of string */
-            writeManually(pdfFile, xmp);
-            List<BibtexEntry> l = XMPUtil.readXMP(pdfFile);
-            Assert.assertEquals(1, l.size());
+        writeManually(pdfFile, xmp);
+        List<BibtexEntry> l = XMPUtil.readXMP(pdfFile);
+        Assert.assertEquals(1, l.size());
 
-            assertEqualsBibtexEntry(t1BibtexEntry(), l.get(0));
-        }
+        assertEqualsBibtexEntry(t1BibtexEntry(), l.get(0));
     }
 
     /**
@@ -1363,23 +1357,22 @@ public void testCommandLineByKey() throws Exception {
                 Assert.assertEquals(1, l.size());
                 assertEqualsBibtexEntry(t1BibtexEntry(), l.get(0));
             }
-            { // Now try OezbekC06
-                ByteArrayOutputStream s = new ByteArrayOutputStream();
-                PrintStream oldOut = System.out;
-                System.setOut(new PrintStream(s));
-                try {
-                    XMPUtil.main(new String[] {""OezbekC06"",
-                            tempBib.getAbsolutePath(), pdfFile.getAbsolutePath()});
-                } finally {
-                    System.setOut(oldOut);
-                    s.close();
-                }
-
-                // PDF should be annotated:
-                List<BibtexEntry> l = XMPUtil.readXMP(pdfFile);
-                Assert.assertEquals(1, l.size());
-                assertEqualsBibtexEntry(t2BibtexEntry(), l.get(0));
+            // Now try OezbekC06
+            ByteArrayOutputStream s = new ByteArrayOutputStream();
+            PrintStream oldOut = System.out;
+            System.setOut(new PrintStream(s));
+            try {
+                XMPUtil.main(new String[] {""OezbekC06"",
+                        tempBib.getAbsolutePath(), pdfFile.getAbsolutePath()});
+            } finally {
+                System.setOut(oldOut);
+                s.close();
             }
+
+            // PDF should be annotated:
+            List<BibtexEntry> l = XMPUtil.readXMP(pdfFile);
+            Assert.assertEquals(1, l.size());
+            assertEqualsBibtexEntry(t2BibtexEntry(), l.get(0));
         } finally {
             if (fileWriter != null) {
                 fileWriter.close();, ",More minor code style cleanups.,Code style
78,Stefan Kolb,['src/main/resources/help/About.html'],"@@ -75,6 +75,7 @@ <h2>Contributions from:</h2>
         Philip Johnson,
         Bernd Kalbfuss,
         Martin K&auml;hmer,
+        Stefan Kolb,
         Ervin Kolenovic,
         Krzysztof A. Ko&#347;ciuszkiewicz,
         Christian Kopf,, ",NaN,Add myself to the list of contributors
79,Stefan Kolb,"['LICENSE', 'README.md', 'build.xml', 'gpl3.txt', 'src/main/resources/windows/nsis/setup.nsi']","None, @@ -138,6 +138,7 @@ JabRef is free software: you can redistribute it and/or modify it under the
 terms of the GNU General Public License as published by the Free Software
 Foundation, either version 2 of the License, or (at your option) any later
 version.
-See the enclosed text files [gpl2.txt](gpl2.txt) and [gpl3.txt](gpl3.txt) for full details.
+See the [LICENSE](LICENSE) for full details.
 
-JabRef also uses libraries distributed by other parties; see the About box for details.
+JabRef also uses libraries distributed by other parties.
+See [external libraries](external-libraries.txt) for details., @@ -168,8 +168,7 @@
 				<include name=""plugins/**"" />
 			</fileset>
 			<fileset dir=""${txt.dir}"">
-				<include name=""gpl2.txt"" />
-				<include name=""gpl3.txt"" />
+				<include name=""LICENSE"" />
 				<include name=""README.md"" />
 			</fileset>
 			<manifest>
@@ -444,10 +443,8 @@ version=${jabref.version}</echo>
 
 		<copy todir=""${win.installer.dir}/dist"">
 			<fileset dir=""${txt.dir}"">
-				<include name=""gpl2.txt"" />
-				<include name=""gpl3.txt"" />
-				<include name=""lesser.txt"" />
-				<include name=""README"" />
+				<include name=""LICENSE"" />
+				<include name=""README.md"" />
 			</fileset>
 		</copy>
 , @@ -1,674 +0,0 @@
-                    GNU GENERAL PUBLIC LICENSE
-                       Version 3, 29 June 2007
-
- Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>
- Everyone is permitted to copy and distribute verbatim copies
- of this license document, but changing it is not allowed.
-
-                            Preamble
-
-  The GNU General Public License is a free, copyleft license for
-software and other kinds of works.
-
-  The licenses for most software and other practical works are designed
-to take away your freedom to share and change the works.  By contrast,
-the GNU General Public License is intended to guarantee your freedom to
-share and change all versions of a program--to make sure it remains free
-software for all its users.  We, the Free Software Foundation, use the
-GNU General Public License for most of our software; it applies also to
-any other work released this way by its authors.  You can apply it to
-your programs, too.
-
-  When we speak of free software, we are referring to freedom, not
-price.  Our General Public Licenses are designed to make sure that you
-have the freedom to distribute copies of free software (and charge for
-them if you wish), that you receive source code or can get it if you
-want it, that you can change the software or use pieces of it in new
-free programs, and that you know you can do these things.
-
-  To protect your rights, we need to prevent others from denying you
-these rights or asking you to surrender the rights.  Therefore, you have
-certain responsibilities if you distribute copies of the software, or if
-you modify it: responsibilities to respect the freedom of others.
-
-  For example, if you distribute copies of such a program, whether
-gratis or for a fee, you must pass on to the recipients the same
-freedoms that you received.  You must make sure that they, too, receive
-or can get the source code.  And you must show them these terms so they
-know their rights.
-
-  Developers that use the GNU GPL protect your rights with two steps:
-(1) assert copyright on the software, and (2) offer you this License
-giving you legal permission to copy, distribute and/or modify it.
-
-  For the developers' and authors' protection, the GPL clearly explains
-that there is no warranty for this free software.  For both users' and
-authors' sake, the GPL requires that modified versions be marked as
-changed, so that their problems will not be attributed erroneously to
-authors of previous versions.
-
-  Some devices are designed to deny users access to install or run
-modified versions of the software inside them, although the manufacturer
-can do so.  This is fundamentally incompatible with the aim of
-protecting users' freedom to change the software.  The systematic
-pattern of such abuse occurs in the area of products for individuals to
-use, which is precisely where it is most unacceptable.  Therefore, we
-have designed this version of the GPL to prohibit the practice for those
-products.  If such problems arise substantially in other domains, we
-stand ready to extend this provision to those domains in future versions
-of the GPL, as needed to protect the freedom of users.
-
-  Finally, every program is threatened constantly by software patents.
-States should not allow patents to restrict development and use of
-software on general-purpose computers, but in those that do, we wish to
-avoid the special danger that patents applied to a free program could
-make it effectively proprietary.  To prevent this, the GPL assures that
-patents cannot be used to render the program non-free.
-
-  The precise terms and conditions for copying, distribution and
-modification follow.
-
-                       TERMS AND CONDITIONS
-
-  0. Definitions.
-
-  ""This License"" refers to version 3 of the GNU General Public License.
-
-  ""Copyright"" also means copyright-like laws that apply to other kinds of
-works, such as semiconductor masks.
-
-  ""The Program"" refers to any copyrightable work licensed under this
-License.  Each licensee is addressed as ""you"".  ""Licensees"" and
-""recipients"" may be individuals or organizations.
-
-  To ""modify"" a work means to copy from or adapt all or part of the work
-in a fashion requiring copyright permission, other than the making of an
-exact copy.  The resulting work is called a ""modified version"" of the
-earlier work or a work ""based on"" the earlier work.
-
-  A ""covered work"" means either the unmodified Program or a work based
-on the Program.
-
-  To ""propagate"" a work means to do anything with it that, without
-permission, would make you directly or secondarily liable for
-infringement under applicable copyright law, except executing it on a
-computer or modifying a private copy.  Propagation includes copying,
-distribution (with or without modification), making available to the
-public, and in some countries other activities as well.
-
-  To ""convey"" a work means any kind of propagation that enables other
-parties to make or receive copies.  Mere interaction with a user through
-a computer network, with no transfer of a copy, is not conveying.
-
-  An interactive user interface displays ""Appropriate Legal Notices""
-to the extent that it includes a convenient and prominently visible
-feature that (1) displays an appropriate copyright notice, and (2)
-tells the user that there is no warranty for the work (except to the
-extent that warranties are provided), that licensees may convey the
-work under this License, and how to view a copy of this License.  If
-the interface presents a list of user commands or options, such as a
-menu, a prominent item in the list meets this criterion.
-
-  1. Source Code.
-
-  The ""source code"" for a work means the preferred form of the work
-for making modifications to it.  ""Object code"" means any non-source
-form of a work.
-
-  A ""Standard Interface"" means an interface that either is an official
-standard defined by a recognized standards body, or, in the case of
-interfaces specified for a particular programming language, one that
-is widely used among developers working in that language.
-
-  The ""System Libraries"" of an executable work include anything, other
-than the work as a whole, that (a) is included in the normal form of
-packaging a Major Component, but which is not part of that Major
-Component, and (b) serves only to enable use of the work with that
-Major Component, or to implement a Standard Interface for which an
-implementation is available to the public in source code form.  A
-""Major Component"", in this context, means a major essential component
-(kernel, window system, and so on) of the specific operating system
-(if any) on which the executable work runs, or a compiler used to
-produce the work, or an object code interpreter used to run it.
-
-  The ""Corresponding Source"" for a work in object code form means all
-the source code needed to generate, install, and (for an executable
-work) run the object code and to modify the work, including scripts to
-control those activities.  However, it does not include the work's
-System Libraries, or general-purpose tools or generally available free
-programs which are used unmodified in performing those activities but
-which are not part of the work.  For example, Corresponding Source
-includes interface definition files associated with source files for
-the work, and the source code for shared libraries and dynamically
-linked subprograms that the work is specifically designed to require,
-such as by intimate data communication or control flow between those
-subprograms and other parts of the work.
-
-  The Corresponding Source need not include anything that users
-can regenerate automatically from other parts of the Corresponding
-Source.
-
-  The Corresponding Source for a work in source code form is that
-same work.
-
-  2. Basic Permissions.
-
-  All rights granted under this License are granted for the term of
-copyright on the Program, and are irrevocable provided the stated
-conditions are met.  This License explicitly affirms your unlimited
-permission to run the unmodified Program.  The output from running a
-covered work is covered by this License only if the output, given its
-content, constitutes a covered work.  This License acknowledges your
-rights of fair use or other equivalent, as provided by copyright law.
-
-  You may make, run and propagate covered works that you do not
-convey, without conditions so long as your license otherwise remains
-in force.  You may convey covered works to others for the sole purpose
-of having them make modifications exclusively for you, or provide you
-with facilities for running those works, provided that you comply with
-the terms of this License in conveying all material for which you do
-not control copyright.  Those thus making or running the covered works
-for you must do so exclusively on your behalf, under your direction
-and control, on terms that prohibit them from making any copies of
-your copyrighted material outside their relationship with you.
-
-  Conveying under any other circumstances is permitted solely under
-the conditions stated below.  Sublicensing is not allowed; section 10
-makes it unnecessary.
-
-  3. Protecting Users' Legal Rights From Anti-Circumvention Law.
-
-  No covered work shall be deemed part of an effective technological
-measure under any applicable law fulfilling obligations under article
-11 of the WIPO copyright treaty adopted on 20 December 1996, or
-similar laws prohibiting or restricting circumvention of such
-measures.
-
-  When you convey a covered work, you waive any legal power to forbid
-circumvention of technological measures to the extent such circumvention
-is effected by exercising rights under this License with respect to
-the covered work, and you disclaim any intention to limit operation or
-modification of the work as a means of enforcing, against the work's
-users, your or third parties' legal rights to forbid circumvention of
-technological measures.
-
-  4. Conveying Verbatim Copies.
-
-  You may convey verbatim copies of the Program's source code as you
-receive it, in any medium, provided that you conspicuously and
-appropriately publish on each copy an appropriate copyright notice;
-keep intact all notices stating that this License and any
-non-permissive terms added in accord with section 7 apply to the code;
-keep intact all notices of the absence of any warranty; and give all
-recipients a copy of this License along with the Program.
-
-  You may charge any price or no price for each copy that you convey,
-and you may offer support or warranty protection for a fee.
-
-  5. Conveying Modified Source Versions.
-
-  You may convey a work based on the Program, or the modifications to
-produce it from the Program, in the form of source code under the
-terms of section 4, provided that you also meet all of these conditions:
-
-    a) The work must carry prominent notices stating that you modified
-    it, and giving a relevant date.
-
-    b) The work must carry prominent notices stating that it is
-    released under this License and any conditions added under section
-    7.  This requirement modifies the requirement in section 4 to
-    ""keep intact all notices"".
-
-    c) You must license the entire work, as a whole, under this
-    License to anyone who comes into possession of a copy.  This
-    License will therefore apply, along with any applicable section 7
-    additional terms, to the whole of the work, and all its parts,
-    regardless of how they are packaged.  This License gives no
-    permission to license the work in any other way, but it does not
-    invalidate such permission if you have separately received it.
-
-    d) If the work has interactive user interfaces, each must display
-    Appropriate Legal Notices; however, if the Program has interactive
-    interfaces that do not display Appropriate Legal Notices, your
-    work need not make them do so.
-
-  A compilation of a covered work with other separate and independent
-works, which are not by their nature extensions of the covered work,
-and which are not combined with it such as to form a larger program,
-in or on a volume of a storage or distribution medium, is called an
-""aggregate"" if the compilation and its resulting copyright are not
-used to limit the access or legal rights of the compilation's users
-beyond what the individual works permit.  Inclusion of a covered work
-in an aggregate does not cause this License to apply to the other
-parts of the aggregate.
-
-  6. Conveying Non-Source Forms.
-
-  You may convey a covered work in object code form under the terms
-of sections 4 and 5, provided that you also convey the
-machine-readable Corresponding Source under the terms of this License,
-in one of these ways:
-
-    a) Convey the object code in, or embodied in, a physical product
-    (including a physical distribution medium), accompanied by the
-    Corresponding Source fixed on a durable physical medium
-    customarily used for software interchange.
-
-    b) Convey the object code in, or embodied in, a physical product
-    (including a physical distribution medium), accompanied by a
-    written offer, valid for at least three years and valid for as
-    long as you offer spare parts or customer support for that product
-    model, to give anyone who possesses the object code either (1) a
-    copy of the Corresponding Source for all the software in the
-    product that is covered by this License, on a durable physical
-    medium customarily used for software interchange, for a price no
-    more than your reasonable cost of physically performing this
-    conveying of source, or (2) access to copy the
-    Corresponding Source from a network server at no charge.
-
-    c) Convey individual copies of the object code with a copy of the
-    written offer to provide the Corresponding Source.  This
-    alternative is allowed only occasionally and noncommercially, and
-    only if you received the object code with such an offer, in accord
-    with subsection 6b.
-
-    d) Convey the object code by offering access from a designated
-    place (gratis or for a charge), and offer equivalent access to the
-    Corresponding Source in the same way through the same place at no
-    further charge.  You need not require recipients to copy the
-    Corresponding Source along with the object code.  If the place to
-    copy the object code is a network server, the Corresponding Source
-    may be on a different server (operated by you or a third party)
-    that supports equivalent copying facilities, provided you maintain
-    clear directions next to the object code saying where to find the
-    Corresponding Source.  Regardless of what server hosts the
-    Corresponding Source, you remain obligated to ensure that it is
-    available for as long as needed to satisfy these requirements.
-
-    e) Convey the object code using peer-to-peer transmission, provided
-    you inform other peers where the object code and Corresponding
-    Source of the work are being offered to the general public at no
-    charge under subsection 6d.
-
-  A separable portion of the object code, whose source code is excluded
-from the Corresponding Source as a System Library, need not be
-included in conveying the object code work.
-
-  A ""User Product"" is either (1) a ""consumer product"", which means any
-tangible personal property which is normally used for personal, family,
-or household purposes, or (2) anything designed or sold for incorporation
-into a dwelling.  In determining whether a product is a consumer product,
-doubtful cases shall be resolved in favor of coverage.  For a particular
-product received by a particular user, ""normally used"" refers to a
-typical or common use of that class of product, regardless of the status
-of the particular user or of the way in which the particular user
-actually uses, or expects or is expected to use, the product.  A product
-is a consumer product regardless of whether the product has substantial
-commercial, industrial or non-consumer uses, unless such uses represent
-the only significant mode of use of the product.
-
-  ""Installation Information"" for a User Product means any methods,
-procedures, authorization keys, or other information required to install
-and execute modified versions of a covered work in that User Product from
-a modified version of its Corresponding Source.  The information must
-suffice to ensure that the continued functioning of the modified object
-code is in no case prevented or interfered with solely because
-modification has been made.
-
-  If you convey an object code work under this section in, or with, or
-specifically for use in, a User Product, and the conveying occurs as
-part of a transaction in which the right of possession and use of the
-User Product is transferred to the recipient in perpetuity or for a
-fixed term (regardless of how the transaction is characterized), the
-Corresponding Source conveyed under this section must be accompanied
-by the Installation Information.  But this requirement does not apply
-if neither you nor any third party retains the ability to install
-modified object code on the User Product (for example, the work has
-been installed in ROM).
-
-  The requirement to provide Installation Information does not include a
-requirement to continue to provide support service, warranty, or updates
-for a work that has been modified or installed by the recipient, or for
-the User Product in which it has been modified or installed.  Access to a
-network may be denied when the modification itself materially and
-adversely affects the operation of the network or violates the rules and
-protocols for communication across the network.
-
-  Corresponding Source conveyed, and Installation Information provided,
-in accord with this section must be in a format that is publicly
-documented (and with an implementation available to the public in
-source code form), and must require no special password or key for
-unpacking, reading or copying.
-
-  7. Additional Terms.
-
-  ""Additional permissions"" are terms that supplement the terms of this
-License by making exceptions from one or more of its conditions.
-Additional permissions that are applicable to the entire Program shall
-be treated as though they were included in this License, to the extent
-that they are valid under applicable law.  If additional permissions
-apply only to part of the Program, that part may be used separately
-under those permissions, but the entire Program remains governed by
-this License without regard to the additional permissions.
-
-  When you convey a copy of a covered work, you may at your option
-remove any additional permissions from that copy, or from any part of
-it.  (Additional permissions may be written to require their own
-removal in certain cases when you modify the work.)  You may place
-additional permissions on material, added by you to a covered work,
-for which you have or can give appropriate copyright permission.
-
-  Notwithstanding any other provision of this License, for material you
-add to a covered work, you may (if authorized by the copyright holders of
-that material) supplement the terms of this License with terms:
-
-    a) Disclaiming warranty or limiting liability differently from the
-    terms of sections 15 and 16 of this License; or
-
-    b) Requiring preservation of specified reasonable legal notices or
-    author attributions in that material or in the Appropriate Legal
-    Notices displayed by works containing it; or
-
-    c) Prohibiting misrepresentation of the origin of that material, or
-    requiring that modified versions of such material be marked in
-    reasonable ways as different from the original version; or
-
-    d) Limiting the use for publicity purposes of names of licensors or
-    authors of the material; or
-
-    e) Declining to grant rights under trademark law for use of some
-    trade names, trademarks, or service marks; or
-
-    f) Requiring indemnification of licensors and authors of that
-    material by anyone who conveys the material (or modified versions of
-    it) with contractual assumptions of liability to the recipient, for
-    any liability that these contractual assumptions directly impose on
-    those licensors and authors.
-
-  All other non-permissive additional terms are considered ""further
-restrictions"" within the meaning of section 10.  If the Program as you
-received it, or any part of it, contains a notice stating that it is
-governed by this License along with a term that is a further
-restriction, you may remove that term.  If a license document contains
-a further restriction but permits relicensing or conveying under this
-License, you may add to a covered work material governed by the terms
-of that license document, provided that the further restriction does
-not survive such relicensing or conveying.
-
-  If you add terms to a covered work in accord with this section, you
-must place, in the relevant source files, a statement of the
-additional terms that apply to those files, or a notice indicating
-where to find the applicable terms.
-
-  Additional terms, permissive or non-permissive, may be stated in the
-form of a separately written license, or stated as exceptions;
-the above requirements apply either way.
-
-  8. Termination.
-
-  You may not propagate or modify a covered work except as expressly
-provided under this License.  Any attempt otherwise to propagate or
-modify it is void, and will automatically terminate your rights under
-this License (including any patent licenses granted under the third
-paragraph of section 11).
-
-  However, if you cease all violation of this License, then your
-license from a particular copyright holder is reinstated (a)
-provisionally, unless and until the copyright holder explicitly and
-finally terminates your license, and (b) permanently, if the copyright
-holder fails to notify you of the violation by some reasonable means
-prior to 60 days after the cessation.
-
-  Moreover, your license from a particular copyright holder is
-reinstated permanently if the copyright holder notifies you of the
-violation by some reasonable means, this is the first time you have
-received notice of violation of this License (for any work) from that
-copyright holder, and you cure the violation prior to 30 days after
-your receipt of the notice.
-
-  Termination of your rights under this section does not terminate the
-licenses of parties who have received copies or rights from you under
-this License.  If your rights have been terminated and not permanently
-reinstated, you do not qualify to receive new licenses for the same
-material under section 10.
-
-  9. Acceptance Not Required for Having Copies.
-
-  You are not required to accept this License in order to receive or
-run a copy of the Program.  Ancillary propagation of a covered work
-occurring solely as a consequence of using peer-to-peer transmission
-to receive a copy likewise does not require acceptance.  However,
-nothing other than this License grants you permission to propagate or
-modify any covered work.  These actions infringe copyright if you do
-not accept this License.  Therefore, by modifying or propagating a
-covered work, you indicate your acceptance of this License to do so.
-
-  10. Automatic Licensing of Downstream Recipients.
-
-  Each time you convey a covered work, the recipient automatically
-receives a license from the original licensors, to run, modify and
-propagate that work, subject to this License.  You are not responsible
-for enforcing compliance by third parties with this License.
-
-  An ""entity transaction"" is a transaction transferring control of an
-organization, or substantially all assets of one, or subdividing an
-organization, or merging organizations.  If propagation of a covered
-work results from an entity transaction, each party to that
-transaction who receives a copy of the work also receives whatever
-licenses to the work the party's predecessor in interest had or could
-give under the previous paragraph, plus a right to possession of the
-Corresponding Source of the work from the predecessor in interest, if
-the predecessor has it or can get it with reasonable efforts.
-
-  You may not impose any further restrictions on the exercise of the
-rights granted or affirmed under this License.  For example, you may
-not impose a license fee, royalty, or other charge for exercise of
-rights granted under this License, and you may not initiate litigation
-(including a cross-claim or counterclaim in a lawsuit) alleging that
-any patent claim is infringed by making, using, selling, offering for
-sale, or importing the Program or any portion of it.
-
-  11. Patents.
-
-  A ""contributor"" is a copyright holder who authorizes use under this
-License of the Program or a work on which the Program is based.  The
-work thus licensed is called the contributor's ""contributor version"".
-
-  A contributor's ""essential patent claims"" are all patent claims
-owned or controlled by the contributor, whether already acquired or
-hereafter acquired, that would be infringed by some manner, permitted
-by this License, of making, using, or selling its contributor version,
-but do not include claims that would be infringed only as a
-consequence of further modification of the contributor version.  For
-purposes of this definition, ""control"" includes the right to grant
-patent sublicenses in a manner consistent with the requirements of
-this License.
-
-  Each contributor grants you a non-exclusive, worldwide, royalty-free
-patent license under the contributor's essential patent claims, to
-make, use, sell, offer for sale, import and otherwise run, modify and
-propagate the contents of its contributor version.
-
-  In the following three paragraphs, a ""patent license"" is any express
-agreement or commitment, however denominated, not to enforce a patent
-(such as an express permission to practice a patent or covenant not to
-sue for patent infringement).  To ""grant"" such a patent license to a
-party means to make such an agreement or commitment not to enforce a
-patent against the party.
-
-  If you convey a covered work, knowingly relying on a patent license,
-and the Corresponding Source of the work is not available for anyone
-to copy, free of charge and under the terms of this License, through a
-publicly available network server or other readily accessible means,
-then you must either (1) cause the Corresponding Source to be so
-available, or (2) arrange to deprive yourself of the benefit of the
-patent license for this particular work, or (3) arrange, in a manner
-consistent with the requirements of this License, to extend the patent
-license to downstream recipients.  ""Knowingly relying"" means you have
-actual knowledge that, but for the patent license, your conveying the
-covered work in a country, or your recipient's use of the covered work
-in a country, would infringe one or more identifiable patents in that
-country that you have reason to believe are valid.
-
-  If, pursuant to or in connection with a single transaction or
-arrangement, you convey, or propagate by procuring conveyance of, a
-covered work, and grant a patent license to some of the parties
-receiving the covered work authorizing them to use, propagate, modify
-or convey a specific copy of the covered work, then the patent license
-you grant is automatically extended to all recipients of the covered
-work and works based on it.
-
-  A patent license is ""discriminatory"" if it does not include within
-the scope of its coverage, prohibits the exercise of, or is
-conditioned on the non-exercise of one or more of the rights that are
-specifically granted under this License.  You may not convey a covered
-work if you are a party to an arrangement with a third party that is
-in the business of distributing software, under which you make payment
-to the third party based on the extent of your activity of conveying
-the work, and under which the third party grants, to any of the
-parties who would receive the covered work from you, a discriminatory
-patent license (a) in connection with copies of the covered work
-conveyed by you (or copies made from those copies), or (b) primarily
-for and in connection with specific products or compilations that
-contain the covered work, unless you entered into that arrangement,
-or that patent license was granted, prior to 28 March 2007.
-
-  Nothing in this License shall be construed as excluding or limiting
-any implied license or other defenses to infringement that may
-otherwise be available to you under applicable patent law.
-
-  12. No Surrender of Others' Freedom.
-
-  If conditions are imposed on you (whether by court order, agreement or
-otherwise) that contradict the conditions of this License, they do not
-excuse you from the conditions of this License.  If you cannot convey a
-covered work so as to satisfy simultaneously your obligations under this
-License and any other pertinent obligations, then as a consequence you may
-not convey it at all.  For example, if you agree to terms that obligate you
-to collect a royalty for further conveying from those to whom you convey
-the Program, the only way you could satisfy both those terms and this
-License would be to refrain entirely from conveying the Program.
-
-  13. Use with the GNU Affero General Public License.
-
-  Notwithstanding any other provision of this License, you have
-permission to link or combine any covered work with a work licensed
-under version 3 of the GNU Affero General Public License into a single
-combined work, and to convey the resulting work.  The terms of this
-License will continue to apply to the part which is the covered work,
-but the special requirements of the GNU Affero General Public License,
-section 13, concerning interaction through a network will apply to the
-combination as such.
-
-  14. Revised Versions of this License.
-
-  The Free Software Foundation may publish revised and/or new versions of
-the GNU General Public License from time to time.  Such new versions will
-be similar in spirit to the present version, but may differ in detail to
-address new problems or concerns.
-
-  Each version is given a distinguishing version number.  If the
-Program specifies that a certain numbered version of the GNU General
-Public License ""or any later version"" applies to it, you have the
-option of following the terms and conditions either of that numbered
-version or of any later version published by the Free Software
-Foundation.  If the Program does not specify a version number of the
-GNU General Public License, you may choose any version ever published
-by the Free Software Foundation.
-
-  If the Program specifies that a proxy can decide which future
-versions of the GNU General Public License can be used, that proxy's
-public statement of acceptance of a version permanently authorizes you
-to choose that version for the Program.
-
-  Later license versions may give you additional or different
-permissions.  However, no additional obligations are imposed on any
-author or copyright holder as a result of your choosing to follow a
-later version.
-
-  15. Disclaimer of Warranty.
-
-  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
-APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
-HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM ""AS IS"" WITHOUT WARRANTY
-OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
-THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
-PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM
-IS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF
-ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
-
-  16. Limitation of Liability.
-
-  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
-WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS
-THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY
-GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE
-USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF
-DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD
-PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),
-EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
-SUCH DAMAGES.
-
-  17. Interpretation of Sections 15 and 16.
-
-  If the disclaimer of warranty and limitation of liability provided
-above cannot be given local legal effect according to their terms,
-reviewing courts shall apply local law that most closely approximates
-an absolute waiver of all civil liability in connection with the
-Program, unless a warranty or assumption of liability accompanies a
-copy of the Program in return for a fee.
-
-                     END OF TERMS AND CONDITIONS
-
-            How to Apply These Terms to Your New Programs
-
-  If you develop a new program, and you want it to be of the greatest
-possible use to the public, the best way to achieve this is to make it
-free software which everyone can redistribute and change under these terms.
-
-  To do so, attach the following notices to the program.  It is safest
-to attach them to the start of each source file to most effectively
-state the exclusion of warranty; and each file should have at least
-the ""copyright"" line and a pointer to where the full notice is found.
-
-    <one line to give the program's name and a brief idea of what it does.>
-    Copyright (C) <year>  <name of author>
-
-    This program is free software: you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation, either version 3 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License
-    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-
-Also add information on how to contact you by electronic and paper mail.
-
-  If the program does terminal interaction, make it output a short
-notice like this when it starts in an interactive mode:
-
-    <program>  Copyright (C) <year>  <name of author>
-    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
-    This is free software, and you are welcome to redistribute it
-    under certain conditions; type `show c' for details.
-
-The hypothetical commands `show w' and `show c' should show the appropriate
-parts of the General Public License.  Of course, your program's commands
-might be different; for a GUI interface, you would use an ""about box"".
-
-  You should also get your employer (if you work as a programmer) or school,
-if any, to sign a ""copyright disclaimer"" for the program, if necessary.
-For more information on this, and how to apply and follow the GNU GPL, see
-<http://www.gnu.org/licenses/>.
-
-  The GNU General Public License does not permit incorporating your program
-into proprietary programs.  If your program is a subroutine library, you
-may consider it more useful to permit linking proprietary applications with
-the library.  If this is what you want to do, use the GNU Lesser General
-Public License instead of this License.  But first, please read
-<http://www.gnu.org/philosophy/why-not-lgpl.html>.
\ No newline at end of file, @@ -1,5 +1,5 @@
 # owner		JabRef Team
-# license	GPL version 3
+# license	GPL version 2
 # author	Uwe Stöhr and others
 
 ; To compile this script NSIS 2.23 and newer are required
@@ -25,7 +25,7 @@ Name ""JabRef ${VERSION}""
 !define PRODUCT_EXE ""JabRef.exe""
 !define PRODUCT_NAME ""JabRef""
 !define PRODUCT_UNINST_KEY ""Software\Microsoft\Windows\CurrentVersion\Uninstall\$(^Name)""
-!define PRODUCT_LICENSE_FILE ""dist\gpl3.txt""
+!define PRODUCT_LICENSE_FILE ""dist\LICENSE""
 !define AppUserModelId ""JabRef.${VERSION}""
 
 # Variables, ","The idea behind this is to solely rely on one license and version for the project.
Currently, GPL version 2 is set as official license for Jabref.

Therefore, all other licenses are removed from the repository and GPL2 is moved to a general LICENSE file.

Additionally, I corrected paths to the files (README, LICENSE) inside the build scripts (esp. Ant) and removed a missing file dependency (jgoodies.txt).

Is this feasible this way? 
What do you guys think @simonharrer @koppor ?",Unify Licenses
80,Stefan Kolb,"['src/main/java/net/sf/jabref/gui/CleanUpAction.java', 'src/main/java/net/sf/jabref/gui/MainTable.java', 'src/main/java/net/sf/jabref/oo/OOPreFormatter.java', 'src/main/java/net/sf/jabref/oo/OpenOfficePanel.java']","@@ -236,7 +236,19 @@ public void run() {
             return;
         }
         storeSettings();
-        boolean choiceCleanUpSuperscripts = cleanUpSuperscrips.isSelected(), choiceCleanUpDOI = cleanUpDOI.isSelected(), choiceCleanUpMonth = cleanUpMonth.isSelected(), choiceCleanUpPageNumbers = cleanUpPageNumbers.isSelected(), choiceCleanUpUpgradeExternalLinks = cleanUpUpgradeExternalLinks.isSelected(), choiceMakePathsRelative = cleanUpMakePathsRelative.isSelected(), choiceRenamePDF = cleanUpRenamePDF.isSelected(), choiceConvertHTML = cleanUpHTML.isSelected(), choiceConvertCase = cleanUpCase.isSelected(), choiceConvertLaTeX = cleanUpLaTeX.isSelected(), choiceConvertUnits = cleanUpUnits.isSelected(), choiceConvertUnicode = cleanUpUnicode.isSelected(), choiceConvertToBiblatex = cleanUpBiblatex.isSelected();
+        boolean choiceCleanUpSuperscripts = cleanUpSuperscrips.isSelected();
+        boolean choiceCleanUpDOI = cleanUpDOI.isSelected();
+        boolean choiceCleanUpMonth = cleanUpMonth.isSelected();
+        boolean choiceCleanUpPageNumbers = cleanUpPageNumbers.isSelected();
+        boolean choiceCleanUpUpgradeExternalLinks = cleanUpUpgradeExternalLinks.isSelected();
+        boolean choiceMakePathsRelative = cleanUpMakePathsRelative.isSelected();
+        boolean choiceRenamePDF = cleanUpRenamePDF.isSelected();
+        boolean choiceConvertHTML = cleanUpHTML.isSelected();
+        boolean choiceConvertCase = cleanUpCase.isSelected();
+        boolean choiceConvertLaTeX = cleanUpLaTeX.isSelected();
+        boolean choiceConvertUnits = cleanUpUnits.isSelected();
+        boolean choiceConvertUnicode = cleanUpUnicode.isSelected();
+        boolean choiceConvertToBiblatex = cleanUpBiblatex.isSelected();
 
         if (choiceRenamePDF && Globals.prefs.getBoolean(CleanUpAction.AKS_AUTO_NAMING_PDFS_AGAIN)) {
             CheckBoxMessage cbm = new CheckBoxMessage(Globals.lang(""Auto-generating PDF-Names does not support undo. Continue?""),, @@ -72,7 +72,8 @@
     private Comparator<BibtexEntry> searchComparator;
     private Comparator<BibtexEntry> groupComparator;
     private final Comparator<BibtexEntry> markingComparator = new IsMarkedComparator();
-    private Matcher<BibtexEntry> searchMatcher, groupMatcher;
+    private Matcher<BibtexEntry> searchMatcher;
+    private Matcher<BibtexEntry> groupMatcher;
 
     // needed to activate/deactivate the listener
     private final PersistenceTableColumnListener tableColumnListener;
@@ -620,16 +621,19 @@ public void scrollToCenter(int rowIndex, int vColIndex) {
     }
 
 
-    private static GeneralRenderer defRenderer, reqRenderer, optRenderer, grayedOutRenderer,
-            veryGrayedOutRenderer;
+    private static GeneralRenderer defRenderer;
+    private static GeneralRenderer reqRenderer;
+    private static GeneralRenderer optRenderer;
+    private static GeneralRenderer grayedOutRenderer;
+    private static GeneralRenderer veryGrayedOutRenderer;
 
     private static GeneralRenderer[] markedRenderers;
 
     private static IncompleteRenderer incRenderer;
     private static CompleteRenderer
-            compRenderer,
-            grayedOutNumberRenderer,
-            veryGrayedOutNumberRenderer;
+            compRenderer;
+    private static CompleteRenderer grayedOutNumberRenderer;
+    private static CompleteRenderer veryGrayedOutNumberRenderer;
 
     private static CompleteRenderer[] markedNumberRenderers;
 , @@ -245,7 +245,8 @@ public String format(String field) {
         StringBuffer currentCommand = null;
 
         char c;
-        boolean escaped = false, incommand = false;
+        boolean escaped = false;
+        boolean incommand = false;
 
         for (i = 0; i < field.length(); i++) {
             c = field.charAt(i);, @@ -95,7 +95,8 @@
     private static boolean useDefaultAuthoryearStyle = false;
     private static boolean useDefaultNumericalStyle = false;
     private StyleSelectDialog styleDialog = null;
-    private boolean dialogOkPressed = false, autoDetected = false;
+    private boolean dialogOkPressed = false;
+    private boolean autoDetected = false;
     private String sOffice = null;
     private Throwable connectException = null;
 
@@ -120,7 +121,8 @@ private OpenOfficePanel() {
         OpenOfficePanel.selectDocument.setToolTipText(Globals.lang(""Select Writer document""));
         OpenOfficePanel.update = new JButton(GUIGlobals.getImage(""refresh""));
         OpenOfficePanel.update.setToolTipText(Globals.lang(""Sync OO bibliography""));
-        String defExecutable, defJarsDir;
+        String defExecutable;
+        String defJarsDir;
         if (Globals.ON_WIN) {
             Globals.prefs.putDefaultValue(""ooPath"", ""C:\\Program Files\\OpenOffice.org 3"");
             Globals.prefs.putDefaultValue(""ooExecutablePath"", ""C:\\Program Files\\OpenOffice.org 2.3\\program\\soffice.exe"");
@@ -490,7 +492,8 @@ private void connect(boolean auto) {
             return;
         }*/
 
-        String unoilDir, ooBaseDirectory;
+        String unoilDir;
+        String ooBaseDirectory;
         if (auto) {
             AutoDetectPaths adp = new AutoDetectPaths(diag);
 , ",NaN,Yet another code style iteration
81,Jörg Lenhard,"['.gitignore', 'CHANGELOG', 'CLI', 'circle.yml', 'src/main/java/net/sf/jabref/export/ExportFormats.java', 'src/main/resources/osx/macadapter/MacAdapter.java', 'src/main/resources/plugins/net.sf.jabref.export.misq/build.xml', 'src/main/resources/plugins/net.sf.jabref.export.misq/plugin.xml', 'src/main/resources/plugins/readme.txt', 'src/main/resources/resource/.gitignore', 'src/main/resources/resource/layout/misq/misq.article.layout', 'src/main/resources/resource/layout/misq/misq.begin.layout', 'src/main/resources/resource/layout/misq/misq.book.layout', 'src/main/resources/resource/layout/misq/misq.end.layout', 'src/main/resources/resource/layout/misq/misq.layout', 'src/main/resources/resource/layout/misq/readme.txt']","@@ -1,8 +1,12 @@
 # no generated files in version control
 src/main/gen/
 
+# JVM errors
 hs_err*.log
 
+# backup files from JabRef itself
+*.bak
+
 # Ant
 buildant/
 build.number, @@ -18,7 +18,6 @@
     - BREAKING: Search groups now use same search logic as UI --> avoids confusion when converting a UI search into a search group. Behaviour before: contains/regex check of whole search string; behaviour after: contains/regex check of every word of the search string. The new search is more powerful and con simulate the old behaviour: enclose everything in double quotes, e.g., process language --> ""process language"".
     - Change default of use IEEE abbreviations from TRUE to FALSE
     - BREAKING: Remove plugin functionality.
->>>>>>> no-plugins
 2.11 beta 3
     - New MacOSX integration
     - Two releases for MacOSX: OSX-Java6 for Apple Java 1.6 and OSX for Oracle Java 1.7+, @@ -1,51 +0,0 @@
-usage: jabref [OPTIONS] [BIBTEX_FILE]
-
-Options: [-a <FILE>] [-b] [-d <FILE>] [-f <FILE>] [-h] [-i <FILE>]
-       [--importToOpen <FILE>] [-l] [-m <FILE>] [-n] [-o <FILE>] [-p
-       <FILE>] [-s] [-v] [-x <FILE>]
- -a,--aux <FILE>             Subdatabase from aux: file[.aux],new[.bib]
- -b,--blank                  Do not open any files at startup
- -d,--prdef <FILE>           Reset preferences (key1,key2,... or 'all')
- -f,--fetch <FILE>           Run Fetcher, e.g. ""--fetch=Medline:cancer""
- -h,--help                   Display help on command line options
- -i,--import <FILE>          Import file: filename[,import format]
-    --importToOpen <FILE>    Import to open tab
- -l,--loads                  Load session
- -m,--exportMatches <FILE>   [field]searchTerm,outputFile:
-                             file[,exportFormat]
- -n,--nogui                  No GUI. Only process command line options.
- -o,--output <FILE>          Output or export file: filename[,export
-                             format]
- -p,--primp <FILE>           Import preferences from file
- -s,--nosplash               Do not show splash window at startup
- -v,--version                Display version
- -x,--prexp <FILE>           Export preferences to file
-
-Available import formats:
-  BibTeX         : bibtex
-  BibTeXML       : bibtexml
-  Biblioscape    : biblioscape
-  Biomail        : biomail
-  CSA            : csa
-  Copac          : cpc
-  INSPEC         : inspec
-  ISI            : isi
-  JStor (tab delimited) : jstor
-  MSBib          : msbib
-  Medline        : medline
-  MedlinePlain   : medlineplain
-  Ovid           : ovid
-  REPEC New Economic Papers (NEP) : repecnep
-  RIS            : ris
-  Refer/Endnote  : refer
-  Scifinder      : scifinder
-  SilverPlatter  : silverplatter
-  Sixpack        : sixpack
-  XMP-annotated PDF : xmpannotatedpdf
-
-Available export formats: MSBib, bibordf, bibtexml, din1505, docbook,
-endnote, harvard, html, iso690rtf, iso690txt, listrefs, misq, mods,
-mysql, ods, oocalc, oocsv, postgresql, ris, simplehtml, tablerefs,
-tablerefsabsbib
-
-Please report issues at http://sourceforge.net/p/jabref/bugs/
\ No newline at end of file, @@ -1,6 +1,6 @@
 machine:
   java:
-    version: openjdk8
+    version: oraclejdk8
 
 dependencies:
   override:, @@ -69,6 +69,7 @@ public static void initAllExports() {
         ExportFormat ef = new ExportFormat(Globals.lang(""RIS""), ""ris"", ""ris"", ""ris"", "".ris"");
         ef.encoding = ""UTF-8"";
         ExportFormats.putFormat(ef);
+        ExportFormats.putFormat(new ExportFormat(Globals.lang(""MIS Quarterly""), ""misq"", ""misq"", ""misq"","".rtf""));
 
         ExportFormats.putFormat(new OpenOfficeDocumentCreator());
         ExportFormats.putFormat(new OpenDocumentSpreadsheetCreator());, @@ -20,6 +20,12 @@
 
 import net.sf.jabref.JabRefFrame;
 
+import com.apple.eawt.*;
+import com.apple.eawt.AppEvent.AboutEvent;
+import com.apple.eawt.AppEvent.OpenFilesEvent;
+import com.apple.eawt.AppEvent.PreferencesEvent;
+import com.apple.eawt.AppEvent.QuitEvent;
+
 public class MacAdapter implements PreferencesHandler, AboutHandler, QuitHandler, OpenFilesHandler {
 
 	private JabRefFrame parentFrame = null;, @@ -1,29 +0,0 @@
-<?xml version=""1.0""?>
-<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
-
-   Example Ant build file how to create a jar for distribution 
-   for an export plugin.
-
-   Version:  $Revision$
-             $Date$
-             $Author$
-
-+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
-<project name=""net.sf.jabref.export.misq"" default=""jar"" basedir=""."">
-
-	<!-- Properties -->
-	<property name=""version"" value=""1.0"" />
-	<property name=""jar"" value=""../${ant.project.name}-${version}.jar"" />
-
-	<!-- Jars up project -->
-	<target name=""jar"">
-		<jar destfile=""${jar}"">
-			<fileset dir="".""/>
-		</jar>
-	</target>
-
-	<target name=""clean"" description=""Clean project"">
-		<delete file=""${jar}"" />
-	</target>
-
-</project>, @@ -1,22 +0,0 @@
-<?xml version=""1.0"" ?>
-<!DOCTYPE plugin PUBLIC ""-//JPF//Java Plug-in Manifest 1.0"" ""http://jpf.sourceforge.net/plugin_1_0.dtd"">
-<plugin id=""net.sf.jabref.export.misq"" version=""1.0"">
-	
-	<requires>
-		<import plugin-id=""net.sf.jabref.core""/>
-	</requires>
-	
-	<runtime>
-		<library type=""resources"" path=""templates/"" id=""templates""/>
-	</runtime>
-	
-	<extension id=""MISQuarterly"" plugin-id=""net.sf.jabref.core""
-		point-id=""ExportFormatTemplate"">
-		<parameter id=""displayName"" value=""MIS Quarterly"" />
-		<parameter id=""consoleName"" value=""misq"" />
-		<parameter id=""layoutFilename"" value=""misq"" />
-		<parameter id=""dir"" value=""templates/""/>
-		<parameter id=""extension"" value="".rtf"" />
-	</extension>
-
-</plugin>
\ No newline at end of file, @@ -1,9 +0,0 @@
-Plugins for JabRef that are supposed to be distributed with the system should go here.
-
-At the moment we need an ugly hack in 
-
-net.sf.jabref.plugin.PluginCore.java
-
-to add all plugins manually. Since they are loaded from the resulting JabRef jar.
-
-To work around this issue, one can add all extension directly to the core plugin instead. 
\ No newline at end of file, @@ -1 +0,0 @@
-*.bak
\ No newline at end of file, None, None, None, None, None, None, ",This pull request moves the classes that make up the Options->Preferences dialog into a seperate package in gui and performs a few quality improvements upon them,Move classes for the Options->Preferences dialog to gui
82,Jörg Lenhard,"['build.gradle', 'gradle/wrapper/gradle-wrapper.jar', 'gradle/wrapper/gradle-wrapper.properties']","@@ -119,7 +119,7 @@ sourceCompatibility = 1.8
 mainClassName = ""net.sf.jabref.JabRefMain""
 
 task wrapper(type: Wrapper) {
-    gradleVersion = '2.4'
+    gradleVersion = '2.5'
 }
 
 compileJava {, None, @@ -1,6 +1,6 @@
-#Tue Jul 21 17:57:36 CEST 2015
+#Thu Jul 30 13:20:57 CEST 2015
 distributionBase=GRADLE_USER_HOME
 distributionPath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
 zipStorePath=wrapper/dists
-distributionUrl=https\://services.gradle.org/distributions/gradle-2.4-all.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-2.5-all.zip, ",Moves all implementations of the FieldEditor interface to a seperate gui package and performs various refactorings and quality improvements on them.,Move FieldEditor
83,Stefan Kolb,['src/main/resources/help/About.html'],"@@ -15,7 +15,7 @@ <h1>JabRef version ${version}</h1>
     License</a> as published by the Free Software Foundation, either
     version 2 of the License, or (at your option) any later version.</p>
 
-    <p>The source code and documentation can be found at the homepage of JabRef <a href=""http://jabref.sourceforge.net/"">http://jabref.sourceforge.net/</a>.
+    <p>The source code and documentation can be found at <a href=""https://github.com/JabRef/jabref/"">https://github.com/JabRef/jabref/</a>.
         Please submit bugs and feature requests to
         <a href=""https://github.com/JabRef/jabref/issues"">https://github.com/JabRef/jabref/issues</a>.
     </p>, ","I replaced the information for the old SF bug tracker inside the GUI application.
Am I missing any locations? 
At the moment it is only replaced inside `About.html`.",Refer to new issue tracker
84,fc7,['src/main/java/net/sf/jabref/BibtexEntryType.java'],"@@ -1058,7 +1058,7 @@ public static void saveCustomEntryTypes(JabRefPreferences prefs) {
 
     /**
      * Get an array of the required fields in a form appropriate for the entry customization
-     * dialog - that is, thie either-or fields together and separated by slashes.
+     * dialog - that is, the either-or fields together and separated by slashes.
      *
      * @return Array of the required fields in a form appropriate for the entry customization dialog.
      */, ",Trivial fix to restore missing imports in the MacAdapter,Dev 2.11
85,Jörg Lenhard,['src/test/java/net/sf/jabref/logic/labelPattern/LabelPatternUtilTest.java'],"@@ -1,4 +1,4 @@
-package net.sf.jabref.gui.labelPattern;
+package net.sf.jabref.logic.labelPattern;
 
 import net.sf.jabref.BibtexDatabase;
 import net.sf.jabref.BibtexEntry;, ","The package declaration in this class is syntactically wrong. For some reason, this does not bother gradle, which still runs the test (Eclipse, however, doesn't). This is kind of alarming, since this code should not compile.",Fix package declaration in LabelPatternUtilTest
86,Stefan Kolb,['CHANGELOG'],"@@ -1,4 +1,5 @@
 [master]
+    - List of authors is now auto generated `scripts/generate-authors.sh` and inserted into L10N About.html
     - Remove Mr.DLib support as MR.DLib will be shut down in 2015
     - Streamline logging API: Replace usages of java.util.logging with commons.logging
     - BREAKING: Remove plugin functionality., ","The list of contributors can now be auto generated via `scripts/generate-authors.sh`.

It uses an additional `.mailmap` file to merge different name/email configurations of unique authors.
The list is in sync with the old manual list from `About.html`.
Missing manual entries are concatenated in `scripts/generate-authors.sh`for now.

Imho, we should either skip missing authors, or map them to unmapped commit emails.
I'm not sure how many commits are missing in our history and in which way these people contributed.
Maybe @koppor can shed some light on this.

The idea is to use this file to replace our contributors list inside `About.html` automatically without losing contributor's information or being inconsistent between languages etc.
We may have to do some changes to the file structure, e.g. attribute _name_ only, but this PR is mainly for unifying our data first.

The script itself `scripts/generate-authors.sh` can either be included in the build process or executed manually at times, as it may be beneficial if we oversee the mapping process by a human.",Automate contributors list
89,Simon Harrer,"['src/graphics/splash/README.md', 'src/graphics/splash/splash-beta.svg', 'src/graphics/splash/splash-beta2.svg', 'src/graphics/splash/splash-beta3.svg', 'src/graphics/splash/splash-dev.svg', 'src/graphics/splash/splash-release.svg', 'src/graphics/splash/splashBackground.png', 'src/main/java/net/sf/jabref/JabRef.java', 'src/main/java/net/sf/jabref/JabRefCLI.java', 'src/main/java/net/sf/jabref/gui/splash/SplashScreen.java', 'src/main/java/net/sf/jabref/gui/splash/SplashScreenLifecycle.java', 'src/main/resources/images/splash.png']","@@ -1,5 +0,0 @@
-Release file: splash-release.svg, uses splashBackground.png
-Beta files: *beta*, base: splash-release.svg
-Dev file: splash-dev.svg, base:splash-release.svg
-
-The target is splash.png contained in /src/main/resources/images/, @@ -1,96 +0,0 @@
-<?xml version=""1.0"" encoding=""UTF-8"" standalone=""no""?>
-<!-- Created with Inkscape (http://www.inkscape.org/) -->
-
-<svg
-   xmlns:dc=""http://purl.org/dc/elements/1.1/""
-   xmlns:cc=""http://creativecommons.org/ns#""
-   xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#""
-   xmlns:svg=""http://www.w3.org/2000/svg""
-   xmlns=""http://www.w3.org/2000/svg""
-   xmlns:xlink=""http://www.w3.org/1999/xlink""
-   xmlns:sodipodi=""http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd""
-   xmlns:inkscape=""http://www.inkscape.org/namespaces/inkscape""
-   inkscape:export-ydpi=""90.000000""
-   inkscape:export-xdpi=""90.000000""
-   inkscape:export-filename=""splash.png""
-   sodipodi:docname=""splash-beta.svg""
-   inkscape:version=""0.91 r13725""
-   sodipodi:version=""0.32""
-   id=""svg2138""
-   height=""432""
-   width=""576""
-   inkscape:output_extension=""org.inkscape.output.svg.inkscape""
-   version=""1.1"">
-  <sodipodi:namedview
-     inkscape:window-y=""0""
-     inkscape:window-x=""0""
-     inkscape:window-height=""1155""
-     inkscape:window-width=""1920""
-     inkscape:current-layer=""layer1""
-     inkscape:document-units=""px""
-     inkscape:cy=""225.8697""
-     inkscape:cx=""105.10531""
-     inkscape:zoom=""1""
-     inkscape:pageshadow=""2""
-     inkscape:pageopacity=""0.0""
-     borderopacity=""1.0""
-     bordercolor=""#666666""
-     pagecolor=""#ffffff""
-     id=""base""
-     showgrid=""false""
-     inkscape:window-maximized=""1""
-     fit-margin-top=""0""
-     fit-margin-left=""0""
-     fit-margin-right=""0""
-     fit-margin-bottom=""0"" />
-  <defs
-     id=""defs2140"" />
-  <metadata
-     id=""metadata2143"">
-    <rdf:RDF>
-      <cc:Work
-         rdf:about="""">
-        <dc:format>image/svg+xml</dc:format>
-        <dc:type
-           rdf:resource=""http://purl.org/dc/dcmitype/StillImage"" />
-        <dc:title />
-      </cc:Work>
-    </rdf:RDF>
-  </metadata>
-  <g
-     inkscape:groupmode=""layer""
-     id=""layer2""
-     inkscape:label=""release splash""
-     style=""display:inline"">
-    <image
-       xlink:href=""splash-release.svg""
-       width=""576""
-       height=""432""
-       id=""image3653""
-       x=""-0.89468384""
-       y=""-0.86970043""
-       style=""display:inline"" />
-  </g>
-  <g
-     transform=""translate(-77.5,-170.36218)""
-     inkscape:label=""beta 2""
-     inkscape:groupmode=""layer""
-     id=""layer1""
-     style=""display:inline"">
-    <flowRoot
-       inkscape:export-ydpi=""75""
-       inkscape:export-xdpi=""75""
-       inkscape:export-filename=""splash.png""
-       transform=""matrix(0.9688007,-0.2478411,0.2478411,0.9688007,-139.20276,134.59483)""
-       style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:56px;line-height:100%;font-family:'Bitstream Vera Sans';-inkscape-font-specification:'Bitstream Vera Sans Bold';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f91616;fill-opacity:0.65789472;stroke:none""
-       id=""flowRoot2745""
-       xml:space=""preserve""><flowRegion
-         id=""flowRegion2747""><rect
-           style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:56px;line-height:100%;font-family:'Bitstream Vera Sans';-inkscape-font-specification:'Bitstream Vera Sans Bold';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f91616;fill-opacity:0.65789472""
-           y=""470.36218""
-           x=""482""
-           height=""99.498024""
-           width=""246.77605""
-           id=""rect2749"" /></flowRegion><flowPara
-         id=""flowPara2751"">beta 2</flowPara></flowRoot>  </g>
-</svg>, @@ -1,96 +0,0 @@
-<?xml version=""1.0"" encoding=""UTF-8"" standalone=""no""?>
-<!-- Created with Inkscape (http://www.inkscape.org/) -->
-
-<svg
-   xmlns:dc=""http://purl.org/dc/elements/1.1/""
-   xmlns:cc=""http://creativecommons.org/ns#""
-   xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#""
-   xmlns:svg=""http://www.w3.org/2000/svg""
-   xmlns=""http://www.w3.org/2000/svg""
-   xmlns:xlink=""http://www.w3.org/1999/xlink""
-   xmlns:sodipodi=""http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd""
-   xmlns:inkscape=""http://www.inkscape.org/namespaces/inkscape""
-   inkscape:export-ydpi=""90.000000""
-   inkscape:export-xdpi=""90.000000""
-   inkscape:export-filename=""splash.png""
-   sodipodi:docname=""splash-beta.svg""
-   inkscape:version=""0.91 r13725""
-   sodipodi:version=""0.32""
-   id=""svg2138""
-   height=""432""
-   width=""576""
-   inkscape:output_extension=""org.inkscape.output.svg.inkscape""
-   version=""1.1"">
-  <sodipodi:namedview
-     inkscape:window-y=""0""
-     inkscape:window-x=""0""
-     inkscape:window-height=""1155""
-     inkscape:window-width=""1920""
-     inkscape:current-layer=""layer1""
-     inkscape:document-units=""px""
-     inkscape:cy=""225.8697""
-     inkscape:cx=""105.10531""
-     inkscape:zoom=""1""
-     inkscape:pageshadow=""2""
-     inkscape:pageopacity=""0.0""
-     borderopacity=""1.0""
-     bordercolor=""#666666""
-     pagecolor=""#ffffff""
-     id=""base""
-     showgrid=""false""
-     inkscape:window-maximized=""1""
-     fit-margin-top=""0""
-     fit-margin-left=""0""
-     fit-margin-right=""0""
-     fit-margin-bottom=""0"" />
-  <defs
-     id=""defs2140"" />
-  <metadata
-     id=""metadata2143"">
-    <rdf:RDF>
-      <cc:Work
-         rdf:about="""">
-        <dc:format>image/svg+xml</dc:format>
-        <dc:type
-           rdf:resource=""http://purl.org/dc/dcmitype/StillImage"" />
-        <dc:title />
-      </cc:Work>
-    </rdf:RDF>
-  </metadata>
-  <g
-     inkscape:groupmode=""layer""
-     id=""layer2""
-     inkscape:label=""release splash""
-     style=""display:inline"">
-    <image
-       xlink:href=""splash-release.svg""
-       width=""576""
-       height=""432""
-       id=""image3653""
-       x=""-0.89468384""
-       y=""-0.86970043""
-       style=""display:inline"" />
-  </g>
-  <g
-     transform=""translate(-77.5,-170.36218)""
-     inkscape:label=""beta 2""
-     inkscape:groupmode=""layer""
-     id=""layer1""
-     style=""display:inline"">
-    <flowRoot
-       inkscape:export-ydpi=""75""
-       inkscape:export-xdpi=""75""
-       inkscape:export-filename=""splash.png""
-       transform=""matrix(0.9688007,-0.2478411,0.2478411,0.9688007,-139.20276,134.59483)""
-       style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:56px;line-height:100%;font-family:'Bitstream Vera Sans';-inkscape-font-specification:'Bitstream Vera Sans Bold';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f91616;fill-opacity:0.65789472;stroke:none""
-       id=""flowRoot2745""
-       xml:space=""preserve""><flowRegion
-         id=""flowRegion2747""><rect
-           style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:56px;line-height:100%;font-family:'Bitstream Vera Sans';-inkscape-font-specification:'Bitstream Vera Sans Bold';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f91616;fill-opacity:0.65789472""
-           y=""470.36218""
-           x=""482""
-           height=""99.498024""
-           width=""246.77605""
-           id=""rect2749"" /></flowRegion><flowPara
-         id=""flowPara2751"">beta 2</flowPara></flowRoot>  </g>
-</svg>, @@ -1,96 +0,0 @@
-<?xml version=""1.0"" encoding=""UTF-8"" standalone=""no""?>
-<!-- Created with Inkscape (http://www.inkscape.org/) -->
-
-<svg
-   xmlns:dc=""http://purl.org/dc/elements/1.1/""
-   xmlns:cc=""http://creativecommons.org/ns#""
-   xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#""
-   xmlns:svg=""http://www.w3.org/2000/svg""
-   xmlns=""http://www.w3.org/2000/svg""
-   xmlns:xlink=""http://www.w3.org/1999/xlink""
-   xmlns:sodipodi=""http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd""
-   xmlns:inkscape=""http://www.inkscape.org/namespaces/inkscape""
-   inkscape:export-ydpi=""90.000000""
-   inkscape:export-xdpi=""90.000000""
-   inkscape:export-filename=""splash.png""
-   sodipodi:docname=""splash-beta.svg""
-   inkscape:version=""0.91 r13725""
-   sodipodi:version=""0.32""
-   id=""svg2138""
-   height=""432""
-   width=""576""
-   inkscape:output_extension=""org.inkscape.output.svg.inkscape""
-   version=""1.1"">
-  <sodipodi:namedview
-     inkscape:window-y=""0""
-     inkscape:window-x=""0""
-     inkscape:window-height=""1155""
-     inkscape:window-width=""1920""
-     inkscape:current-layer=""layer1""
-     inkscape:document-units=""px""
-     inkscape:cy=""225.8697""
-     inkscape:cx=""105.10531""
-     inkscape:zoom=""1""
-     inkscape:pageshadow=""2""
-     inkscape:pageopacity=""0.0""
-     borderopacity=""1.0""
-     bordercolor=""#666666""
-     pagecolor=""#ffffff""
-     id=""base""
-     showgrid=""false""
-     inkscape:window-maximized=""1""
-     fit-margin-top=""0""
-     fit-margin-left=""0""
-     fit-margin-right=""0""
-     fit-margin-bottom=""0"" />
-  <defs
-     id=""defs2140"" />
-  <metadata
-     id=""metadata2143"">
-    <rdf:RDF>
-      <cc:Work
-         rdf:about="""">
-        <dc:format>image/svg+xml</dc:format>
-        <dc:type
-           rdf:resource=""http://purl.org/dc/dcmitype/StillImage"" />
-        <dc:title />
-      </cc:Work>
-    </rdf:RDF>
-  </metadata>
-  <g
-     inkscape:groupmode=""layer""
-     id=""layer2""
-     inkscape:label=""release splash""
-     style=""display:inline"">
-    <image
-       xlink:href=""splash-release.svg""
-       width=""576""
-       height=""432""
-       id=""image3653""
-       x=""-0.89468384""
-       y=""-0.86970043""
-       style=""display:inline"" />
-  </g>
-  <g
-     transform=""translate(-77.5,-170.36218)""
-     inkscape:label=""beta 3""
-     inkscape:groupmode=""layer""
-     id=""layer1""
-     style=""display:inline"">
-    <flowRoot
-       inkscape:export-ydpi=""75""
-       inkscape:export-xdpi=""75""
-       inkscape:export-filename=""splash.png""
-       transform=""matrix(0.9688007,-0.2478411,0.2478411,0.9688007,-139.20276,134.59483)""
-       style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:56px;line-height:100%;font-family:'Bitstream Vera Sans';-inkscape-font-specification:'Bitstream Vera Sans Bold';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f91616;fill-opacity:0.65789472;stroke:none""
-       id=""flowRoot2745""
-       xml:space=""preserve""><flowRegion
-         id=""flowRegion2747""><rect
-           style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:56px;line-height:100%;font-family:'Bitstream Vera Sans';-inkscape-font-specification:'Bitstream Vera Sans Bold';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#f91616;fill-opacity:0.65789472""
-           y=""470.36218""
-           x=""482""
-           height=""99.498024""
-           width=""246.77605""
-           id=""rect2749"" /></flowRegion><flowPara
-         id=""flowPara2751"">beta 3</flowPara></flowRoot>  </g>
-</svg>, @@ -1,125 +0,0 @@
-<?xml version=""1.0"" encoding=""UTF-8"" standalone=""no""?>
-<!-- Created with Inkscape (http://www.inkscape.org/) -->
-
-<svg
-   xmlns:dc=""http://purl.org/dc/elements/1.1/""
-   xmlns:cc=""http://creativecommons.org/ns#""
-   xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#""
-   xmlns:svg=""http://www.w3.org/2000/svg""
-   xmlns=""http://www.w3.org/2000/svg""
-   xmlns:xlink=""http://www.w3.org/1999/xlink""
-   xmlns:sodipodi=""http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd""
-   xmlns:inkscape=""http://www.inkscape.org/namespaces/inkscape""
-   inkscape:export-ydpi=""90.000000""
-   inkscape:export-xdpi=""90.000000""
-   inkscape:export-filename=""splash.png""
-   sodipodi:docname=""splash-dev.svg""
-   inkscape:version=""0.91 r13725""
-   sodipodi:version=""0.32""
-   id=""svg2138""
-   height=""432""
-   width=""576""
-   inkscape:output_extension=""org.inkscape.output.svg.inkscape""
-   version=""1.1"">
-  <defs
-     id=""defs2140"" />
-  <sodipodi:namedview
-     inkscape:window-y=""27""
-     inkscape:window-x=""35""
-     inkscape:window-height=""873""
-     inkscape:window-width=""1660""
-     inkscape:current-layer=""layer1""
-     inkscape:document-units=""px""
-     inkscape:cy=""225.8697""
-     inkscape:cx=""165.10531""
-     inkscape:zoom=""1""
-     inkscape:pageshadow=""2""
-     inkscape:pageopacity=""0.0""
-     borderopacity=""1.0""
-     bordercolor=""#666666""
-     pagecolor=""#ffffff""
-     id=""base""
-     showgrid=""false""
-     inkscape:window-maximized=""0""
-     fit-margin-top=""0""
-     fit-margin-left=""0""
-     fit-margin-right=""0""
-     fit-margin-bottom=""0"" />
-  <metadata
-     id=""metadata2143"">
-    <rdf:RDF>
-      <cc:Work
-         rdf:about="""">
-        <dc:format>image/svg+xml</dc:format>
-        <dc:type
-           rdf:resource=""http://purl.org/dc/dcmitype/StillImage"" />
-        <dc:title />
-      </cc:Work>
-    </rdf:RDF>
-  </metadata>
-  <g
-     inkscape:groupmode=""layer""
-     id=""layer2""
-     inkscape:label=""Release splash"">
-    <image
-       sodipodi:absref=""/home/koppor/jabref/src/graphics/splash/splash-release.svg""
-       xlink:href=""splash-release.svg""
-       width=""576""
-       height=""432""
-       id=""image3381""
-       x=""1""
-       y=""0"" />
-  </g>
-  <g
-     id=""layer1""
-     inkscape:groupmode=""layer""
-     inkscape:label=""Dev text""
-     transform=""translate(-77.5,-170.36218)"">
-    <text
-       xml:space=""preserve""
-       style=""font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:41.23898697px;line-height:100%;font-family:'Nimbus Sans L';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#ff0000;fill-opacity:1;stroke:#ff6600;stroke-width:2.8878212;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1""
-       x=""210.5853""
-       y=""653.81372""
-       id=""text2911-4""
-       sodipodi:linespacing=""100%""
-       transform=""matrix(0.80568825,-0.44174063,0.52619691,0.95267301,0,0)""
-       inkscape:export-filename=""splash.png""
-       inkscape:export-xdpi=""75""
-       inkscape:export-ydpi=""75""><tspan
-         sodipodi:role=""line""
-         id=""tspan2913-0""
-         x=""210.5853""
-         y=""653.81372""
-         style=""font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:85.91455841px;line-height:100%;font-family:'Bitstream Vera Sans';text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#ff0000;fill-opacity:1;stroke:#ff6600;stroke-width:2.8878212;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"">dev</tspan></text>
-    <text
-       xml:space=""preserve""
-       style=""font-size:20.00000002px;font-style:normal;font-weight:bold;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Bitstream Vera Sans;-inkscape-font-specification:Bitstream Vera Sans Bold;font-stretch:normal;font-variant:normal""
-       x=""510.92224""
-       y=""226.16539""
-       id=""text3244""
-       sodipodi:linespacing=""125%""
-       transform=""scale(1.0223375,0.97815056)""><tspan
-         sodipodi:role=""line""
-         x=""510.92224""
-         y=""226.16539""
-         id=""tspan3252""
-         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal"">This is a</tspan><tspan
-         sodipodi:role=""line""
-         x=""510.92224""
-         y=""256.10031""
-         id=""tspan3256""
-         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal""><tspan
-   style=""font-weight:bold;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-style:normal;font-stretch:normal;font-variant:normal;font-size:20.00000002px""
-   id=""tspan3266"">development version</tspan>.</tspan><tspan
-         sodipodi:role=""line""
-         x=""510.92224""
-         y=""286.03522""
-         id=""tspan3258""
-         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal"">Features may</tspan><tspan
-         sodipodi:role=""line""
-         x=""510.92224""
-         y=""315.97015""
-         id=""tspan3260""
-         style=""font-size:20.00000002px;text-align:center;text-anchor:middle;fill:#ff0000;-inkscape-font-specification:Bitstream Vera Sans Bold;font-family:Bitstream Vera Sans;font-weight:bold;font-style:normal;font-stretch:normal;font-variant:normal"">not work as expected.</tspan></text>
-  </g>
-</svg>, None, None, @@ -47,7 +47,6 @@
 import net.sf.jabref.logic.remote.RemotePreferences;
 import net.sf.jabref.logic.remote.client.RemoteListenerClient;
 import net.sf.jabref.gui.remote.JabRefMessageHandler;
-import net.sf.jabref.gui.splash.SplashScreenLifecycle;
 import net.sf.jabref.logic.util.FileBasedLock;
 import net.sf.jabref.logic.util.StringUtil;
 import net.sf.jabref.util.Util;
@@ -71,9 +70,7 @@
     
     private static final Log LOGGER = LogFactory.getLog(JabRef.class);
 
-    private boolean graphicFailure = false;
     private JabRefCLI cli;
-    private SplashScreenLifecycle splashScreen = new SplashScreenLifecycle();
 
     public void start(String[] args) {
         JabRefPreferences prefs = JabRefPreferences.getInstance();
@@ -175,7 +172,7 @@ public void start(String[] args) {
 
         Vector<ParserResult> loaded = processArguments(args, true);
 
-        if (loaded == null || graphicFailure || cli.isDisableGui() || cli.isShowVersion()) {
+        if (loaded == null || cli.isDisableGui() || cli.isShowVersion()) {
             JabRefExecutorService.INSTANCE.shutdownEverything();
             return;
         }
@@ -254,20 +251,6 @@ private static void setCurrentProcessExplicitAppUserModelID(final String appID)
 
         boolean commandMode = cli.isDisableGui() || cli.isFetcherEngine();
 
-        // First we quickly scan the command line parameters for any that signal
-        // that the GUI
-        // should not be opened. This is used to decide whether we should show the
-        // splash screen or not.
-        if (initialStartup && !commandMode && !cli.isDisableSplash()) {
-            try {
-                splashScreen.show();
-            } catch (Throwable ex) {
-                graphicFailure = true;
-                System.err.println(Globals.lang(""Unable to create graphical interface"")
-                        + ""."");
-            }
-        }
-
         // Check if we should reset all preferences to default values:
         if (cli.isPreferencesReset()) {
             String value = cli.getPreferencesReset();
@@ -797,8 +780,6 @@ else if (!pr.isPostponedAutosaveFound()) {
                     JabRef.jrf, 0, """"));
         }
 
-        splashScreen.hide();
-
         /*JOptionPane.showMessageDialog(null, Globals.lang(""Please note that this ""
             +""is an early beta version. Do not use it without backing up your files!""),
                 Globals.lang(""Beta version""), JOptionPane.WARNING_MESSAGE);*/, @@ -17,10 +17,6 @@ public boolean isShowVersion() {
         return cl.hasOption(""version"");
     }
 
-    public boolean isDisableSplash() {
-        return cl.hasOption(""nosplash"");
-    }
-
     public boolean isBlank() {
         return cl.hasOption(""blank"");
     }
@@ -126,7 +122,6 @@ private Options getOptions() {
         // boolean options
         options.addOption(""v"", ""version"", false, Globals.lang(""Display version""));
         options.addOption(""n"", ""nogui"", false, Globals.lang(""No GUI. Only process command line options.""));
-        options.addOption(""s"", ""nosplash"", false, Globals.lang(""Do not show splash window at startup""));
         options.addOption(""h"", ""help"", false, Globals.lang(""Display help on command line options""));
         options.addOption(""l"", ""loads"", false, Globals.lang(""Load session""));
         options.addOption(""b"", ""blank"", false, Globals.lang(""Do not open any files at startup""));, @@ -1,139 +0,0 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
-    This program is free software; you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation; either version 2 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License along
-    with this program; if not, write to the Free Software Foundation, Inc.,
-    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
-*/
-package net.sf.jabref.gui.splash;
-
-//import javax.swing.*;
-import java.awt.EventQueue;
-import java.awt.Frame;
-import java.awt.Graphics;
-import java.awt.Image;
-import java.awt.MediaTracker;
-import java.awt.Toolkit;
-import java.awt.Window;
-import java.net.URL;
-
-/**
- * <p>Title: </p>
- * <p>Description: </p>
- * <p>Copyright: Copyright (c) 2003</p>
- * <p>Company: </p>
- * @author not attributable
- * @version 1.0
- */
-
-class SplashScreen extends Window {
-
-    private final Image splashImage;
-    private boolean paintCalled = false;
-
-
-    private SplashScreen(Frame owner) {
-        super(owner);
-        URL imageURL = SplashScreen.class.getResource(""/images/splash.png"");
-        splashImage = Toolkit.getDefaultToolkit().createImage(imageURL);
-
-        // Load the image
-        MediaTracker mt = new MediaTracker(this);
-        mt.addImage(splashImage, 0);
-        try {
-            mt.waitForID(0);
-        } catch (InterruptedException ignored) {
-        }
-
-        // Center the window on the screen.
-        int imgWidth = splashImage.getWidth(this);
-        int imgHeight = splashImage.getHeight(this);
-
-        setSize(imgWidth, imgHeight);
-        setLocationRelativeTo(null);
-
-        /* Dimension screenDim = Toolkit.getDefaultToolkit().getScreenSize();
-        setLocation(
-            (screenDim.width - imgWidth) / 2,
-            (screenDim.height - imgHeight) / 2
-        );
-        */
-
-    }
-
-    /**
-     * Updates the display area of the window.
-     */
-    @Override
-    public void update(Graphics g) {
-        // Note: Since the paint method is going to draw an
-        // image that covers the complete area of the component we
-        // do not fill the component with its background color
-        // here. This avoids flickering.
-
-        g.setColor(getForeground());
-        paint(g);
-    }
-
-    /**
-     * Paints the image on the window.
-     */
-
-    @Override
-    public void paint(Graphics g) {
-        g.drawImage(splashImage, 0, 0, this);
-
-        // Notify method splash that the window
-        // has been painted.
-        if (!paintCalled) {
-            paintCalled = true;
-            synchronized (this) {
-                notifyAll();
-            }
-        }
-    }
-
-    /**
-     * Constructs and displays a SplashWindow.<p>
-     * This method is useful for startup splashs.
-     * Dispose the returned frame to get rid of the splash window.<p>
-     *
-     * @return Returns the frame that owns the SplashWindow.
-     */
-
-    public static Frame splash() {
-        Frame f = new Frame();
-        SplashScreen w = new SplashScreen(f);
-
-        // Show the window.
-        w.setVisible(true);
-        w.toFront();
-
-        // Note: To make sure the user gets a chance to see the
-        // splash window we wait until its paint method has been
-        // called at least once by the AWT event dispatcher thread.
-
-        // sebwills adds: However, just in case the paint method never gets called
-        // (e.g. if the splashscreen is completely obscured by an 'always on top'
-        // window of some other application), we time-out after 5 seconds.
-        if (!EventQueue.isDispatchThread()) {
-            synchronized (w) {
-                if (!w.paintCalled) {
-                    try {
-                        w.wait(5000);
-                    } catch (InterruptedException ignored) {
-                    }
-                }
-            }
-        }
-        return f;
-    }
-}, @@ -1,19 +0,0 @@
-package net.sf.jabref.gui.splash;
-
-import java.awt.Frame;
-
-public class SplashScreenLifecycle {
-
-    private Frame splashScreen;
-
-    public void show() {
-        splashScreen = SplashScreen.splash();
-    }
-
-    public void hide() {
-        if (splashScreen != null) {
-            splashScreen.dispose();
-            splashScreen = null;
-        }
-    }
-}, None, ","This PR removes both the splash screen and the CLI option to disable the splash screen. 

Why?
- splash screen on modern systems is shown only for a very short period of time as JabRef starts fast
- we should focus on making JabRef to start as fast as possible. A splash screen reduces the time to start the software as additional code needs to be executed. 
- for each new version (even for beta and dev versions), we have to check in a png with 200KB file size into the repository. This increases the amount of storage required for the git repository by 200KB for each version/dev-version.
- The splash screen interferes with using JabRef via the CLI. 
- It reduces code in JabRef. Hence, less code needs to be maintained.

This is a PR that is open for discussion. Please add any pros/cons as you see fit. ",Removes splash screen
90,fc7,"['src/test/java/net/sf/jabref/imports/GeneralFetcherTest.java', 'src/test/java/net/sf/jabref/testutils/GuiTestUtils.java']","@@ -4,7 +4,7 @@
 import net.sf.jabref.JabRefFrame;
 import net.sf.jabref.JabRefMain;
 import net.sf.jabref.SidePaneManager;
-import net.sf.jabref.TestUtils;
+import net.sf.jabref.testutils.GuiTestUtils;
 
 import org.junit.After;
 import org.junit.Assert;
@@ -38,12 +38,12 @@
     @Test @Ignore
     public void testResetButton() throws Exception {
         String testString = ""test string"";
-        JTextField tf = (JTextField) TestUtils.getChildNamed(GeneralFetcherTest.gf, ""tf"");
+        JTextField tf = (JTextField) GuiTestUtils.getChildNamed(GeneralFetcherTest.gf, ""tf"");
         Assert.assertNotNull(tf); // tf found?
         tf.setText(testString);
         tf.postActionEvent(); // send message
         Assert.assertEquals(testString, tf.getText());
-        JButton reset = (JButton) TestUtils.getChildNamed(GeneralFetcherTest.gf, ""reset"");
+        JButton reset = (JButton) GuiTestUtils.getChildNamed(GeneralFetcherTest.gf, ""reset"");
         Assert.assertNotNull(reset); // reset found?
         reset.doClick(); // ""click"" reset
         Assert.assertEquals("""", tf.getText());, @@ -1,14 +1,13 @@
-package net.sf.jabref;
+package net.sf.jabref.testutils;
 
 import java.awt.*;
 
 /**
- * Provides helper methods for unit testing such as methods for making testing
- * of GUIs easier.
+ * Provides helper methods for making testing of GUIs easier.
  *
  * @author Dennis Hartrampf, Ines Moosdorf
  */
-public class TestUtils {
+public class GuiTestUtils {
 
     /**
      * Get a Component by name.
@@ -27,7 +26,7 @@ public static Component getChildNamed(Component parent, String name) {
             Component[] children = ((Container) parent).getComponents();
 
             for (Component aChildren : children) {
-                Component child = TestUtils.getChildNamed(aChildren, name);
+                Component child = GuiTestUtils.getChildNamed(aChildren, name);
                 if (child != null) {
                     return child;
                 }, ","This pull request contains, besides more or less minor code cleanup and refactoring, a bugfix for the problem with customized entry types (commit https://github.com/JabRef/jabref/commit/e92238a37cc780eb7fccc0684fa62d2437ddd825). See https://sourceforge.net/p/jabref/bugs/1221/ (with many duplicates)",Fix customized entry problem
93,Jörg Lenhard,"['src/main/java/net/sf/jabref/gui/preftabs/AdvancedTab.java', 'src/main/java/net/sf/jabref/logic/remote/RemoteUtil.java', 'src/test/java/net/sf/jabref/Bug1283.java', 'src/test/java/net/sf/jabref/logic/remote/RemoteUtilTest.java', 'src/test/java/net/sf/jabref/logic/util/MonthUtilTest.java']","@@ -296,7 +296,7 @@ public boolean validateSettings() {
 
         try {
             int portNumber = Integer.parseInt(remoteServerPort.getText());
-            if (RemoteUtil.isValidPartNumber(portNumber)) {
+            if (RemoteUtil.isUserPort(portNumber)) {
                 return true; // Ok, the number was legal.
             } else {
                 throw new NumberFormatException();, @@ -1,7 +1,7 @@
 package net.sf.jabref.logic.remote;
 
 public class RemoteUtil {
-    public static boolean isValidPartNumber(int portNumber) {
-        return portNumber > 1024 && portNumber <= 65535;
+    public static boolean isUserPort(int portNumber) {
+        return portNumber >= 1024 && portNumber <= 65535;
     }
 }, @@ -1,16 +0,0 @@
-package net.sf.jabref;
-
-import net.sf.jabref.logic.util.MonthUtil;
-import org.junit.Assert;
-import org.junit.Test;
-
-import java.io.IOException;
-
-public class Bug1283 {
-
-    @Test
-    public void testBug1283() throws IOException {
-        Assert.assertFalse(MonthUtil.getMonth(""8,"").isValid());
-    }
-
-}, @@ -0,0 +1,30 @@
+package net.sf.jabref.logic.remote;
+
+import junit.framework.Assert;
+import org.junit.Test;
+
+public class RemoteUtilTest {
+    @Test
+    public void rejectPortNumberBelowZero() {
+        Assert.assertFalse(""Port number must be non negative."", RemoteUtil.isUserPort(-55));
+    }
+
+    @Test
+    public void rejectReservedSystemPorts() {
+        Assert.assertFalse(""Port number must be outside reserved system range (0-1023)."", RemoteUtil.isUserPort(0));
+        Assert.assertFalse(""Port number must be outside reserved system range (0-1023)."", RemoteUtil.isUserPort(1023));
+    }
+
+    @Test
+    public void rejectPortsAbove16Bits() {
+        // 2 ^ 16 - 1 => 65535
+        Assert.assertFalse(""Port number should be below 65535."", RemoteUtil.isUserPort(65536));
+    }
+
+    @Test
+    public void acceptPortsAboveSystemPorts() {
+        // ports 1024 -> 65535
+        Assert.assertTrue(""Port number in between 1024 and 65535 should be valid."", RemoteUtil.isUserPort(1024));
+        Assert.assertTrue(""Port number in between 1024 and 65535 should be valid."", RemoteUtil.isUserPort(65535));
+    }
+}, @@ -8,7 +8,6 @@
 
     @Test
     public void testToMonthNumber() {
-
         Assert.assertEquals(0, MonthUtil.getMonth(""jan"").index);
         Assert.assertEquals(1, MonthUtil.getMonth(""feb"").index);
         Assert.assertEquals(2, MonthUtil.getMonth(""mar"").index);
@@ -76,6 +75,6 @@ public void testToMonthNumber() {
         Assert.assertEquals(-1, MonthUtil.getMonth(""3.2"").index);
         Assert.assertEquals(-1, MonthUtil.getMonth(""#test#"").index);
         Assert.assertEquals(-1, MonthUtil.getMonth("""").index);
+        Assert.assertFalse(MonthUtil.getMonth(""8,"").isValid());
     }
-
 }
\ No newline at end of file, ","This pull request features various improvements of the classes in the logic package with the aim to transition beyond Java 1.6 and improve quality. In particular:
- Updates license headers with current date
- Syntax optimizations: Java 1.7 use of generics (diamond operator)
- Format code according to Java conventions (C-style curly brackets, I am looking at you)
- Improves exception handling with logging
- Replace usages of Exception with more precise Exceptions
- Improves variable names
- Removes commented-out code, unused private methods (unused public methods/constructors are not eliminated)
- Use try-with-resources if possible
- Delete stale comments
- Replace StringBuffer with StringBuilder
- Remove history information from JavaDoc

(I am aware that I could push this directly, since I am now a contributor. As this started out as a pull request, I want to finish it as such. Future cotributions will be made directly to jabref/master)",Logic improvements (Java 1.7+)
94,Stefan Kolb,['src/main/java/net/sf/jabref/BibtexFields.java'],"@@ -53,11 +53,6 @@
     public static final String OWNER = ""owner"";
     public static final String TIMESTAMP = ""timestamp""; // it's also definied at the JabRefPreferences class
     private static final String ENTRYTYPE = ""entrytype"";
-    
-    /*
-     * some extra field definitions
-     */
-    private static final String ADDITIONAL_FIELDS = ""/resource/fields/fields.xml"";
 
     public static final String// Using this when I have no database open or when I read
             // non bibtex file formats (used by the ImportFormatReader.java)
@@ -244,9 +239,6 @@ private BibtexFields()
         dummy.setDisplayable(false);
         add(dummy);
 
-        // read external field definitions
-        readXML(ADDITIONAL_FIELDS);
-
         // collect all public fields for the PUBLIC_FIELDS array
         Vector<String> pFields = new Vector<String>(fieldSet.size());
         for (BibtexSingleField sField : fieldSet.values()) {
@@ -302,34 +294,6 @@ private void add(BibtexSingleField field)
         fieldSet.put(key, field);
     }
 
-    /** read a xml definiton file and put only NEW fields into the field list */
-    private void readXML(String resName)
-    {
-        TXMLReader reader = new TXMLReader(resName);
-        if (reader.isReady())
-        {
-            // get a list of all fields
-            NodeList fieldNodes = reader.getNodes(""field"");
-
-            int tagsCount = fieldNodes.getLength();
-            for (int t = 0; t < tagsCount; t++)
-            {
-                Element entry = (Element) fieldNodes.item(t);
-                String fName = reader.readStringAttribute(entry, ""name"", null);
-                if (fName != null) // something found ?
-                {
-                    fName = fName.toLowerCase();
-                    BibtexSingleField dummy = fieldSet.get(fName);
-                    if (dummy == null) // unknown field
-                    {
-                        dummy = new BibtexSingleField(reader, entry);
-                        fieldSet.put(fName, dummy);
-                    }
-                }
-            }
-        }
-    }
-
     // --------------------------------------------------------------------------
     //  the ""static area""
     // --------------------------------------------------------------------------, ","The referenced XML file (`/resource/fields/fields.xml`) is not present and it is unclear how the functionality is used. Maybe some plugin needed it?

Therefore, I'm proposing to remove this functionality for now.",Removes functionality for additional fields via XML file
99,Stefan Kolb,"['src/main/java/net/sf/jabref/export/layout/format/DOICheck.java', 'src/main/java/net/sf/jabref/export/layout/format/DOIStrip.java']","@@ -26,6 +26,10 @@
 public class DOICheck implements LayoutFormatter {
     @Override
     public String format(String fieldText) {
-        return DOI.build(fieldText).map(doi -> doi.getURL()).orElse("""");
+        if (fieldText == null) {
+            return null;
+        }
+
+        return DOI.build(fieldText).map(doi -> doi.getURL()).orElse(fieldText);
     }
 }, @@ -24,6 +24,10 @@
 public class DOIStrip implements LayoutFormatter {
     @Override
     public String format(String fieldText) {
-        return DOI.build(fieldText).map(doi -> doi.getDOI()).orElse("""");
+        if (fieldText == null) {
+            return null;
+        }
+
+        return DOI.build(fieldText).map(doi -> doi.getDOI()).orElse(fieldText);
     }
 }, ","I rewrote the DOI parser as it was hard to understand and missing quite a few valid DOIs.
It's not 100% but should be a lot better than before.
- Clearer and more permissive Regex
- Better URL encoding and decoding
- More test coverage

Any comments before merging this into master are appreciated.",Rewrite DOI parsing
100,Jörg Lenhard,"['src/main/java/net/sf/jabref/gui/entryeditor/EntryEditorTab.java', 'src/main/java/net/sf/jabref/gui/entryeditor/EntryEditorTabFocusListener.java', 'src/main/java/net/sf/jabref/gui/entryeditor/EntryEditorTabList.java', 'src/main/java/net/sf/jabref/gui/entryeditor/SimpleUrlDragDrop.java']","@@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2014 JabRef contributors.
+/*  Copyright (C) 2003-2015 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -53,20 +53,23 @@
 
     private final EntryEditor parent;
 
-    private final HashMap<String, FieldEditor> editors = new HashMap<String, FieldEditor>();
+    private final HashMap<String, FieldEditor> editors = new HashMap<>();
 
     private FieldEditor activeField;
 
     // UGLY HACK to have a pointer to the fileListEditor to call autoSetLinks()
     public FileListEditor fileListEditor;
 
+    private BibtexEntry entry;
+
+    private final FocusListener fieldListener = new EntryEditorTabFocusListener(this);
 
     public EntryEditorTab(JabRefFrame frame, BasePanel panel, List<String> fields, EntryEditor parent,
-            boolean addKeyField, boolean compressed, String name) {
+                          boolean addKeyField, boolean compressed, String name) {
         if (fields != null) {
             this.fields = fields.toArray(new String[fields.size()]);
         } else {
-            this.fields = new String[] {};
+            this.fields = new String[]{};
         }
 
         this.parent = parent;
@@ -83,49 +86,49 @@ public EntryEditorTab(JabRefFrame frame, BasePanel panel, List<String> fields, E
     private void setupPanel(JabRefFrame frame, BasePanel bPanel, boolean addKeyField,
                             boolean compressed, String title) {
 
-        InputMap im = panel.getInputMap(JComponent.WHEN_FOCUSED);
-        ActionMap am = panel.getActionMap();
-
-        im.put(Globals.prefs.getKey(""Entry editor, previous entry""), ""prev"");
-        am.put(""prev"", parent.prevEntryAction);
-        im.put(Globals.prefs.getKey(""Entry editor, next entry""), ""next"");
-        am.put(""next"", parent.nextEntryAction);
-
-        im.put(Globals.prefs.getKey(""Entry editor, store field""), ""store"");
-        am.put(""store"", parent.storeFieldAction);
-        im.put(Globals.prefs.getKey(""Entry editor, next panel""), ""right"");
-        im.put(Globals.prefs.getKey(""Entry editor, next panel 2""), ""right"");
-        am.put(""left"", parent.switchLeftAction);
-        im.put(Globals.prefs.getKey(""Entry editor, previous panel""), ""left"");
-        im.put(Globals.prefs.getKey(""Entry editor, previous panel 2""), ""left"");
-        am.put(""right"", parent.switchRightAction);
-        im.put(Globals.prefs.getKey(""Help""), ""help"");
-        am.put(""help"", parent.helpAction);
-        im.put(Globals.prefs.getKey(""Save database""), ""save"");
-        am.put(""save"", parent.saveDatabaseAction);
-        im.put(Globals.prefs.getKey(""Next tab""), ""nexttab"");
-        am.put(""nexttab"", parent.frame.nextTab);
-        im.put(Globals.prefs.getKey(""Previous tab""), ""prevtab"");
-        am.put(""prevtab"", parent.frame.prevTab);
+        InputMap inputMap = panel.getInputMap(JComponent.WHEN_FOCUSED);
+        ActionMap actionMap = panel.getActionMap();
+
+        inputMap.put(Globals.prefs.getKey(""Entry editor, previous entry""), ""prev"");
+        actionMap.put(""prev"", parent.prevEntryAction);
+        inputMap.put(Globals.prefs.getKey(""Entry editor, next entry""), ""next"");
+        actionMap.put(""next"", parent.nextEntryAction);
+
+        inputMap.put(Globals.prefs.getKey(""Entry editor, store field""), ""store"");
+        actionMap.put(""store"", parent.storeFieldAction);
+        inputMap.put(Globals.prefs.getKey(""Entry editor, next panel""), ""right"");
+        inputMap.put(Globals.prefs.getKey(""Entry editor, next panel 2""), ""right"");
+        actionMap.put(""left"", parent.switchLeftAction);
+        inputMap.put(Globals.prefs.getKey(""Entry editor, previous panel""), ""left"");
+        inputMap.put(Globals.prefs.getKey(""Entry editor, previous panel 2""), ""left"");
+        actionMap.put(""right"", parent.switchRightAction);
+        inputMap.put(Globals.prefs.getKey(""Help""), ""help"");
+        actionMap.put(""help"", parent.helpAction);
+        inputMap.put(Globals.prefs.getKey(""Save database""), ""save"");
+        actionMap.put(""save"", parent.saveDatabaseAction);
+        inputMap.put(Globals.prefs.getKey(""Next tab""), ""nexttab"");
+        actionMap.put(""nexttab"", parent.frame.nextTab);
+        inputMap.put(Globals.prefs.getKey(""Previous tab""), ""prevtab"");
+        actionMap.put(""prevtab"", parent.frame.prevTab);
 
         panel.setName(title);
 
         int fieldsPerRow = compressed ? 2 : 1;
-        //String rowSpec = ""left:pref, 4dlu, fill:pref:grow, 4dlu, fill:pref"";
+
         String colSpec = compressed ? ""fill:pref, 1dlu, fill:10dlu:grow, 1dlu, fill:pref, ""
                 + ""8dlu, fill:pref, 1dlu, fill:10dlu:grow, 1dlu, fill:pref""
                 : ""fill:pref, 1dlu, fill:pref:grow, 1dlu, fill:pref"";
-        StringBuilder sb = new StringBuilder();
+        StringBuilder stringBuilder = new StringBuilder();
         int rows = (int) Math.ceil((double) fields.length / fieldsPerRow);
         for (int i = 0; i < rows; i++) {
-            sb.append(""fill:pref:grow, "");
+            stringBuilder.append(""fill:pref:grow, "");
         }
         if (addKeyField) {
-            sb.append(""4dlu, fill:pref"");
-        } else if (sb.length() >= 2) {
-            sb.delete(sb.length() - 2, sb.length());
+            stringBuilder.append(""4dlu, fill:pref"");
+        } else if (stringBuilder.length() >= 2) {
+            stringBuilder.delete(stringBuilder.length() - 2, stringBuilder.length());
         }
-        String rowSpec = sb.toString();
+        String rowSpec = stringBuilder.toString();
 
         DefaultFormBuilder builder = new DefaultFormBuilder
                 (new FormLayout(colSpec, rowSpec), panel);
@@ -134,49 +137,47 @@ private void setupPanel(JabRefFrame frame, BasePanel bPanel, boolean addKeyField
             // Create the text area:
             int editorType = BibtexFields.getEditorType(fields[i]);
 
-            final FieldEditor ta;
+            final FieldEditor fieldEditor;
             int defaultHeight;
             int wHeight = (int) (50.0 * BibtexFields.getFieldWeight(fields[i]));
             if (editorType == GUIGlobals.FILE_LIST_EDITOR) {
-                ta = new FileListEditor(frame, bPanel.metaData(), fields[i], null, parent);
-                fileListEditor = (FileListEditor) ta;
+                fieldEditor = new FileListEditor(frame, bPanel.metaData(), fields[i], null, parent);
+                fileListEditor = (FileListEditor) fieldEditor;
                 defaultHeight = 0;
+            } else {
+                fieldEditor = new FieldTextArea(fields[i], null);
+                frame.getSearchManager().addSearchListener((FieldTextArea) fieldEditor);
+                defaultHeight = fieldEditor.getPane().getPreferredSize().height;
             }
-            else {
-                ta = new FieldTextArea(fields[i], null);
-                frame.getSearchManager().addSearchListener((FieldTextArea) ta);
-                defaultHeight = ta.getPane().getPreferredSize().height;
-            }
-            //ta.addUndoableEditListener(bPanel.undoListener);
 
-            JComponent ex = parent.getExtra(fields[i], ta);
+            JComponent extra = parent.getExtra(fields[i], fieldEditor);
 
             // Add autocompleter listener, if required for this field:
-            AutoCompleter autoComp = bPanel.getAutoCompleters().get(fields[i]);
-            AutoCompleteListener acl = null;
-            if (autoComp != null) {
-                acl = new AutoCompleteListener(autoComp);
+            AutoCompleter autoCompleter = bPanel.getAutoCompleters().get(fields[i]);
+            AutoCompleteListener autoCompleteListener = null;
+            if (autoCompleter != null) {
+                autoCompleteListener = new AutoCompleteListener(autoCompleter);
             }
-            setupJTextComponent(ta.getTextComponent(), acl);
-            ta.setAutoCompleteListener(acl);
+            setupJTextComponent(fieldEditor.getTextComponent(), autoCompleteListener);
+            fieldEditor.setAutoCompleteListener(autoCompleteListener);
 
             // Store the editor for later reference:
-            editors.put(fields[i], ta);
+            editors.put(fields[i], fieldEditor);
             if (i == 0) {
-                activeField = ta;
+                activeField = fieldEditor;
             }
-            //System.out.println(fields[i]+"": ""+BibtexFields.getFieldWeight(fields[i]));
+
             if (!compressed) {
-                ta.getPane().setPreferredSize(new Dimension(100, Math.max(defaultHeight, wHeight)));
+                fieldEditor.getPane().setPreferredSize(new Dimension(100, Math.max(defaultHeight, wHeight)));
             }
-            builder.append(ta.getLabel());
-            if (ex == null) {
-                builder.append(ta.getPane(), 3);
+            builder.append(fieldEditor.getLabel());
+            if (extra == null) {
+                builder.append(fieldEditor.getPane(), 3);
             } else {
-                builder.append(ta.getPane());
+                builder.append(fieldEditor.getPane());
                 JPanel pan = new JPanel();
                 pan.setLayout(new BorderLayout());
-                pan.add(ex, BorderLayout.NORTH);
+                pan.add(extra, BorderLayout.NORTH);
                 builder.append(pan);
             }
             if ((i + 1) % fieldsPerRow == 0) {
@@ -186,48 +187,44 @@ private void setupPanel(JabRefFrame frame, BasePanel bPanel, boolean addKeyField
 
         // Add the edit field for Bibtex-key.
         if (addKeyField) {
-            final FieldTextField tf = new FieldTextField(BibtexFields.KEY_FIELD, parent
+            final FieldTextField textField = new FieldTextField(BibtexFields.KEY_FIELD, parent
                     .getEntry().getField(BibtexFields.KEY_FIELD), true);
-            //tf.addUndoableEditListener(bPanel.undoListener);
-            setupJTextComponent(tf, null);
+            setupJTextComponent(textField, null);
 
-            editors.put(""bibtexkey"", tf);
+            editors.put(""bibtexkey"", textField);
             /*
              * If the key field is the only field, we should have only one
              * editor, and this one should be set as active initially:
              */
             if (editors.size() == 1) {
-                activeField = tf;
+                activeField = textField;
             }
             builder.nextLine();
-            builder.append(tf.getLabel());
-            builder.append(tf, 3);
+            builder.append(textField.getLabel());
+            builder.append(textField, 3);
         }
     }
 
 
-    private BibtexEntry entry;
-
-
     private BibtexEntry getEntry() {
         return entry;
     }
 
-    private boolean isFieldModified(FieldEditor f) {
-        String text = f.getText().trim();
+    private boolean isFieldModified(FieldEditor fieldEditor) {
+        String text = fieldEditor.getText().trim();
 
         if (text.isEmpty()) {
-            return getEntry().getField(f.getFieldName()) != null;
+            return getEntry().getField(fieldEditor.getFieldName()) != null;
         } else {
-            Object entryValue = getEntry().getField(f.getFieldName());
+            Object entryValue = getEntry().getField(fieldEditor.getFieldName());
             return entryValue == null || !entryValue.toString().equals(text);
         }
     }
 
-    public void markIfModified(FieldEditor f) {
+    public void markIfModified(FieldEditor fieldEditor) {
         // Only mark as changed if not already is and the field was indeed
         // modified
-        if (!updating && !parent.panel.isBaseChanged() && isFieldModified(f)) {
+        if (!updating && !parent.panel.isBaseChanged() && isFieldModified(fieldEditor)) {
             markBaseChanged();
         }
     }
@@ -238,13 +235,13 @@ private void markBaseChanged() {
 
     /**
      * Only sets the activeField variable but does not focus it.
-     * 
+     * <p>
      * Call activate afterwards.
-     * 
-     * @param c
+     *
+     * @param fieldEditor
      */
-    public void setActive(FieldEditor c) {
-        activeField = c;
+    public void setActive(FieldEditor fieldEditor) {
+        activeField = fieldEditor;
     }
 
     public FieldEditor getActive() {
@@ -266,7 +263,6 @@ public void activate() {
 
     /**
      * Reset all fields from the data in the BibtexEntry.
-     * 
      */
     public void updateAll() {
         setEntry(getEntry());
@@ -296,8 +292,8 @@ public boolean updateField(String field, String content) {
         if (!editors.containsKey(field)) {
             return false;
         }
-        FieldEditor ed = editors.get(field);
-        ed.setText(content);
+        FieldEditor fieldEditor = editors.get(field);
+        fieldEditor.setText(content);
         return true;
     }
 
@@ -330,10 +326,10 @@ public EntryEditor getParent() {
 
     /**
      * Set up key bindings and focus listener for the FieldEditor.
-     * 
+     *
      * @param component
      */
-    private void setupJTextComponent(final JComponent component, final AutoCompleteListener acl) {
+    private void setupJTextComponent(final JComponent component, final AutoCompleteListener autoCompleteListener) {
 
         // Here we add focus listeners to the component. The funny code is because we need
         // to guarantee that the AutoCompleteListener - if used - is called before fieldListener
@@ -343,57 +339,51 @@ private void setupJTextComponent(final JComponent component, final AutoCompleteL
         // listeners, so we handle this by only adding the AutoCompleteListener and telling
         // it to call fieldListener afterwards. If no AutoCompleteListener is used, we
         // add the fieldListener normally.
-        if (acl != null) {
-            component.addKeyListener(acl);
-            component.addFocusListener(acl);
-            acl.setNextFocusListener(fieldListener);
+        if (autoCompleteListener != null) {
+            component.addKeyListener(autoCompleteListener);
+            component.addFocusListener(autoCompleteListener);
+            autoCompleteListener.setNextFocusListener(fieldListener);
         } else {
             component.addFocusListener(fieldListener);
         }
 
-        InputMap im = component.getInputMap(JComponent.WHEN_FOCUSED);
-        ActionMap am = component.getActionMap();
-
-        im.put(Globals.prefs.getKey(""Entry editor, previous entry""), ""prev"");
-        am.put(""prev"", parent.prevEntryAction);
-        im.put(Globals.prefs.getKey(""Entry editor, next entry""), ""next"");
-        am.put(""next"", parent.nextEntryAction);
-
-        im.put(Globals.prefs.getKey(""Entry editor, store field""), ""store"");
-        am.put(""store"", parent.storeFieldAction);
-        im.put(Globals.prefs.getKey(""Entry editor, next panel""), ""right"");
-        im.put(Globals.prefs.getKey(""Entry editor, next panel 2""), ""right"");
-        am.put(""left"", parent.switchLeftAction);
-        im.put(Globals.prefs.getKey(""Entry editor, previous panel""), ""left"");
-        im.put(Globals.prefs.getKey(""Entry editor, previous panel 2""), ""left"");
-        am.put(""right"", parent.switchRightAction);
-        im.put(Globals.prefs.getKey(""Help""), ""help"");
-        am.put(""help"", parent.helpAction);
-        im.put(Globals.prefs.getKey(""Save database""), ""save"");
-        am.put(""save"", parent.saveDatabaseAction);
-        im.put(Globals.prefs.getKey(""Next tab""), ""nexttab"");
-        am.put(""nexttab"", parent.frame.nextTab);
-        im.put(Globals.prefs.getKey(""Previous tab""), ""prevtab"");
-        am.put(""prevtab"", parent.frame.prevTab);
-
-        try {
-            HashSet<AWTKeyStroke> keys = new HashSet<AWTKeyStroke>(component
-                    .getFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS));
-            keys.clear();
-            keys.add(AWTKeyStroke.getAWTKeyStroke(""pressed TAB""));
-            component.setFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, keys);
-            keys = new HashSet<AWTKeyStroke>(component
-                    .getFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS));
-            keys.clear();
-            keys.add(KeyStroke.getKeyStroke(""shift pressed TAB""));
-            component.setFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS, keys);
-        } catch (Throwable t) {
-            System.err.println(t);
-        }
+        InputMap inputMap = component.getInputMap(JComponent.WHEN_FOCUSED);
+        ActionMap actionMap = component.getActionMap();
+
+        inputMap.put(Globals.prefs.getKey(""Entry editor, previous entry""), ""prev"");
+        actionMap.put(""prev"", parent.prevEntryAction);
+        inputMap.put(Globals.prefs.getKey(""Entry editor, next entry""), ""next"");
+        actionMap.put(""next"", parent.nextEntryAction);
+
+        inputMap.put(Globals.prefs.getKey(""Entry editor, store field""), ""store"");
+        actionMap.put(""store"", parent.storeFieldAction);
+        inputMap.put(Globals.prefs.getKey(""Entry editor, next panel""), ""right"");
+        inputMap.put(Globals.prefs.getKey(""Entry editor, next panel 2""), ""right"");
+        actionMap.put(""left"", parent.switchLeftAction);
+        inputMap.put(Globals.prefs.getKey(""Entry editor, previous panel""), ""left"");
+        inputMap.put(Globals.prefs.getKey(""Entry editor, previous panel 2""), ""left"");
+        actionMap.put(""right"", parent.switchRightAction);
+        inputMap.put(Globals.prefs.getKey(""Help""), ""help"");
+        actionMap.put(""help"", parent.helpAction);
+        inputMap.put(Globals.prefs.getKey(""Save database""), ""save"");
+        actionMap.put(""save"", parent.saveDatabaseAction);
+        inputMap.put(Globals.prefs.getKey(""Next tab""), ""nexttab"");
+        actionMap.put(""nexttab"", parent.frame.nextTab);
+        inputMap.put(Globals.prefs.getKey(""Previous tab""), ""prevtab"");
+        actionMap.put(""prevtab"", parent.frame.prevTab);
+
+
+        HashSet<AWTKeyStroke> keys = new HashSet<>(component
+                .getFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS));
+        keys.clear();
+        keys.add(AWTKeyStroke.getAWTKeyStroke(""pressed TAB""));
+        component.setFocusTraversalKeys(KeyboardFocusManager.FORWARD_TRAVERSAL_KEYS, keys);
+        keys = new HashSet<>(component
+                .getFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS));
+        keys.clear();
+        keys.add(KeyStroke.getKeyStroke(""shift pressed TAB""));
+        component.setFocusTraversalKeys(KeyboardFocusManager.BACKWARD_TRAVERSAL_KEYS, keys);
 
     }
 
-
-    private final FocusListener fieldListener = new EntryEditorTabFocusListener(this);
-
 }, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2014 JabRef contributors.
+/*  Copyright (C) 2003-2015 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -31,9 +31,10 @@
  */
 class EntryEditorTabFocusListener implements FocusListener {
 
-    private JTextComponent c;
+    private JTextComponent textComponent;
+
+    private DocumentListener documentListener;
 
-    private DocumentListener d;
     private final EntryEditorTab entryEditorTab;
 
 
@@ -42,27 +43,27 @@ public EntryEditorTabFocusListener(final EntryEditorTab entryEditorTab) {
     }
 
     @Override
-    public void focusGained(FocusEvent e) {
+    public void focusGained(FocusEvent event) {
 
         synchronized (this) {
-            if (c != null) {
-                c.getDocument().removeDocumentListener(d);
-                c = null;
-                d = null;
+            if (textComponent != null) {
+                textComponent.getDocument().removeDocumentListener(documentListener);
+                textComponent = null;
+                documentListener = null;
             }
 
-            if (e.getSource() instanceof JTextComponent) {
+            if (event.getSource() instanceof JTextComponent) {
 
-                c = (JTextComponent) e.getSource();
+                textComponent = (JTextComponent) event.getSource();
                 /**
                  * [ 1553552 ] Not properly detecting changes to flag as
                  * changed
                  */
-                d = new DocumentListener() {
+                documentListener = new DocumentListener() {
 
                     void fire() {
-                        if (c.isFocusOwner()) {
-                            entryEditorTab.markIfModified((FieldEditor) c);
+                        if (textComponent.isFocusOwner()) {
+                            entryEditorTab.markIfModified((FieldEditor) textComponent);
                         }
                     }
 
@@ -81,14 +82,14 @@ public void removeUpdate(DocumentEvent e) {
                         fire();
                     }
                 };
-                c.getDocument().addDocumentListener(d);
+                textComponent.getDocument().addDocumentListener(documentListener);
 
                 /**
                  * Makes the vertical scroll panel view follow the focus
                  */
-                Component cScrollPane = c.getParent().getParent();
-                if (cScrollPane instanceof JScrollPane) {
-                    JScrollPane componentPane = (JScrollPane) cScrollPane;
+                Component scrollPane = textComponent.getParent().getParent();
+                if (scrollPane instanceof JScrollPane) {
+                    JScrollPane componentPane = (JScrollPane) scrollPane;
                     Component cPane = componentPane.getParent();
                     if (cPane instanceof JPanel) {
                         JPanel panel = (JPanel) cPane;
@@ -100,21 +101,21 @@ public void removeUpdate(DocumentEvent e) {
             }
         }
 
-        entryEditorTab.setActive((FieldEditor) e.getSource());
+        entryEditorTab.setActive((FieldEditor) event.getSource());
 
     }
 
     @Override
-    public void focusLost(FocusEvent e) {
+    public void focusLost(FocusEvent event) {
         synchronized (this) {
-            if (c != null) {
-                c.getDocument().removeDocumentListener(d);
-                c = null;
-                d = null;
+            if (textComponent != null) {
+                textComponent.getDocument().removeDocumentListener(documentListener);
+                textComponent = null;
+                documentListener = null;
             }
         }
-        if (!e.isTemporary()) {
-            entryEditorTab.getParent().updateField(e.getSource());
+        if (!event.isTemporary()) {
+            entryEditorTab.getParent().updateField(event.getSource());
         }
     }
 }, @@ -1,4 +1,4 @@
-/*  Copyright (C) 2003-2011 JabRef contributors.
+/*  Copyright (C) 2003-2015 JabRef contributors.
     This program is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation; either version 2 of the License, or
@@ -36,8 +36,8 @@ public EntryEditorTabList() {
     }
 
     private void init() {
-        list = new ArrayList<List<String>>();
-        names = new ArrayList<String>();
+        list = new ArrayList<>();
+        names = new ArrayList<>();
         int i = 0;
         String name;
         String[] fields;, @@ -1,28 +1,17 @@
-/*
-Copyright (C) 2004 E. Putrycz
-
-All programs in this directory and
-subdirectories are published under the GNU General Public License as
-described below.
-
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or (at
-your option) any later version.
-
-This program is distributed in the hope that it will be useful, but
-WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
-General Public License for more details.
-
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
-USA
-
-Further information about the GNU GPL is available at:
-http://www.gnu.org/copyleft/gpl.ja.html
-
+/*  Copyright (C) 2003-2015 JabRef contributors.
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License along
+    with this program; if not, write to the Free Software Foundation, Inc.,
+    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */
 package net.sf.jabref.gui.entryeditor;
 
@@ -103,18 +92,18 @@ public void dragExit(DropTargetEvent dte) {
      * @see java.awt.dnd.DropTargetListener#drop(java.awt.dnd.DropTargetDropEvent)
      */
     @Override
-    public void drop(DropTargetDropEvent dtde) {
-        Transferable tsf = dtde.getTransferable();
-        dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);
+    public void drop(DropTargetDropEvent event) {
+        Transferable tsf = event.getTransferable();
+        event.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);
         //try with an URL
-        DataFlavor dtURL = null;
+        DataFlavor dataFlavor = null;
         try {
-            dtURL = new DataFlavor(""application/x-java-url; class=java.net.URL"");
+            dataFlavor = new DataFlavor(""application/x-java-url; class=java.net.URL"");
         } catch (ClassNotFoundException e) {
             LOGGER.warn(""Could not find DropTargetDropEvent class"", e);
         }
         try {
-            URL url = (URL) tsf.getTransferData(dtURL);
+            URL url = (URL) tsf.getTransferData(dataFlavor);
             //insert URL
             editor.setText(url.toString());
             storeFieldAction.actionPerformed(new ActionEvent(editor, 0, """"));, ",Moves the classes related to the EntryEditor into a separate GUI package and performs a few refactorings and quality improvements on the way.,Move and refactor EntryEditor
